{
  if (document.getLength() > Constants.CHAT_BUFFER_SIZE) {
    Element firstElement=this.document.getDefaultRootElement().getElement(0);
    try {
      if (firstElement != null)       this.document.remove(firstElement.getStartOffset(),firstElement.getEndOffset() - firstElement.getStartOffset());
      String idAttr=(String)firstElement.getAttributes().getAttribute("identifier");
      if (idAttr != null && idAttr.equals("messageHeader")) {
        Element secondElement=this.document.getDefaultRootElement().getElement(0);
        this.document.remove(secondElement.getStartOffset(),secondElement.getEndOffset() - secondElement.getStartOffset());
      }
    }
 catch (    BadLocationException e) {
      LOGGER.error("Error removing messages from chat: ",e);
    }
  }
}
