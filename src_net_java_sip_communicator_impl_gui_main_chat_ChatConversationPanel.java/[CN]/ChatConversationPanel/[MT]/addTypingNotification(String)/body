{
  if (typingNotificationLabel == null) {
    typingNotificationLabel=new JLabel(typingNotification,typingIcon,SwingConstants.CENTER);
    typingNotificationLabel.setForeground(Color.GRAY);
    typingNotificationLabel.setFont(typingNotificationLabel.getFont().deriveFont(11f));
    typingNotificationLabel.setVerticalTextPosition(JLabel.BOTTOM);
    typingNotificationLabel.setHorizontalTextPosition(JLabel.LEFT);
    typingNotificationLabel.setIconTextGap(0);
    ((JComponent)getViewport().getView()).add(typingNotificationLabel,BorderLayout.SOUTH);
  }
 else {
    typingNotificationLabel.setText(typingNotification);
    if (typingNotification != null && typingNotification.length() > 0)     typingNotificationLabel.setIcon(typingIcon);
 else     typingNotificationLabel.setIcon(null);
  }
synchronized (scrollToBottomRunnable) {
    scrollToBottomIsPending=true;
  }
  revalidate();
  repaint();
}
