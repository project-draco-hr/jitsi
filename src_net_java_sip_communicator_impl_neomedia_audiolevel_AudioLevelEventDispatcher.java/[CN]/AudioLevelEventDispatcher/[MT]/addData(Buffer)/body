{
synchronized (this) {
    dataLength=buffer.getLength();
    if (data == null || data.length < dataLength) {
      data=new byte[dataLength];
    }
    System.arraycopy(buffer.getData(),buffer.getOffset(),data,0,dataLength);
    notifyAll();
  }
}
