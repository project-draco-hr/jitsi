{
  try {
    if (text.charAt(0) == ',') {
      int color=Integer.parseInt("" + text.charAt(1) + text.charAt(2));
      return Color.values()[color];
    }
    throw new IllegalArgumentException("no color separator present, hence no background color present");
  }
 catch (  StringIndexOutOfBoundsException e) {
    throw new IllegalArgumentException("text stopped before the background color code was finished");
  }
catch (  NumberFormatException e) {
    throw new IllegalArgumentException("value isn't a background color code: " + text.substring(1,INDEX_END_COLOR_CODE));
  }
catch (  ArrayIndexOutOfBoundsException e) {
    LOGGER.info("Specified IRC color is not a known color code.",e);
    throw new IllegalArgumentException("background color value " + text.substring(1,INDEX_END_COLOR_CODE) + " is not a known color");
  }
}
