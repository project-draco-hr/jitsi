{
  int initialCount=getAutoAnswerItemCount(parentMenu);
  addAccountInternal(protocolProvider,parentMenu);
  int itemsCount=getAutoAnswerItemCount(parentMenu);
  if (ConfigurationManager.isAutoAnswerDisableSubmenu() && itemsCount != initialCount) {
    if (initialCount == 1) {
      for (int i=0; i < parentMenu.getItemCount(); i++) {
        JMenuItem item=parentMenu.getItem(i);
        if (item instanceof AutoAnswerMenuItem) {
          item.setText(AutoAnswerMenuItem.getItemDisplayName(((AutoAnswerMenuItem)item).getProtocolProvider()));
          item.setIcon(new ImageIcon(((AutoAnswerMenuItem)item).getProtocolProvider().getProtocolIcon().getIcon(ProtocolIcon.ICON_SIZE_16x16)));
        }
      }
    }
 else     if (initialCount == 0) {
      AutoAnswerMenuItem item=getAutoAnswerItem(parentMenu,0);
      if (item != null) {
        item.setText(GuiActivator.getResources().getI18NString("service.gui.AUTO_ANSWER"));
        item.setIcon(new ImageIcon(ImageLoader.getImage(ImageLoader.CALL_16x16_ICON)));
      }
    }
  }
}
