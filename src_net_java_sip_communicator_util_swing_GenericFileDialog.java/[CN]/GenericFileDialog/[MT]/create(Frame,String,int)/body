{
  int operation=-1;
  if (OSUtils.IS_MAC) {
    if (fileOperation == SipCommFileChooser.LOAD_FILE_OPERATION)     operation=FileDialog.LOAD;
 else     if (fileOperation == SipCommFileChooser.SAVE_FILE_OPERATION)     operation=FileDialog.SAVE;
 else     try {
      throw new Exception("UnknownFileOperation");
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    return new SipCommFileDialogImpl(parent,title,operation);
  }
 else {
    if (fileOperation == SipCommFileChooser.LOAD_FILE_OPERATION)     operation=JFileChooser.OPEN_DIALOG;
 else     if (fileOperation == SipCommFileChooser.SAVE_FILE_OPERATION)     operation=JFileChooser.SAVE_DIALOG;
 else     try {
      throw new Exception("UnknownFileOperation");
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    return new SipCommFileChooserImpl(title,operation);
  }
}
