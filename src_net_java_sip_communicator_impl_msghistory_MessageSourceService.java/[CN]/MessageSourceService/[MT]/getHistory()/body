{
synchronized (historyID) {
    HistoryService historyService=MessageHistoryActivator.getMessageHistoryService().getHistoryService();
    if (history == null && !historyService.isHistoryCreated(historyID))     return null;
    if (history == null) {
      if (historyService.isHistoryExisting(historyID))       history=historyService.getHistory(historyID);
 else       history=historyService.createHistory(historyID,recordStructure);
    }
    return history;
  }
}
