{
synchronized (recentMessages) {
    List<MessageSourceContact> sourceContactsToAdd=getSourceContacts(provider,isStatusChanged);
    if (sourceContactsToAdd.isEmpty()) {
      Collection<EventObject> res=messageHistoryService.findRecentMessagesPerContact(numberOfMessages,provider.getAccountID().getAccountUniqueID(),null,isSMSEnabled);
      List<MessageSourceContact> newMsc=new ArrayList<MessageSourceContact>();
      processEventObjects(res,newMsc,isStatusChanged);
      addNewRecentMessages(newMsc);
      for (      MessageSourceContact msc : newMsc) {
        saveRecentMessageToHistory(msc);
      }
    }
 else     addNewRecentMessages(sourceContactsToAdd);
  }
}
