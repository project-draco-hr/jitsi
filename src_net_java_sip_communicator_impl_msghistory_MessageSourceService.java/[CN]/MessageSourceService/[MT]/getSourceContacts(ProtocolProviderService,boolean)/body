{
  String providerID=provider.getAccountID().getAccountUniqueID();
  List<String> recentMessagesContactIDs=getRecentContactIDs(providerID,recentMessages.size() < numberOfMessages ? null : oldestRecentMessage);
  List<MessageSourceContact> sourceContactsToAdd=new ArrayList<MessageSourceContact>();
  for (  String contactID : recentMessagesContactIDs) {
    Collection<EventObject> res=messageHistoryService.findRecentMessagesPerContact(numberOfMessages,providerID,contactID,isSMSEnabled);
    processEventObjects(res,sourceContactsToAdd,isStatusChanged);
  }
  return sourceContactsToAdd;
}
