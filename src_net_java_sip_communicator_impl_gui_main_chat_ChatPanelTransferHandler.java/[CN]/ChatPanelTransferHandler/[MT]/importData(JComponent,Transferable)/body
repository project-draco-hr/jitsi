{
  if (comp instanceof JTextComponent) {
    DataFlavor flavor=getFlavor(transferable.getTransferDataFlavors());
    if (flavor != null) {
      InputContext inputContext=comp.getInputContext();
      if (inputContext != null) {
        inputContext.endComposition();
      }
      try {
        BufferedReader reader=new BufferedReader(flavor.getReaderForText(transferable));
        StringBuffer buffToPaste=new StringBuffer();
        String line=null;
        while ((line=reader.readLine()) != null) {
          buffToPaste.append(line).append("\n");
        }
        ((JTextComponent)comp).replaceSelection(buffToPaste.toString());
        return true;
      }
 catch (      UnsupportedFlavorException ufe) {
      }
catch (      IOException ioe) {
      }
    }
  }
  return false;
}
