{
  bundleContext=context;
  context.addServiceListener(this);
  if (UtilActivator.getConfigurationService().getBoolean(DnsUtilActivator.PNAME_BACKUP_RESOLVER_ENABLED,DnsUtilActivator.PDEFAULT_BACKUP_RESOLVER_ENABLED) && !getConfigurationService().getBoolean(CustomResolver.PNAME_DNSSEC_RESOLVER_ENABLED,CustomResolver.PDEFAULT_DNSSEC_RESOLVER_ENABLED)) {
    bundleContext.registerService(CustomResolver.class.getName(),new ParallelResolverImpl(),null);
  }
  if (getConfigurationService().getBoolean(CustomResolver.PNAME_DNSSEC_RESOLVER_ENABLED,CustomResolver.PDEFAULT_DNSSEC_RESOLVER_ENABLED)) {
    bundleContext.registerService(CustomResolver.class.getName(),new ConfigurableDnssecResolver(),null);
  }
  dnsConfigActivator=new DnsConfigActivator();
  dnsConfigActivator.start(context);
}
