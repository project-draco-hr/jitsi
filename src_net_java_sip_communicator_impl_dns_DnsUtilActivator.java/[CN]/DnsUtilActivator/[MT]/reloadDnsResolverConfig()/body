{
  ResolverConfig.refresh();
  if (logger.isInfoEnabled()) {
    StringBuilder sb=new StringBuilder();
    sb.append("Reloading resolver config, default DNS servers are: ");
    ResolverConfig config=ResolverConfig.getCurrentConfig();
    if (config != null && config.servers() != null) {
      for (      String s : config.servers()) {
        sb.append(s);
        sb.append(", ");
      }
    }
 else {
      sb.append("undefined");
    }
    logger.info(sb.toString());
  }
  if (Lookup.getDefaultResolver() instanceof CustomResolver) {
    if (logger.isInfoEnabled()) {
      logger.info("Resetting custom resolver " + Lookup.getDefaultResolver().getClass().getSimpleName());
    }
    ((CustomResolver)Lookup.getDefaultResolver()).reset();
  }
 else {
    if (!loadDNSProxyForward())     Lookup.refreshDefault();
  }
}
