{
  if (attrs != null) {
    String width=null;
    String height=null;
    for (    Map.Entry<String,String> mapEntry : attrs.entrySet()) {
      String key=mapEntry.getKey();
      String value=mapEntry.getValue();
      if (key.equals("rtcp-fb")) {
        if (value.equals("nack pli"))         usePLI=true;
      }
 else       if (key.equals("imageattr")) {
        Dimension res[]=parseSendRecvResolution(value);
        if (res != null) {
          if ((attrs.containsKey("width") || attrs.containsKey("height")) && outputSize != null)           continue;
          outputSize=res[1];
          qualityControl.setRemoteSendMaxPreset(new QualityPreset(res[0]));
          qualityControl.setRemoteReceiveResolution(outputSize);
          ((VideoMediaDeviceSession)getDeviceSession()).setOutputSize(outputSize);
        }
      }
 else       if (key.equals("CIF")) {
        Dimension dim=new Dimension(352,288);
        if (outputSize == null || (outputSize.width < dim.width && outputSize.height < dim.height)) {
          outputSize=dim;
          ((VideoMediaDeviceSession)getDeviceSession()).setOutputSize(outputSize);
        }
      }
 else       if (key.equals("QCIF")) {
        Dimension dim=new Dimension(176,144);
        if (outputSize == null || (outputSize.width < dim.width && outputSize.height < dim.height)) {
          outputSize=dim;
          ((VideoMediaDeviceSession)getDeviceSession()).setOutputSize(outputSize);
        }
      }
 else       if (key.equals("VGA")) {
        Dimension dim=new Dimension(640,480);
        if (outputSize == null || (outputSize.width < dim.width && outputSize.height < dim.height)) {
          outputSize=dim;
          ((VideoMediaDeviceSession)getDeviceSession()).setOutputSize(outputSize);
        }
      }
 else       if (key.equals("CUSTOM")) {
        String args[]=value.split(",");
        if (args.length < 3)         continue;
        try {
          Dimension dim=new Dimension(Integer.parseInt(args[0]),Integer.parseInt(args[1]));
          if (outputSize == null || (outputSize.width < dim.width && outputSize.height < dim.height)) {
            outputSize=dim;
            ((VideoMediaDeviceSession)getDeviceSession()).setOutputSize(outputSize);
          }
        }
 catch (        Exception e) {
        }
      }
 else       if (key.equals("width")) {
        width=value;
        if (height != null) {
          outputSize=new Dimension(Integer.parseInt(width),Integer.parseInt(height));
          ((VideoMediaDeviceSession)getDeviceSession()).setOutputSize(outputSize);
        }
      }
 else       if (key.equals("height")) {
        height=value;
        if (width != null) {
          outputSize=new Dimension(Integer.parseInt(width),Integer.parseInt(height));
          ((VideoMediaDeviceSession)getDeviceSession()).setOutputSize(outputSize);
        }
      }
    }
  }
}
