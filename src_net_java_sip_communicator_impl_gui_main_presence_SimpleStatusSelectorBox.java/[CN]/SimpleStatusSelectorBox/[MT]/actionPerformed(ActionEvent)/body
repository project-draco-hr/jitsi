{
  JMenuItem menuItem=(JMenuItem)e.getSource();
  String itemName=menuItem.getName();
  if (itemName.equals("online")) {
    if (!protocolProvider.isRegistered()) {
      this.mainFrame.getLoginManager().login(protocolProvider);
    }
  }
 else {
    try {
      mainFrame.getLoginManager().setManuallyDisconnected(true);
      protocolProvider.unregister();
    }
 catch (    OperationFailedException e1) {
      logger.error("Unable to unregister the protocol provider: " + protocolProvider + " due to the following exception: "+ e1);
    }
  }
}
