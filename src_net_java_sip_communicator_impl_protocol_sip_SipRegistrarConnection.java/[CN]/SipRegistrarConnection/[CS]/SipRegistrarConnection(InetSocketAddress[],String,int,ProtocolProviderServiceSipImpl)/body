{
  this.registrationTransport=registrationTransport;
  this.registrarAddresses=registrarAddresses;
  this.sipProvider=sipProviderCallback;
  this.currentRegistrarAddress=registrarAddresses[0];
  registrarURI=sipProvider.getAddressFactory().createSipURI(null,this.currentRegistrarAddress.getAddress().getHostAddress());
  if (this.currentRegistrarAddress.getPort() != ListeningPoint.PORT_5060)   registrarURI.setPort(this.currentRegistrarAddress.getPort());
  registrarURI.setTransportParam(registrationTransport);
  this.registrationsExpiration=expirationTimeout;
  getAddressOfRecord();
  sipProviderCallback.registerMethodProcessor(Request.REGISTER,this);
}
