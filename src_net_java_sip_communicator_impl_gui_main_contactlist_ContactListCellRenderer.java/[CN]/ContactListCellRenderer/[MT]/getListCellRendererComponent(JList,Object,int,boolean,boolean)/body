{
  if (value instanceof MetaContactNode) {
    MetaContactNode contactNode=(MetaContactNode)value;
    MetaContact contactItem=contactNode.getContact();
    String toolTipText="<html>" + contactItem.getDisplayName();
    this.nameLabel.setText(contactItem.getDisplayName());
    this.nameLabel.setIcon(contactNode.getStatusIcon());
    this.nameLabel.setFont(this.getFont().deriveFont(Font.PLAIN));
    this.setBorder(BorderFactory.createEmptyBorder(1,1,1,1));
    this.setBounds(0,0,list.getWidth() - 2,17);
    this.buttonsPanel.removeAll();
    Iterator i=contactNode.getProtocolIcons().values().iterator();
    while (i.hasNext()) {
      Image protocolStatusIcon=(Image)i.next();
      SIPCommButton contactProtocolButton=new SIPCommButton(protocolStatusIcon,protocolStatusIcon);
      this.buttonsPanel.add(contactProtocolButton);
    }
    this.add(buttonsPanel,BorderLayout.EAST);
    toolTipText+="</html>";
    this.setToolTipText(toolTipText);
    this.isLeaf=true;
  }
 else   if (value instanceof MetaContactGroup) {
    MetaContactGroup groupItem=(MetaContactGroup)value;
    this.nameLabel.setText(groupItem.getGroupName());
    this.nameLabel.setIcon(new ImageIcon(ImageLoader.getImage(ImageLoader.GROUPS_16x16_ICON)));
    this.nameLabel.setFont(this.getFont().deriveFont(Font.BOLD));
    this.setBorder(BorderFactory.createEmptyBorder(2,2,2,2));
    this.setBounds(0,0,list.getWidth() - 2,20);
    this.remove(buttonsPanel);
    this.isLeaf=false;
  }
  this.isSelected=isSelected;
  return this;
}
