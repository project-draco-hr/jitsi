{
  if (joustSimConnState == State.ONLINE)   return RegistrationState.REGISTERED;
 else   if (joustSimConnState == State.CONNECTING)   return RegistrationState.REGISTERING;
 else   if (joustSimConnState == State.AUTHORIZING)   return RegistrationState.AUTHENTICATING;
 else   if (joustSimConnState == State.CONNECTINGAUTH)   return RegistrationState.AUTHENTICATING;
 else   if (joustSimConnState == State.SIGNINGON)   return RegistrationState.REGISTERING;
 else   if (joustSimConnState == State.DISCONNECTED || joustSimConnState == State.NOTCONNECTED)   return RegistrationState.UNREGISTERED;
 else   if (joustSimConnState == State.FAILED)   return RegistrationState.CONNECTION_FAILED;
 else {
    logger.warn("Unknown state " + joustSimConnState + ". Defaulting to "+ RegistrationState.UNREGISTERED);
    return RegistrationState.UNREGISTERED;
  }
}
