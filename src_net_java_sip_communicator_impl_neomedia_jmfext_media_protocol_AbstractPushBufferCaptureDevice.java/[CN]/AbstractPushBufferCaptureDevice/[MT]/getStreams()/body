{
  if (streams == null) {
    FormatControl[] formatControls=internalGetFormatControls();
    if (formatControls != null) {
      int formatControlCount=formatControls.length;
      streams=new AbstractPushBufferStream[formatControlCount];
      for (int i=0; i < formatControlCount; i++)       streams[i]=createStream(i,formatControls[i]);
      if (started)       for (      AbstractPushBufferStream stream : streams)       try {
        stream.start();
      }
 catch (      IOException ioex) {
        throw new UndeclaredThrowableException(ioex);
      }
    }
  }
  if (streams == null)   return EMPTY_STREAMS;
 else {
    PushBufferStream[] clone=new PushBufferStream[streams.length];
    System.arraycopy(streams,0,clone,0,streams.length);
    return clone;
  }
}
