{
  long delta=guessIndex(seqNum) - (((long)this.roc) << 16 | this.seqNum);
  if (delta > 0) {
    replayWindow=replayWindow << delta;
    replayWindow|=1;
  }
 else {
    replayWindow|=(1 << delta);
  }
  if (seqNum > this.seqNum) {
    this.seqNum=seqNum & 0xffff;
  }
  if (this.guessedROC > this.roc) {
    this.roc=this.guessedROC;
    this.seqNum=seqNum & 0xffff;
  }
}
