{
  InetSocketAddress destinationInetAddress=null;
  InetSocketAddress outboundProxy=getOutboundProxy();
  if (outboundProxy != null) {
    if (logger.isTraceEnabled())     logger.trace("Will use proxy address");
    destinationInetAddress=outboundProxy;
  }
 else {
    try {
      destinationInetAddress=resolveSipAddress(host);
    }
 catch (    UnknownHostException ex) {
      throw new IllegalArgumentException(host + " is not a valid internet address.",ex);
    }
  }
  if (logger.isDebugEnabled())   logger.debug("Returning address " + destinationInetAddress + " for destination "+ host);
  return destinationInetAddress;
}
