{
  InetSocketAddress destinationInetAddress=null;
  InetSocketAddress outboundProxy=connection.getAddress();
  if (outboundProxy != null) {
    if (logger.isTraceEnabled())     logger.trace("Will use proxy address");
    destinationInetAddress=outboundProxy;
  }
 else {
    ProxyConnection tempConn=new AutoProxyConnection((SipAccountID)getAccountID(),host,getDefaultTransport());
    destinationInetAddress=tempConn.getAddress();
  }
  if (logger.isDebugEnabled())   logger.debug("Returning address " + destinationInetAddress + " for destination "+ host);
  return destinationInetAddress;
}
