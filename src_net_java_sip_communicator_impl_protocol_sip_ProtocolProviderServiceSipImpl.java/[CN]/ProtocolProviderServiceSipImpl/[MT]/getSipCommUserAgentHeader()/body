{
  if (userAgentHeader == null) {
    try {
      List userAgentTokens=new LinkedList();
      Version ver=SipActivator.getVersionService().getCurrentVersion();
      userAgentTokens.add(ver.getApplicationName());
      userAgentTokens.add(ver.getVersionMajor() + "." + ver.getVersionMinor());
      if (ver.isNightly())       userAgentTokens.add(ver.getNightlyBuildID());
      String osName=System.getProperty("os.name");
      userAgentTokens.add(osName);
      userAgentHeader=this.headerFactory.createUserAgentHeader(userAgentTokens);
    }
 catch (    ParseException ex) {
      return null;
    }
  }
  return userAgentHeader;
}
