{
  InetSocketAddress addressObj4=null;
  InetSocketAddress addressObj6=null;
  try {
    addressObj4=NetworkUtils.getARecord(address,defaultPort);
  }
 catch (  ParseException ex) {
    logger.error("Error parsing dns record.",ex);
  }
  try {
    addressObj6=NetworkUtils.getAAAARecord(address,defaultPort);
  }
 catch (  ParseException ex) {
    logger.error("Error parsing dns record.",ex);
  }
  if (preferIPv6Addresses) {
    if (addressObj6 != null)     resultAddresses.add(addressObj6);
    if (addressObj4 != null)     resultAddresses.add(addressObj4);
  }
 else {
    if (addressObj4 != null)     resultAddresses.add(addressObj4);
    if (addressObj6 != null)     resultAddresses.add(addressObj6);
  }
}
