{
  List<MethodProcessor> processors=methodProcessors.get(method);
  if (processors == null) {
    processors=new LinkedList<MethodProcessor>();
    methodProcessors.put(method,processors);
  }
 else {
    Class<? extends MethodProcessor> methodProcessorClass=methodProcessor.getClass();
    for (Iterator<MethodProcessor> processorIter=processors.iterator(); processorIter.hasNext(); ) {
      if (processorIter.next().getClass().equals(methodProcessorClass)) {
        processorIter.remove();
      }
    }
  }
  processors.add(methodProcessor);
}
