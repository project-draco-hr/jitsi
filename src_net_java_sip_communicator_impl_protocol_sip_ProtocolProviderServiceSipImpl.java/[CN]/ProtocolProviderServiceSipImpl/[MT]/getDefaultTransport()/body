{
  SipRegistrarConnection srConnection=getRegistrarConnection();
  if (srConnection != null)   return srConnection.getTransport();
  if (outboundProxySocketAddress != null && outboundProxyTransport != null) {
    return outboundProxyTransport;
  }
 else {
    String userSpecifiedDefaultTransport=SipActivator.getConfigurationService().getString(DEFAULT_TRANSPORT);
    if (userSpecifiedDefaultTransport != null) {
      return userSpecifiedDefaultTransport;
    }
 else     return ListeningPoint.UDP;
  }
}
