{
  Transaction transaction;
  if (transactionTerminatedEvent.isServerTransaction())   transaction=transactionTerminatedEvent.getServerTransaction();
 else   transaction=transactionTerminatedEvent.getClientTransaction();
  if (transaction == null) {
    logger.debug("ignoring a transactionless transaction terminated event");
    return;
  }
  Request request=transaction.getRequest();
  logger.debug("Transaction terminated for req=" + request);
  SipListener processor=(SipListener)methodProcessors.get(request.getMethod());
  if (processor == null) {
    return;
  }
  logger.debug("Found one processor for method " + request.getMethod() + ", processor is="+ processor.toString());
  processor.processTransactionTerminated(transactionTerminatedEvent);
}
