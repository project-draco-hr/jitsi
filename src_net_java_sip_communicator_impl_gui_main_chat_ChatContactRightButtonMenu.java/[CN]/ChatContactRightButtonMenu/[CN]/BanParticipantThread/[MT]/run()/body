{
  try {
    chatRoom.banParticipant((ChatRoomMember)chatContact.getSourceContact(),reason);
  }
 catch (  OperationFailedException e) {
    logger.error("Failed to ban participant.",e);
    if (e.getErrorCode() == OperationFailedException.NOT_ENOUGH_PRIVILEGES) {
      new ErrorDialog(chatPanel.getChatWindow(),Messages.getI18NString("banFailed").getText(),Messages.getI18NString("banFailedNotEnoughPermissions",new String[]{chatContact.getName()}).getText(),e).showDialog();
    }
 else     if (e.getErrorCode() == OperationFailedException.FORBIDDEN) {
      new ErrorDialog(chatPanel.getChatWindow(),Messages.getI18NString("banFailed").getText(),Messages.getI18NString("banFailedNotAllowed",new String[]{chatContact.getName()}).getText(),e).showDialog();
    }
 else {
      new ErrorDialog(chatPanel.getChatWindow(),Messages.getI18NString("banFailed").getText(),Messages.getI18NString("banFailedGeneralError",new String[]{chatContact.getName()}).getText(),e).showDialog();
    }
  }
}
