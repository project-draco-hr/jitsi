{
  if (e.getButton() == MouseEvent.BUTTON3 && !popupVisible) {
    int x=e.getX(), y=e.getY();
    hiddenWindow.setLocation(x,y);
    hiddenWindow.setVisible(true);
    this.popup.show(hiddenWindow,0,0);
    hiddenWindow.toFront();
    popupVisible=true;
  }
 else {
    popup.setVisible(false);
    popupVisible=false;
  }
}
