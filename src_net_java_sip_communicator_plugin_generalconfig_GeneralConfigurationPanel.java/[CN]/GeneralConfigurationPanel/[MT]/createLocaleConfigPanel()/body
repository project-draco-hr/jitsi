{
  JPanel localeConfigPanel=GeneralConfigPluginActivator.createConfigSectionComponent(Resources.getString("plugin.generalconfig.DEFAULT_LANGUAGE"));
  final JComboBox localesConfigComboBox=new JComboBox();
  Iterator<Locale> iter=Resources.getResources().getAvailableLocales();
  while (iter.hasNext()) {
    Locale locale=iter.next();
    localesConfigComboBox.addItem(locale.getDisplayLanguage(locale));
  }
  Locale currLocale=ConfigurationManager.getCurrentLanguage();
  localesConfigComboBox.setSelectedItem(currLocale.getDisplayLanguage(currLocale));
  localesConfigComboBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      GeneralConfigPluginActivator.getUIService().getPopupDialog().showMessagePopupDialog(Resources.getString("plugin.generalconfig.DEFAULT_LANGUAGE_RESTART_WARN"));
      String language=(String)localesConfigComboBox.getSelectedItem();
      Iterator<Locale> iter=Resources.getResources().getAvailableLocales();
      while (iter.hasNext()) {
        Locale locale=iter.next();
        if (locale.getDisplayLanguage(locale).equals(language)) {
          ConfigurationManager.setLanguage(locale);
          break;
        }
      }
    }
  }
);
  localeConfigPanel.add(localesConfigComboBox);
  String label="* " + Resources.getString("plugin.generalconfig.DEFAULT_LANGUAGE_RESTART_WARN");
  JLabel warnLabel=new JLabel(label);
  warnLabel.setToolTipText(label);
  warnLabel.setForeground(Color.GRAY);
  warnLabel.setFont(warnLabel.getFont().deriveFont(8));
  warnLabel.setBorder(BorderFactory.createEmptyBorder(0,0,8,0));
  warnLabel.setHorizontalAlignment(JLabel.RIGHT);
  localeConfigPanel.add(warnLabel);
  return localeConfigPanel;
}
