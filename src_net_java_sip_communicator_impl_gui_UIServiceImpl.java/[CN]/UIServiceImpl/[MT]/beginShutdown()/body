{
  try {
    if (mainFrame != null)     mainFrame.dispose();
  }
  finally {
    try {
      GuiActivator.bundleContext.getBundle(0).stop();
    }
 catch (    BundleException ex) {
      logger.error("Failed to being gentle shutdown of Felix.",ex);
      System.exit(0);
    }
  }
}
