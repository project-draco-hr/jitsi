{
  this.setDefaultThemePack();
  String singleWidnowProp=GuiActivator.getResources().getSettingsString("impl.gui.SINGLE_WINDOW_INTERFACE");
  if (Boolean.parseBoolean(singleWidnowProp))   singleWindowContainer=new SingleWindowContainer();
  this.mainFrame=new MainFrame();
  if (UIManager.getLookAndFeel() instanceof SIPCommLookAndFeel)   initCustomFonts();
  mainFrame.setContactList(GuiActivator.getContactListService());
  this.mainFrame.initBounds();
  GuiActivator.getUIService().registerExportedWindow(mainFrame);
  this.loginManager=new LoginManager(mainFrame);
  this.popupDialog=new PopupDialogImpl();
  this.wizardContainer=new AccountRegWizardContainerImpl(mainFrame);
  if (ConfigurationManager.isTransparentWindowEnabled()) {
    try {
      WindowUtils.setWindowTransparent(mainFrame,true);
    }
 catch (    UnsupportedOperationException ex) {
      logger.error(ex.getMessage(),ex);
      ConfigurationManager.setTransparentWindowEnabled(false);
    }
  }
  if (ConfigurationManager.isApplicationVisible())   mainFrame.setFrameVisible(true);
  SwingUtilities.invokeLater(new RunLoginGui());
  this.initExportedWindows();
  KeyboardFocusManager focusManager=KeyboardFocusManager.getCurrentKeyboardFocusManager();
  focusManager.addKeyEventDispatcher(new KeyBindingsDispatching(focusManager));
}
