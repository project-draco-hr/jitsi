{
  if (evt.getPropertyName().equals("net.java.sip.communicator.impl.gui.isTransparentWindowEnabled")) {
    String isTransparentString=(String)evt.getNewValue();
    boolean isTransparentWindowEnabled=new Boolean(isTransparentString).booleanValue();
    try {
      WindowUtils.setWindowTransparent(mainFrame,isTransparentWindowEnabled);
    }
 catch (    UnsupportedOperationException ex) {
      logger.error(ex.getMessage(),ex);
      if (isTransparentWindowEnabled) {
        new ErrorDialog(mainFrame,Messages.getI18NString("error").getText(),Messages.getI18NString("transparencyNotEnabled").getText()).showDialog();
      }
      ConfigurationManager.setTransparentWindowEnabled(false);
    }
  }
 else   if (evt.getPropertyName().equals("net.java.sip.communicator.impl.gui.windowTransparency")) {
    mainFrame.repaint();
  }
}
