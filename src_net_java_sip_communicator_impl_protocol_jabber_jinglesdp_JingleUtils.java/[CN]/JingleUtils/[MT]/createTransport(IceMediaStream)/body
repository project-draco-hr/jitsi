{
  IceUdpTransportPacketExtension trans=new IceUdpTransportPacketExtension();
  Agent iceAgent=stream.getParentAgent();
  trans.setUfrag(iceAgent.getLocalUfrag());
  trans.setPassword(iceAgent.getLocalPassword());
  for (  Component component : stream.getComponents()) {
    for (    Candidate candidate : component.getLocalCandidates())     trans.addCandidate(createCandidate(candidate));
  }
  return trans;
}
