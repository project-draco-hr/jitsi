{
  CandidatePacketExtension packet=new CandidatePacketExtension();
  packet.setFoundation(Integer.parseInt(candidate.getFoundation()));
  packet.setComponent(candidate.getParentComponent().getComponentID());
  packet.setProtocol(candidate.getTransport().toString());
  packet.setPriority(candidate.getPriority());
  packet.setGeneration(candidate.getParentComponent().getParentStream().getParentAgent().getGeneration());
  packet.setIP(candidate.getTransportAddress().getHostAddress());
  packet.setPort(candidate.getTransportAddress().getPort());
  packet.setType(CandidateType.valueOf(candidate.getType().toString()));
  TransportAddress relAddr=candidate.getRelatedAddress();
  if (relAddr != null) {
    packet.setRelAddr(relAddr.getHostAddress());
    packet.setRelPort(relAddr.getPort());
  }
  return packet;
}
