{
  PayloadTypePacketExtension ptExt=new PayloadTypePacketExtension();
  int payloadType=format.getRTPPayloadType();
  if (payloadType == MediaFormat.RTP_PAYLOAD_TYPE_UNKNOWN) {
    payloadType=ptRegistry.obtainPayloadTypeNumber(format);
  }
  ptExt.setId(payloadType);
  ptExt.setName(format.getEncoding());
  if (format instanceof AudioMediaFormat)   ptExt.setChannels(((AudioMediaFormat)format).getChannels());
  ptExt.setClockrate((int)format.getClockRate());
  return ptExt;
}
