{
  AccountID accountID=protocolProvider.getAccountID();
  Map<String,String> accountProperties=accountID.getAccountProperties();
  String password=accountProperties.get(ProtocolProviderFactory.PASSWORD);
  accountPanel.setRememberPassword(false);
  accountPanel.setUsername(accountID.getUserID());
  if (password != null) {
    accountPanel.setPassword(password);
    accountPanel.setRememberPassword(true);
  }
  String serverAddress=accountProperties.get(ProtocolProviderFactory.SERVER_ADDRESS);
  connectionPanel.setServerAddress(serverAddress);
  String serverPort=accountProperties.get(ProtocolProviderFactory.SERVER_PORT);
  connectionPanel.setServerPort(serverPort);
  boolean keepAlive=Boolean.parseBoolean(accountProperties.get("SEND_KEEP_ALIVE"));
  connectionPanel.setSendKeepAlive(keepAlive);
  boolean gmailNotificationEnabled=Boolean.parseBoolean(accountProperties.get("GMAIL_NOTIFICATIONS_ENABLED"));
  connectionPanel.setGmailNotificationsEnabled(gmailNotificationEnabled);
  String resource=accountProperties.get(ProtocolProviderFactory.RESOURCE);
  connectionPanel.setResource(resource);
  String priority=accountProperties.get(ProtocolProviderFactory.RESOURCE_PRIORITY);
  connectionPanel.setPriority(priority);
  for (int i=0; i < 100; i++) {
    String stunAddress=accountProperties.get(ProtocolProviderFactory.STUN_ADDRESS + i);
    if (stunAddress == null)     break;
    String stunPort=accountProperties.get(ProtocolProviderFactory.STUN_PORT + i);
    String stunUsername=accountProperties.get(ProtocolProviderFactory.STUN_USERNAME + i);
    String stunPassword=accountProperties.get(ProtocolProviderFactory.STUN_PASSWORD + i);
    boolean stunIsTurnSupported=Boolean.parseBoolean(accountProperties.get(ProtocolProviderFactory.STUN_IS_TURN_SUPPORTED + i));
    StunServer stunServer=new StunServer(stunAddress,stunPort,stunIsTurnSupported,stunUsername,stunPassword.toCharArray(),i);
    iceConfigPanel.addStunServer(stunServer);
  }
  this.isServerOverridden=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.IS_SERVER_OVERRIDDEN,false);
}
