{
  String userID=userIDField.getText();
  if (!wizard.isModification() && isExistingAccount(userID)) {
    nextPageIdentifier=FIRST_PAGE_IDENTIFIER;
    userIDPassPanel.add(existingAccountLabel,BorderLayout.NORTH);
    this.revalidate();
  }
 else {
    nextPageIdentifier=SUMMARY_PAGE_IDENTIFIER;
    userIDPassPanel.remove(existingAccountLabel);
    JabberAccountRegistration registration=wizard.getRegistration();
    registration.setUserID(userIDField.getText());
    registration.setPassword(new String(passField.getPassword()));
    registration.setRememberPassword(rememberPassBox.isSelected());
    registration.setServerAddress(serverField.getText());
    registration.setSendKeepAlive(sendKeepAliveBox.isSelected());
    registration.setResource(resourceField.getText());
    if (portField.getText() != null)     registration.setPort(Integer.parseInt(portField.getText()));
    if (priorityField.getText() != null)     registration.setPriority(Integer.parseInt(priorityField.getText()));
  }
}
