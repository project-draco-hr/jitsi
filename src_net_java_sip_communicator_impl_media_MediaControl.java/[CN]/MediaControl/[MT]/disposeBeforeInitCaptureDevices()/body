{
  if (avDataSource != null) {
    try {
      avDataSource.stop();
    }
 catch (    IOException ex) {
      logger.error("Failed to properly stop avDataSource.",ex);
    }
    avDataSource.disconnect();
  }
  if (sourceProcessor != null) {
    sourceProcessor.stop();
    if (sourceProcessor.getState() == Processor.Realized) {
      DataSource dataOutput=sourceProcessor.getDataOutput();
      if (dataOutput != null)       dataOutput.disconnect();
    }
    sourceProcessor.deallocate();
    sourceProcessor.close();
  }
}
