{
  if (localVideoAllowed != allowed) {
    localVideoAllowed=allowed;
    if (sourceProcessor != null) {
      sourceProcessor.stop();
      if (sourceProcessor.getState() == Processor.Realized) {
        DataSource dataOutput=sourceProcessor.getDataOutput();
        if (dataOutput != null)         dataOutput.disconnect();
      }
      sourceProcessor.deallocate();
      sourceProcessor.close();
    }
    initCaptureDevices();
  }
}
