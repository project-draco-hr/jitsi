{
  FormatControl fControl=(FormatControl)videoDS.getControl(FormatControl.class.getName());
  if (fControl == null)   return;
  String osName=System.getProperty("os.name");
  if (osName.startsWith("Mac")) {
    Constants.VIDEO_WIDTH=320;
    Constants.VIDEO_HEIGHT=240;
  }
  Format targetFormat=null;
  double targetWidth=Constants.VIDEO_WIDTH;
  Format[] fs=fControl.getSupportedFormats();
  for (int i=0; i < fs.length; i++) {
    VideoFormat format=(VideoFormat)fs[i];
    Dimension size=format.getSize();
    if (size.getWidth() >= Constants.VIDEO_WIDTH && size.getWidth() <= targetWidth) {
      targetFormat=format;
    }
  }
  if (targetFormat != null)   fControl.setFormat(targetFormat);
}
