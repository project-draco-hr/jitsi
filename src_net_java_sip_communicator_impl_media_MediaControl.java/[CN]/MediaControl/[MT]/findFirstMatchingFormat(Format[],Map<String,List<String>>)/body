{
  if (availableFormats == null || requestedEncodings == null) {
    return -1;
  }
  for (  List<String> requestedEncodingSet : requestedEncodings.values()) {
    for (    String requestedEncoding : requestedEncodingSet) {
      for (int i=0; i < availableFormats.length; i++) {
        String availableEncoding=availableFormats[i].getEncoding();
        if (availableEncoding.equals(requestedEncoding)) {
          return i;
        }
      }
    }
  }
  return -1;
}
