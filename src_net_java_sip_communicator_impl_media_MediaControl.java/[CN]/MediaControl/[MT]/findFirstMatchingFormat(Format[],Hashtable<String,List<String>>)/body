{
  if (availableFormats == null || requestedEncodings == null) {
    return -1;
  }
  Enumeration<List<String>> formatSets=requestedEncodings.elements();
  while (formatSets.hasMoreElements()) {
    for (Iterator<String> currentSetIter=formatSets.nextElement().iterator(); currentSetIter.hasNext(); ) {
      String currentSetElement=currentSetIter.next();
      for (int i=0; i < availableFormats.length; i++) {
        if (availableFormats[i].getEncoding().equals(currentSetElement)) {
          return i;
        }
      }
    }
  }
  return -1;
}
