{
  if (!(out instanceof VideoFormat) || null == NativeDecoder.matches(out,getMatchingOutputFormats(inputFormat)))   return null;
  VideoFormat videoOut=(VideoFormat)out;
  Dimension outSize=videoOut.getSize();
  if (outSize == null) {
    Dimension inSize=((VideoFormat)inputFormat).getSize();
    if (inSize == null)     outSize=new Dimension(DEF_WIDTH,DEF_HEIGHT);
 else     outSize=inSize;
  }
  outputFormat=new VideoFormat(videoOut.getEncoding(),outSize,outSize.width * outSize.height,Format.byteArray,videoOut.getFrameRate());
  return outputFormat;
}
