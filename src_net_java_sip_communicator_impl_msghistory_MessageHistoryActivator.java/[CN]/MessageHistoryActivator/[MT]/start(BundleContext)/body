{
  try {
    logger.logEntry();
    ServiceReference refConfig=bundleContext.getServiceReference(ConfigurationService.class.getName());
    ConfigurationService configurationService=(ConfigurationService)bundleContext.getService(refConfig);
    ServiceReference refHistory=bundleContext.getServiceReference(HistoryService.class.getName());
    HistoryService historyService=(HistoryService)bundleContext.getService(refHistory);
    msgHistoryService=new MessageHistoryServiceImpl();
    msgHistoryService.setConfigurationService(configurationService);
    msgHistoryService.setHistoryService(historyService);
    msgHistoryService.start(bundleContext);
    bundleContext.registerService(MessageHistoryService.class.getName(),msgHistoryService,null);
    logger.info("Message History Service ...[REGISTERED]");
  }
  finally {
    logger.logExit();
  }
}
