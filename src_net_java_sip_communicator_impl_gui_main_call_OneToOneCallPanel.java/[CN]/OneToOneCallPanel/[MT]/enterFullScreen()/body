{
  final JFrame frame=new JFrame();
  frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
  frame.setTitle(peerPanel.getPeerName());
  frame.setUndecorated(true);
  Component center=peerPanel.createCenter();
  final Component buttonBar=createFullScreenButtonBar();
  final Container contentPane=frame.getContentPane();
  contentPane.setLayout(new FullScreenLayout(false));
  if (buttonBar != null)   contentPane.add(buttonBar,FullScreenLayout.SOUTH);
  if (center != null)   contentPane.add(center,FullScreenLayout.CENTER);
  Color background=Color.black;
  contentPane.setBackground(background);
  CallPeerRendererUtils.setBackground(center,background);
class FullScreenListener implements ContainerListener, KeyListener, WindowStateListener {
    public void componentAdded(    ContainerEvent event){
      Component child=event.getChild();
      child.addKeyListener(this);
    }
    public void componentRemoved(    ContainerEvent event){
      Component child=event.getChild();
      child.removeKeyListener(this);
    }
    public void keyPressed(    KeyEvent event){
      if (!event.isConsumed() && (event.getKeyCode() == KeyEvent.VK_ESCAPE)) {
        event.consume();
        exitFullScreen();
      }
    }
    public void keyReleased(    KeyEvent event){
    }
    public void keyTyped(    KeyEvent event){
    }
    public void windowStateChanged(    WindowEvent event){
switch (event.getID()) {
case WindowEvent.WINDOW_CLOSED:
case WindowEvent.WINDOW_DEACTIVATED:
case WindowEvent.WINDOW_ICONIFIED:
case WindowEvent.WINDOW_LOST_FOCUS:
        exitFullScreen();
      break;
  }
}
}
FullScreenListener listener=new FullScreenListener();
CallPeerRendererUtils.addKeyListener(frame,listener);
if (center instanceof Container) ((Container)center).addContainerListener(listener);
frame.addWindowStateListener(listener);
getGraphicsConfiguration().getDevice().setFullScreenWindow(frame);
this.fullScreenWindow=frame;
GuiUtils.addWindow(fullScreenWindow);
}
