{
  Graphics2D g2=(Graphics2D)g.create();
  try {
    AntialiasingManager.activateAntialiasing(g2);
    JTextComponent c=this.getComponent();
    g2.setColor(Color.WHITE);
    g2.fillRoundRect(1,1,c.getWidth() - 2,c.getHeight() - 2,20,20);
    int dx=c.getX() + c.getWidth() - deleteButton.getWidth() - BUTTON_GAP - 5;
    int dy=(c.getY() + c.getHeight()) / 2 - deleteButton.getHeight() / 2;
    if (c.getText() != null && c.getText().length() > 0 && isDeleteButtonEnabled) {
      if (mouseOver)       g2.drawImage(deleteButtonRolloverImg,dx,dy,null);
 else       g2.drawImage(deleteButtonImg,dx,dy,null);
    }
    g2.setStroke(new BasicStroke(1f));
    g2.setColor(Color.GRAY);
    g2.drawRoundRect(0,0,c.getWidth() - 1,c.getHeight() - 1,20,20);
  }
  finally {
    g2.dispose();
  }
}
