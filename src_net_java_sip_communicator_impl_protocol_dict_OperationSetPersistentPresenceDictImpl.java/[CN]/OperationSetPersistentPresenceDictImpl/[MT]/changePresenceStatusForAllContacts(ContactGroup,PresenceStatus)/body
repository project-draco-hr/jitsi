{
  Iterator<Contact> childContacts=parent.contacts();
  while (childContacts.hasNext()) {
    ContactDictImpl contact=(ContactDictImpl)childContacts.next();
    if (findProviderForDictUserID(contact.getAddress()) != null) {
      continue;
    }
    PresenceStatus oldStatus=contact.getPresenceStatus();
    contact.setPresenceStatus(newStatus);
    fireContactPresenceStatusChangeEvent(contact,parent,oldStatus);
  }
  Iterator<ContactGroup> subgroups=parent.subgroups();
  while (subgroups.hasNext()) {
    ContactGroup subgroup=subgroups.next();
    changePresenceStatusForAllContacts(subgroup,newStatus);
  }
}
