{
  this.session.reconnect();
  logger.info("Updating buddy list...");
  List<NameValuePair> nvps=new ArrayList<NameValuePair>();
  nvps.add(new BasicNameValuePair("buddy_list","1"));
  nvps.add(new BasicNameValuePair("notifications","1"));
  nvps.add(new BasicNameValuePair("force_render","true"));
  nvps.add(new BasicNameValuePair("post_form_id",session.getFormId()));
  nvps.add(new BasicNameValuePair("user",session.getUid()));
  HttpPost post=new HttpPost(BUDDYLIST_URL);
  post.setEntity(new UrlEncodedFormEntity(nvps,HTTP.UTF_8));
  HttpResponse response=this.session.getHttpClient().execute(post);
  String body=EntityUtils.toString(response.getEntity());
  if (response.getStatusLine().getStatusCode() != 200) {
    throw new BrokenFacebookProtocolException("Code " + response.getStatusLine().getStatusCode() + ". Unable to update Facebook buddy list.");
  }
  this.update(body);
}
