{
  FacebookJsonResponse jsonResponse=new FacebookJsonResponse(session,body);
  try {
    JSONObject json=jsonResponse.getJson();
    JSONObject payload=(JSONObject)json.get("payload");
    if (payload == null) {
      throw new BrokenFacebookProtocolException("unable to parse buddy list. there's no payload field. " + jsonResponse);
    }
    JSONObject jsonBuddyList=(JSONObject)payload.get("buddy_list");
    if (jsonBuddyList == null) {
      throw new BrokenFacebookProtocolException("unable to parse buddy list. there's no buddy list field. " + jsonResponse);
    }
    return jsonBuddyList;
  }
 catch (  JSONException e) {
    throw new BrokenFacebookProtocolException("unable to parse json response");
  }
}
