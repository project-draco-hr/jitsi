{
  if (this.fd != fd) {
    if (this.fd != -1) {
      try {
        stop();
      }
 catch (      IOException ioex) {
      }
      munmap();
    }
    this.fd=-1;
    this.capabilities=0;
    this.requestbuffersMemory=0;
    this.requestbuffersCount=0;
    if (fd != -1) {
      Format format=getFormat();
      this.fd=fd;
      if (format != null)       setFdFormat(format);
      setFdCropToDefault();
      negotiateFdInputMethod();
    }
  }
}
