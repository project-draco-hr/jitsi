{
  Video4Linux2.v4l2_pix_format_setField(fmtPix,Video4Linux2.V4L2_FIELD_NONE);
  Video4Linux2.v4l2_pix_format_setBytesperline(fmtPix,0);
  if (Video4Linux2.ioctl(fd,Video4Linux2.VIDIOC_S_FMT,v4l2_format) == -1) {
    throw new IOException("ioctl: request= VIDIOC_S_FMT" + ((size == null) ? "" : (", width= " + size.width + ", height= "+ size.height)) + ", pixelformat= "+ pixelformat);
  }
 else   if (Video4Linux2.v4l2_pix_format_getPixelformat(fmtPix) != pixelformat) {
    throw new IOException("Failed to change the format of the V4L2 device to " + pixelformat);
  }
}
