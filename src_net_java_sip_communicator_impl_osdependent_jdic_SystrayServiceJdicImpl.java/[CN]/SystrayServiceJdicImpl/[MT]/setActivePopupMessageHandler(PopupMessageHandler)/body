{
  PopupMessageHandler oldHandler=activePopupHandler;
  if (oldHandler != null) {
    oldHandler.removePopupMessageListener(popupMessageListener);
  }
  if (newHandler != null) {
    newHandler.addPopupMessageListener(popupMessageListener);
  }
  logger.info("setting the following popup handler as active : " + newHandler);
  activePopupHandler=newHandler;
  return oldHandler;
}
