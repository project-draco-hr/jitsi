{
  MediaType mediaType=getMediaType();
  EncodingConfiguration encodingConfiguration=NeomediaActivator.getMediaServiceImpl().getEncodingConfiguration();
  String[] supportedEncodings;
switch (mediaType) {
case AUDIO:
    supportedEncodings=encodingConfiguration.getSupportedAudioEncodings();
  break;
case VIDEO:
supportedEncodings=encodingConfiguration.getSupportedVideoEncodings();
break;
default :
supportedEncodings=null;
break;
}
List<MediaFormat> supportedFormats=new ArrayList<MediaFormat>();
if (supportedEncodings != null) for (String supportedPayloadType : supportedEncodings) {
MediaFormat[] supportedFormatsForPayloadType=MediaUtils.rtpPayloadTypeToMediaFormats(supportedPayloadType);
for (MediaFormat supportedFormatForPayloadType : supportedFormatsForPayloadType) supportedFormats.add(supportedFormatForPayloadType);
}
return supportedFormats;
}
