{
  super(mainFrame);
  this.mainFrame=mainFrame;
  this.protocolProvider=pps;
  this.multiUserChatOpSet=(OperationSetMultiUserChat)protocolProvider.getOperationSet(OperationSetMultiUserChat.class);
  searchPanel=new SearchChatRoomPanel(this);
  this.setTitle(Messages.getI18NString("joinChatRoom").getText());
  this.mainPanel.setPreferredSize(new Dimension(520,200));
  this.getRootPane().setDefaultButton(joinButton);
  this.joinButton.setName("join");
  this.cancelButton.setName("cancel");
  this.joinButton.setMnemonic(joinString.getMnemonic());
  this.cancelButton.setMnemonic(cancelString.getMnemonic());
  this.iconLabel.setBorder(BorderFactory.createEmptyBorder(5,0,5,10));
  this.chatRoomsList.setCellRenderer(new ChatRoomsListCellRenderer());
  this.joinButton.addActionListener(this);
  this.cancelButton.addActionListener(this);
  this.buttonsPanel.add(joinButton);
  this.buttonsPanel.add(cancelButton);
  this.mainPanel.setLayout(new BoxLayout(mainPanel,BoxLayout.Y_AXIS));
  this.mainPanel.setBorder(BorderFactory.createEmptyBorder(5,10,0,10));
  this.mainPanel.add(namePanel);
  this.mainPanel.add(searchPanel);
  this.chatRoomsScrollPane.setBorder(BorderFactory.createTitledBorder(Messages.getI18NString("chatRooms").getText()));
  this.getContentPane().add(iconLabel,BorderLayout.WEST);
  this.getContentPane().add(mainPanel,BorderLayout.CENTER);
  this.getContentPane().add(buttonsPanel,BorderLayout.SOUTH);
}
