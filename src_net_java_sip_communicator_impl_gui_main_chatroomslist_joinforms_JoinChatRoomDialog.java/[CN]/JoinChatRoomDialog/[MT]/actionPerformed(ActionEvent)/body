{
  JButton button=(JButton)e.getSource();
  String name=button.getName();
  if (name.equals("join")) {
    new Thread(){
      public void run(){
        ChatRoom chatRoom=null;
        String chatRoomName=namePanel.getChatRoomName();
        try {
          chatRoom=multiUserChatOpSet.findRoom(chatRoomName);
        }
 catch (        OperationFailedException e1) {
          logger.error("Failed to find chat room with name:" + chatRoomName,e1);
        }
catch (        OperationNotSupportedException e1) {
          logger.error("Failed to find chat room with name:" + chatRoomName,e1);
        }
        if (chatRoom == null) {
          new ErrorDialog(mainFrame,Messages.getI18NString("chatRoomNotExist",new String[]{chatRoomName,protocolProvider.getAccountID().getService()}).getText(),Messages.getI18NString("error").getText()).showDialog();
        }
 else {
          try {
            chatRoom.join();
          }
 catch (          OperationFailedException e) {
            new ErrorDialog(mainFrame,Messages.getI18NString("failedToJoinChatRoom",new String[]{chatRoomName}).getText(),Messages.getI18NString("error").getText()).showDialog();
            logger.error("Failed to join chat room: " + chatRoomName,e);
          }
        }
      }
    }
.start();
  }
  this.dispose();
}
