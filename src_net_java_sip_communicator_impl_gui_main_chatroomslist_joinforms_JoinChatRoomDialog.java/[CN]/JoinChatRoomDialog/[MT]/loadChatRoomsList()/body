{
  OperationSetMultiUserChat multiUserChat=(OperationSetMultiUserChat)protocolProvider.getOperationSet(OperationSetMultiUserChat.class);
  List list=null;
  try {
    list=multiUserChat.getExistingChatRooms();
  }
 catch (  OperationFailedException e) {
    logger.error("Failed to obtain existing chat rooms for server: " + protocolProvider.getAccountID().getService(),e);
  }
catch (  OperationNotSupportedException e) {
    logger.error("Failed to obtain existing chat rooms for server: " + protocolProvider.getAccountID().getService(),e);
  }
  if (list != null) {
    if (list.size() == 0)     list.add(Messages.getI18NString("noAvailableRooms"));
    chatRoomsList.setListData(new Vector(list));
    chatRoomsScrollPane.setPreferredSize(new Dimension(500,120));
    chatRoomsScrollPane.getViewport().add(chatRoomsList);
    this.mainPanel.add(chatRoomsScrollPane);
    this.pack();
    this.setCursor(Cursor.getDefaultCursor());
  }
}
