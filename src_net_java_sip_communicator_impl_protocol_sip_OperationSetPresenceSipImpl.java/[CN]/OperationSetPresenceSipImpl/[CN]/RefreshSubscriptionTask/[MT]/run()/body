{
  Dialog dialog=this.contact.getClientDialog();
  if (dialog == null) {
    logger.warn("null clientDialog associated with " + this.contact + ", can't refresh the subscription");
    return;
  }
  ClientTransaction transac=null;
  try {
    transac=createSubscription(subscriptionDuration,dialog);
  }
 catch (  OperationFailedException e) {
    logger.error("Failed to create subscriptionTransaction.",e);
    return;
  }
synchronized (waitedCallIds) {
    waitedCallIds.add(dialog.getCallId().getCallId());
  }
  try {
    dialog.sendRequest(transac);
  }
 catch (  Exception e) {
    logger.error("Can't send the request",e);
    return;
  }
}
