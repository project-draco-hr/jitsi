{
  StringReader reader=new StringReader(document);
  StreamSource source=new StreamSource(reader);
  Document doc=createDocument();
  if (doc == null)   return null;
  DOMResult result=new DOMResult(doc);
  try {
    if (this.transFactory == null)     this.transFactory=TransformerFactory.newInstance();
    if (this.transformer == null)     this.transformer=this.transFactory.newTransformer();
    this.transformer.transform(source,result);
  }
 catch (  Exception e) {
    logger.error("can't convert the string into a xml document",e);
    return null;
  }
  return doc;
}
