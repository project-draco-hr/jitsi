{
  update(source);
  if (source instanceof MessageDeliveredEvent || source instanceof MessageReceivedEvent) {
    initDetails(false);
  }
 else   if (source instanceof ChatRoomMessageDeliveredEvent || source instanceof ChatRoomMessageReceivedEvent) {
    initDetails(true);
  }
  this.service=service;
  updateMessageContent();
}
