{
  update(source);
  if (source instanceof MessageDeliveredEvent || source instanceof MessageReceivedEvent) {
    initDetails(false);
  }
 else   if (source instanceof ChatRoomMessageDeliveredEvent || source instanceof ChatRoomMessageReceivedEvent) {
    initDetails(true);
  }
  this.service=service;
  if (this.messageContent != null && this.messageContent.length() > 60) {
    this.messageContent=this.messageContent.substring(0,60);
    this.messageContent+="...";
  }
}
