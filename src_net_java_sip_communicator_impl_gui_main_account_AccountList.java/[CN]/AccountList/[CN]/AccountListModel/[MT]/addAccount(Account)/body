{
  if (getSize() == 0) {
    addElement(account);
    return;
  }
  boolean isAccountAdded=false;
  Enumeration<Account> accounts=(Enumeration<Account>)elements();
  AccountID accountID=account.getProtocolProvider().getAccountID();
  while (accounts.hasMoreElements()) {
    Account a=accounts.nextElement();
    AccountID listAccountID=a.getProtocolProvider().getAccountID();
    int accountIndex=indexOf(a);
    int protocolCompare=accountID.getProtocolDisplayName().compareTo(listAccountID.getProtocolDisplayName());
    if (protocolCompare < 0) {
      insertElementAt(account,accountIndex);
      isAccountAdded=true;
      break;
    }
 else     if (protocolCompare == 0) {
      if (accountID.getDisplayName().compareTo(listAccountID.getDisplayName()) < 0) {
        insertElementAt(account,accountIndex);
        isAccountAdded=true;
        break;
      }
    }
  }
  if (!isAccountAdded)   addElement(account);
}
