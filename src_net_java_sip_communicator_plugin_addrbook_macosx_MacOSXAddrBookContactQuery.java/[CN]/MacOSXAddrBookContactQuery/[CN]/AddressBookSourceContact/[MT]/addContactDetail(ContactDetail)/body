{
  String id=(String)getData(SourceContact.DATA_ID);
  if (id == null) {
    logger.warn("No id or wrong ContactDetail " + detail);
    return;
  }
  String subProperty=null;
  int property=getProperty(detail.getCategory(),detail.getSubCategories());
  if (isMultiline(detail.getCategory())) {
    if (detail instanceof AddressBookContactDetail) {
      subProperty=((AddressBookContactDetail)detail).getSubPropertyLabel();
    }
    if (subProperty == null && property == kABAddressProperty) {
      if (detail.containsSubCategory(SubCategory.Home))       subProperty=kABAddressHomeLabel();
 else       subProperty=kABAddressWorkLabel();
    }
    List<String> values=getValues(detail,property,subProperty,true);
    setProperty(id,ABPERSON_PROPERTIES[property],subProperty,values.toArray(new Object[values.size()]));
  }
 else {
    setProperty(id,ABPERSON_PROPERTIES[property],null,detail.getDetail());
  }
  Collection<SubCategory> subCategories=detail.getSubCategories();
  contactDetails.add(new AddressBookContactDetail(property,detail.getDetail(),detail.getCategory(),subCategories.toArray(new SubCategory[subCategories.size()]),subProperty));
}
