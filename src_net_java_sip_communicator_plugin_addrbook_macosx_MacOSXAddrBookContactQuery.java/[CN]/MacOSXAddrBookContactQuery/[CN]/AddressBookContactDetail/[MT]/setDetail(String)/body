{
  if (isMultiline(getCategory())) {
    List<ContactDetail> details=parent.getContactDetails(getCategory());
    boolean isAddress=property == kABAddressProperty;
    boolean isHomeAddress=containsSubCategory(SubCategory.Home);
    List<String> values=new ArrayList<String>();
    for (    ContactDetail cd : details) {
      if (isAddress) {
        if ((isHomeAddress && !cd.containsSubCategory(SubCategory.Home)) || (!isHomeAddress && !cd.containsSubCategory(SubCategory.Work)))         continue;
      }
      String det=cd.getDetail();
      for (      SubCategory sub : cd.getSubCategories()) {
        String label=getLabel(property,sub,subPropertyLabel);
        if (label != null) {
          if (getSubCategories().contains(sub))           values.add(value);
 else           values.add(det);
          values.add(label);
        }
      }
    }
    setProperty(id,ABPERSON_PROPERTIES[property],subPropertyLabel,values.toArray(new Object[values.size()]));
  }
 else {
    setProperty(id,ABPERSON_PROPERTIES[property],null,value);
  }
  super.setDetail(value);
}
