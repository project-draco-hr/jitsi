{
  super.setUp();
  this.providerMock=EasyMock.createMock(ProtocolProviderServiceIrcImpl.class);
  this.stackMock=EasyMock.createMock(IrcStack.class);
  this.connectionMock=EasyMock.createMock(IrcConnection.class);
  this.channelMock=EasyMock.createMock(ChannelManager.class);
  EasyMock.expect(this.providerMock.getIrcStack()).andReturn(this.stackMock);
  EasyMock.expect(this.stackMock.getConnection()).andReturn(this.connectionMock);
  EasyMock.expect(this.connectionMock.getChannelManager()).andReturn(this.channelMock);
  EasyMock.expect(this.channelMock.getChannelTypes()).andReturn(Collections.unmodifiableSet(Sets.newHashSet('#','&')));
}
