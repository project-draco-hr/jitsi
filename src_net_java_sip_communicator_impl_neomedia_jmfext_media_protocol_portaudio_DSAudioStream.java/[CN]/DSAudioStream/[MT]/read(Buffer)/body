{
  if (stream == null) {
    buffer.setLength(0);
    return;
  }
  try {
    stream.read(buffer);
  }
 catch (  PortAudioException paex) {
    IOException ioex=new IOException();
    ioex.initCause(paex);
    throw ioex;
  }
  buffer.setFormat(getFormat());
  buffer.setHeader(null);
  buffer.setSequenceNumber(seqNo++);
}
