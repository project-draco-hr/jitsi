{
  IncomingFileTransferRequest request=event.getRequest();
  Contact sourceContact=request.getSender();
  MetaContact metaContact=mainFrame.getContactList().findMetaContactByContact(sourceContact);
  final ChatPanel chatPanel=chatWindowManager.getContactChat(metaContact,sourceContact);
  chatPanel.addIncomingFileTransferRequest(request);
  ChatTransport chatTransport=chatPanel.getChatSession().findChatTransportForDescriptor(sourceContact);
  chatPanel.setSelectedChatTransport(chatTransport);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      chatWindowManager.openChat(chatPanel,false);
    }
  }
);
  String title=GuiActivator.getResources().getI18NString("service.gui.FILE_RECEIVING_FROM",new String[]{sourceContact.getDisplayName()});
  NotificationManager.fireChatNotification(sourceContact,NotificationManager.INCOMING_FILE,title,request.getFileName());
}
