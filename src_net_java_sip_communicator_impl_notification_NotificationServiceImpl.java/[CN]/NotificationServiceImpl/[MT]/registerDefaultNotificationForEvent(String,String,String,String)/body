{
  if (logger.isDebugEnabled())   logger.debug("Registering default event " + eventType + "/"+ actionType+ "/"+ actionDescriptor+ "/"+ defaultMessage);
  if (isDefault(eventType,actionType)) {
    NotificationActionHandler handler=getEventNotificationActionHandler(eventType,actionType);
    boolean isNew=false;
    if (handler == null) {
      isNew=true;
      if (actionType.equals(NotificationService.ACTION_SOUND)) {
        handler=new SoundNotificationHandlerImpl(actionDescriptor,-1);
      }
 else       if (actionType.equals(NotificationService.ACTION_LOG_MESSAGE)) {
        handler=new LogMessageNotificationHandlerImpl(LogMessageNotificationHandler.INFO_LOG_TYPE);
      }
 else       if (actionType.equals(NotificationService.ACTION_POPUP_MESSAGE)) {
        handler=new PopupMessageNotificationHandlerImpl(defaultMessage);
      }
 else       if (actionType.equals(NotificationService.ACTION_COMMAND)) {
        handler=new CommandNotificationHandlerImpl(actionDescriptor);
      }
    }
    this.saveNotification(eventType,actionType,handler,handler.isEnabled(),true);
    EventNotification notification=null;
    if (notificationsTable.containsKey(eventType))     notification=notificationsTable.get(eventType);
 else {
      notification=new EventNotification(eventType);
      notificationsTable.put(eventType,notification);
    }
    notification.addAction(actionType,handler);
    fireNotificationActionTypeEvent(isNew ? NotificationActionTypeEvent.ACTION_ADDED : NotificationActionTypeEvent.ACTION_CHANGED,eventType,actionType,handler);
  }
  EventNotification notification=null;
  if (defaultNotificationsTable.containsKey(eventType))   notification=defaultNotificationsTable.get(eventType);
 else {
    notification=new EventNotification(eventType);
    defaultNotificationsTable.put(eventType,notification);
  }
  NotificationActionHandler handler=null;
  if (actionType.equals(NotificationService.ACTION_SOUND)) {
    handler=new SoundNotificationHandlerImpl(actionDescriptor,-1);
  }
 else   if (actionType.equals(NotificationService.ACTION_LOG_MESSAGE)) {
    handler=new LogMessageNotificationHandlerImpl(LogMessageNotificationHandler.INFO_LOG_TYPE);
  }
 else   if (actionType.equals(NotificationService.ACTION_POPUP_MESSAGE)) {
    handler=new PopupMessageNotificationHandlerImpl(defaultMessage);
  }
 else   if (actionType.equals(NotificationService.ACTION_COMMAND)) {
    handler=new CommandNotificationHandlerImpl(actionDescriptor);
  }
  notification.addAction(actionType,handler);
}
