{
  List<String> eventTypes=configService.getPropertyNamesByPrefix(NOTIFICATIONS_PREFIX,true);
  for (  String eventTypeRootPropName : eventTypes) {
    boolean isEventActive=isEnabled(eventTypeRootPropName + ".active");
    String eventType=configService.getString(eventTypeRootPropName);
    List<String> actions=configService.getPropertyNamesByPrefix(eventTypeRootPropName + ".actions",true);
    for (    String actionPropName : actions) {
      String actionType=configService.getString(actionPropName);
      NotificationActionHandler handler=null;
      if (actionType.equals(ACTION_SOUND)) {
        String soundFileDescriptor=configService.getString(actionPropName + ".soundFileDescriptor");
        String loopInterval=configService.getString(actionPropName + ".loopInterval");
        handler=new SoundNotificationHandlerImpl(soundFileDescriptor,Integer.parseInt(loopInterval));
        handler.setEnabled(isEnabled(actionPropName + ".enabled"));
      }
 else       if (actionType.equals(ACTION_POPUP_MESSAGE)) {
        String defaultMessage=configService.getString(actionPropName + ".defaultMessage");
        handler=new PopupMessageNotificationHandlerImpl(defaultMessage);
        handler.setEnabled(isEnabled(actionPropName + ".enabled"));
      }
 else       if (actionType.equals(ACTION_LOG_MESSAGE)) {
        String logType=configService.getString(actionPropName + ".logType");
        handler=new LogMessageNotificationHandlerImpl(logType);
        handler.setEnabled(isEnabled(actionPropName + ".enabled"));
      }
 else       if (actionType.equals(ACTION_COMMAND)) {
        String commandDescriptor=configService.getString(actionPropName + ".commandDescriptor");
        handler=new CommandNotificationHandlerImpl(commandDescriptor);
        handler.setEnabled(isEnabled(actionPropName + ".enabled"));
      }
      EventNotification notification=notificationsTable.get(eventType);
      if (notification == null) {
        notification=new EventNotification(eventType);
        notificationsTable.put(eventType,notification);
      }
      notification.setActive(isEventActive);
      notification.addAction(actionType,handler);
    }
  }
}
