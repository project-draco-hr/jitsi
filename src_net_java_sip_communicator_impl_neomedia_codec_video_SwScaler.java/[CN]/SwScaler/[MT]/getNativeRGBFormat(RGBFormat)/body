{
  int fmt;
  if (rgb.getBitsPerPixel() == 32) switch (rgb.getRedMask()) {
case 1:
case 0xff:
    fmt=FFmpeg.PIX_FMT_BGR32;
  break;
case 2:
case (0xff << 8):
fmt=FFmpeg.PIX_FMT_BGR32_1;
break;
case 3:
case (0xff << 16):
fmt=FFmpeg.PIX_FMT_RGB32;
break;
case 4:
case (0xff << 24):
fmt=FFmpeg.PIX_FMT_RGB32_1;
break;
default :
fmt=FFmpeg.PIX_FMT_RGB32;
break;
}
 else fmt=FFmpeg.PIX_FMT_RGB24;
return fmt;
}
