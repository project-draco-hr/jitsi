{
  ServiceReference serRef=getProviderForAccount(accountID);
  ProtocolProviderService protocolProvider=(ProtocolProviderService)DictActivator.getBundleContext().getService(serRef);
  try {
    protocolProvider.unregister();
  }
 catch (  OperationFailedException exc) {
    logger.error("Failed to unregister protocol provider for account : " + accountID + " caused by : "+ exc);
  }
  ServiceRegistration registration=(ServiceRegistration)registeredAccounts.remove(accountID);
  if (registration == null) {
    return false;
  }
  registration.unregister();
  registeredAccounts.remove(accountID);
  return removeStoredAccount(DictActivator.getBundleContext(),accountID);
}
