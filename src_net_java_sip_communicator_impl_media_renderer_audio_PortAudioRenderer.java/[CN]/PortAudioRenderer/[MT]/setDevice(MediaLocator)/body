{
  deviceIndex=PortAudioStream.getDeviceIndexFromLocator(locator);
  long device=PortAudio.Pa_GetDeviceInfo(deviceIndex);
  int maxOutputChannels=PortAudio.PaDeviceInfo_getMaxOutputChannels(device);
  if (maxOutputChannels > 2)   maxOutputChannels=2;
  double defaultSampleRate=PortAudio.PaDeviceInfo_getDefaultSampleRate(device);
  audioFormat=new AudioFormat(AudioFormat.LINEAR,defaultSampleRate,16,maxOutputChannels,AudioFormat.LITTLE_ENDIAN,AudioFormat.SIGNED,16,Format.NOT_SPECIFIED,Format.byteArray);
  supportedInputFormats=new Format[]{audioFormat};
}
