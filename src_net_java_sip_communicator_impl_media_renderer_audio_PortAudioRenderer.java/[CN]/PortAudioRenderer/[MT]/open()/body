{
  try {
    if (stream == 0) {
      long streamParameters=PortAudio.PaStreamParameters_new(deviceIndex,audioFormat.getChannels(),PortAudio.SAMPLE_FORMAT_INT16);
      stream=PortAudio.Pa_OpenStream(0,streamParameters,audioFormat.getSampleRate(),PortAudio.FRAMES_PER_BUFFER_UNSPECIFIED,PortAudio.STREAM_FLAGS_NO_FLAG,null);
    }
  }
 catch (  PortAudioException e) {
    throw new ResourceUnavailableException(e.getMessage());
  }
}
