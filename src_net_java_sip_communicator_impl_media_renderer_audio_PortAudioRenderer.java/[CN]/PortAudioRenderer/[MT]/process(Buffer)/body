{
synchronized (bufferSync) {
    byte[] buff=new byte[inputBuffer.getLength()];
    System.arraycopy((byte[])inputBuffer.getData(),inputBuffer.getOffset(),buff,0,buff.length);
    buffer=buff;
    bufferSync.notifyAll();
  }
  if (writerThread == null) {
    writerThread=new WriterThread();
    writerThread.start();
  }
  return BUFFER_PROCESSED_OK;
}
