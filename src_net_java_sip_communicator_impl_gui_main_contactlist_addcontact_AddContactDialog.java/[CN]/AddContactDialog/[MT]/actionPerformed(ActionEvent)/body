{
  JButton button=(JButton)e.getSource();
  String name=button.getName();
  if (name.equals("add")) {
    if (metaContact != null) {
      new Thread(){
        public void run(){
          clist.addNewContactToMetaContact(pps,metaContact,addContactPanel.getUIN());
        }
      }
.start();
    }
 else     if (group != null) {
      new Thread(){
        public void run(){
          String uin=addContactPanel.getUIN();
          try {
            clist.createMetaContact(pps,group,uin);
          }
 catch (          MetaContactListException ex) {
            logger.error(ex);
            ex.printStackTrace();
            int errorCode=ex.getErrorCode();
            if (errorCode == MetaContactListException.CODE_CONTACT_ALREADY_EXISTS_ERROR) {
              new ErrorDialog(mainFrame,Messages.getI18NString("addContactExistError",uin).getText(),ex,Messages.getI18NString("addContactErrorTitle").getText()).showDialog();
            }
 else             if (errorCode == MetaContactListException.CODE_LOCAL_IO_ERROR) {
              new ErrorDialog(mainFrame,Messages.getI18NString("addContactError",uin).getText(),ex,Messages.getI18NString("addContactErrorTitle").getText()).showDialog();
            }
 else             if (errorCode == MetaContactListException.CODE_NETWORK_ERROR) {
              new ErrorDialog(mainFrame,Messages.getI18NString("addContactError",uin).getText(),ex,Messages.getI18NString("addContactErrorTitle").getText()).showDialog();
            }
 else {
              new ErrorDialog(mainFrame,Messages.getI18NString("addContactError",uin).getText(),ex,Messages.getI18NString("addContactErrorTitle").getText()).showDialog();
            }
          }
        }
      }
.start();
    }
    this.dispose();
  }
 else {
    this.dispose();
  }
}
