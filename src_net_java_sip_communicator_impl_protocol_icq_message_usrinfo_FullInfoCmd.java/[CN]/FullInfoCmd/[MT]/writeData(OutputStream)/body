{
  ByteArrayOutputStream icqout=new ByteArrayOutputStream();
  ByteArrayOutputStream icqDataOut=new ByteArrayOutputStream();
  Iterator iter=changeDataTlvs.iterator();
  while (iter.hasNext()) {
    DetailTlv item=(DetailTlv)iter.next();
    item.write(icqDataOut);
  }
  int hdrlen=10;
  int primary=CMD_SET_FULLINFO.getPrimary();
  int secondary=CMD_SET_FULLINFO.getSecondary();
  long icqUINlong=Long.parseLong(senderUin);
  int length=hdrlen + icqDataOut.size();
  LEBinaryTools.writeUShort(icqout,length);
  LEBinaryTools.writeUInt(icqout,icqUINlong);
  LEBinaryTools.writeUShort(icqout,primary);
  LEBinaryTools.writeUShort(icqout,0x0002);
  LEBinaryTools.writeUShort(icqout,secondary);
  icqDataOut.writeTo(icqout);
  new Tlv(TYPE_ICQ_DATA,ByteBlock.wrap(icqout.toByteArray())).write(out);
}
