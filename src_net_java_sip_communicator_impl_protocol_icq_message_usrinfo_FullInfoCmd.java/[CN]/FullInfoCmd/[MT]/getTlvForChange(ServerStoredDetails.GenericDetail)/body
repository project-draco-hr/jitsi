{
  int typeOfDetail=((int[])supportedTypes.get(detail.getClass()))[1];
  DetailTlv result=new DetailTlv(typeOfDetail);
switch (typeOfDetail) {
case 0x01A4:
case 0x0334:
case 0x02B2:
    result.writeUShort(getCountryCode(((ServerStoredDetails.LocaleDetail)detail).getLocale()));
  break;
case 0x0186:
writeLanguageCode((ServerStoredDetails.LocaleDetail)detail,result);
break;
case 0x017C:
writeGenderCode((ServerStoredDetails.GenderDetail)detail,result);
break;
case 0x023A:
writeCalendarCode((ServerStoredDetails.CalendarDetail)detail,result);
break;
case 0x01CC:
writeOccupationCode((WorkOcupationDetail)detail,result);
break;
case 0x01EA:
writeInterestCode((InterestDetail)detail,result);
break;
default :
writeGenericDetail(detail,result);
}
return result;
}
