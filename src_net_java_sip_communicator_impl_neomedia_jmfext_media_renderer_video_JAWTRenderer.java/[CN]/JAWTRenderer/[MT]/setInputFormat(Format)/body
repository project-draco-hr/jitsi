{
  super.setInputFormat(format);
  Dimension inputSize=inputFormat.getSize();
  if (inputSize != null) {
    inputWidth=inputSize.width;
    inputHeight=inputSize.height;
  }
  if ((inputWidth > 0) && (inputHeight > 0)) {
    Component component=getComponent();
    Dimension preferredSize=component.getPreferredSize();
    if ((preferredSize == null) || (preferredSize.width < 1) || (preferredSize.height < 1)|| (preferredSize.width * inputHeight != preferredSize.height * inputWidth)) {
      component.setPreferredSize(new Dimension(inputWidth,inputHeight));
    }
    Dimension size=component.getSize();
    if ((size.width < 1) || (size.height < 1)) {
      preferredSize=component.getPreferredSize();
      component.setSize(preferredSize.width,preferredSize.height);
    }
  }
  return inputFormat;
}
