{
  try {
    URL feedLocation=new URL(contact.getRssFeedReader().getURL());
    URL siteIndex=new URL(feedLocation.getProtocol() + "://" + feedLocation.getHost());
    BufferedReader in=new BufferedReader(new InputStreamReader(siteIndex.openStream()));
    String inputLine;
    while ((inputLine=in.readLine()) != null) {
      int index=0;
      while (index != -1) {
        int tagBeginIndex=inputLine.toLowerCase().indexOf("<link",index);
        if (tagBeginIndex == -1) {
          break;
        }
        int tagEndIndex=inputLine.toLowerCase().indexOf(">",tagBeginIndex);
        if (tagEndIndex != -1) {
          String linkTag=inputLine.substring(tagBeginIndex,tagEndIndex + 1);
          boolean isIconTag=linkTag.toLowerCase().matches(".*rel=.icon..*");
          if (!isIconTag)           isIconTag=linkTag.toLowerCase().matches(".*rel=.shortcut icon..*");
          if (isIconTag) {
            int hrefInd=linkTag.toLowerCase().indexOf("href=");
            hrefInd+=("href=".length() + 1);
            char startQuote=linkTag.charAt(hrefInd - 1);
            int endQuoteInd=linkTag.indexOf(startQuote,hrefInd);
            String iconLink=linkTag.substring(hrefInd,endQuoteInd);
            return iconLink;
          }
        }
        index=tagEndIndex + 1;
      }
    }
    in.close();
  }
 catch (  Exception exc) {
    if (logger.isTraceEnabled())     logger.trace("Failed to retrieve link image.",exc);
  }
  return null;
}
