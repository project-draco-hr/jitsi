{
  try {
    Collection<ContactRssImpl> copyContactsForUpdate=null;
    while (true) {
synchronized (contactsForUpdate) {
        if (contactsForUpdate.isEmpty())         contactsForUpdate.wait();
        copyContactsForUpdate=new Vector<ContactRssImpl>(contactsForUpdate);
        contactsForUpdate.clear();
      }
      Iterator<ContactRssImpl> iter=copyContactsForUpdate.iterator();
      while (iter.hasNext()) {
        ContactRssImpl contact=iter.next();
        byte[] imgBytes=getAvatar(contact);
        if (imgBytes != null) {
          byte[] oldImage=contact.getImage(false);
          contact.setImage(imgBytes);
          parentOperationSet.fireContactPropertyChangeEvent(ContactPropertyChangeEvent.PROPERTY_IMAGE,contact,oldImage,imgBytes);
        }
      }
    }
  }
 catch (  InterruptedException ex) {
    logger.error("NickRetriever error waiting will stop now!",ex);
  }
}
