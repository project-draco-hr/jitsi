{
  if (event.getEventID() == SystemActivityEvent.EVENT_SLEEP) {
    downAllInterfaces();
  }
 else   if (event.getEventID() == SystemActivityEvent.EVENT_NETWORK_CHANGE) {
synchronized (this) {
      try {
        wait(3000);
      }
 catch (      InterruptedException ex) {
      }
    }
    try {
      checkNetworkInterfaces(true,0);
    }
 catch (    SocketException e) {
      logger.error("Error checking network interfaces",e);
    }
  }
}
