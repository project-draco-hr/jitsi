{
  final JFrame frame=new JFrame();
  frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
  frame.setTitle(getParticipantName());
  frame.setUndecorated(true);
  Component center=createCenter();
  final Component buttonBar=createFullScreenButtonBar();
  final Container contentPane=frame.getContentPane();
  contentPane.setLayout(new FullScreenLayout(false));
  if (buttonBar != null)   contentPane.add(buttonBar,FullScreenLayout.SOUTH);
  if (center != null)   contentPane.add(center,FullScreenLayout.CENTER);
  Color background=Color.black;
  contentPane.setBackground(background);
  setBackground(center,background);
class FullScreenListener implements ContainerListener, KeyListener, MouseMotionListener, WindowStateListener {
    public void componentAdded(    ContainerEvent event){
      Component child=event.getChild();
      child.addKeyListener(this);
      child.addMouseMotionListener(this);
    }
    public void componentRemoved(    ContainerEvent event){
      Component child=event.getChild();
      child.removeMouseMotionListener(this);
      child.removeKeyListener(this);
    }
    public void keyPressed(    KeyEvent event){
      if (!event.isConsumed() && (event.getKeyCode() == KeyEvent.VK_ESCAPE)) {
        event.consume();
        exitFullScreen(frame);
      }
    }
    public void keyReleased(    KeyEvent event){
    }
    public void keyTyped(    KeyEvent event){
    }
    public void mouseDragged(    MouseEvent event){
    }
    public void mouseMoved(    MouseEvent event){
      Component component=event.getComponent();
      if ((buttonBar != null) && (component != null) && !component.equals(buttonBar)) {
        Point pointInContentPane=SwingUtilities.convertPoint(component,event.getPoint(),contentPane);
        Rectangle hotSpotBounds=buttonBar.getBounds();
        hotSpotBounds.x=0;
        hotSpotBounds.width=contentPane.getWidth();
        boolean visible=hotSpotBounds.contains(pointInContentPane);
        buttonBar.setVisible(visible);
      }
    }
    public void windowStateChanged(    WindowEvent event){
switch (event.getID()) {
case WindowEvent.WINDOW_CLOSED:
case WindowEvent.WINDOW_DEACTIVATED:
case WindowEvent.WINDOW_ICONIFIED:
case WindowEvent.WINDOW_LOST_FOCUS:
        exitFullScreen(frame);
      break;
  }
}
}
FullScreenListener listener=new FullScreenListener();
if (buttonBar != null) {
buttonBar.setVisible(false);
addMouseMotionListener(contentPane,listener);
}
addKeyListener(frame,listener);
if (center instanceof Container) ((Container)center).addContainerListener(listener);
frame.addWindowStateListener(listener);
getGraphicsConfiguration().getDevice().setFullScreenWindow(frame);
}
