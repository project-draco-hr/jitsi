{
  ContactListModel listModel=(ContactListModel)this.getContactList().getModel();
  if (!Constants.TABBED_CHAT_WINDOW) {
    if (contactMsgWindows.containsKey(metaContact)) {
      ChatWindow msgWindow=(ChatWindow)contactMsgWindows.get(metaContact);
      msgWindow.getCurrentChatPanel().updateContactStatus(protoContact);
    }
  }
 else   if (tabbedChatWindow != null) {
    Hashtable contactTabsTable=tabbedChatWindow.getContactChatsTable();
    ChatPanel chatPanel=(ChatPanel)contactTabsTable.get(metaContact.getMetaUID());
    if (chatPanel != null) {
      if (tabbedChatWindow.getTabCount() > 0) {
        tabbedChatWindow.setTabIcon(metaContact,listModel.getMetaContactStatusIcon(metaContact));
      }
      chatPanel.updateContactStatus(protoContact);
    }
  }
}
