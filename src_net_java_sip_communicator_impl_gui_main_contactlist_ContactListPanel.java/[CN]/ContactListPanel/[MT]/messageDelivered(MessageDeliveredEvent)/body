{
  logger.trace("MESSAGE DELIVERED to contact: " + evt.getDestinationContact().getAddress());
  Message msg=evt.getSourceMessage();
  Hashtable waitToBeDelivered=this.mainFrame.getWaitToBeDeliveredMsgs();
  String msgUID=msg.getMessageUID();
  if (waitToBeDelivered.containsKey(msgUID)) {
    ChatPanel chatPanel=(ChatPanel)waitToBeDelivered.get(msgUID);
    ProtocolProviderService protocolProvider=evt.getDestinationContact().getProtocolProvider();
    logger.trace("MESSAGE DELIVERED: process message to chat for contact: " + evt.getDestinationContact().getAddress());
    chatPanel.processMessage(this.mainFrame.getAccount(protocolProvider),evt.getTimestamp(),Constants.OUTGOING_MESSAGE,msg.getContent());
    chatPanel.refreshWriteArea();
  }
}
