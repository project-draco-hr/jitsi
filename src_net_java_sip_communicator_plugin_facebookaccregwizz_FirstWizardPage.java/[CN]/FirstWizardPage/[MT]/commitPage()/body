{
  String userID=usernameField.getText().trim();
  if (userID.indexOf("@") == -1)   userID+="@" + FacebookAccountRegistrationWizard.SERVER_ADDRESS;
  if (!wizard.isModification() && isExistingAccount(userID)) {
    nextPageIdentifier=FIRST_PAGE_IDENTIFIER;
    userPassPanel.add(existingAccountLabel,BorderLayout.NORTH);
    this.revalidate();
  }
 else {
    nextPageIdentifier=SUMMARY_PAGE_IDENTIFIER;
    userPassPanel.remove(existingAccountLabel);
    FacebookAccountRegistration registration=wizard.getRegistration();
    registration.setUsername(userID);
    if (passField.getPassword() != null)     registration.setPassword(new String(passField.getPassword()));
    registration.setRememberPassword(rememberPassBox.isSelected());
  }
  isCommitted=true;
}
