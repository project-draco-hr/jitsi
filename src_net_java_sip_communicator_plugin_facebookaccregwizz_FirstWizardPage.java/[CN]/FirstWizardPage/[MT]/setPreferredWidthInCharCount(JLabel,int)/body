{
  FontMetrics fontMetrics=label.getFontMetrics(label.getFont());
  String text=label.getText();
  int textWidth=fontMetrics.stringWidth(text);
  int labelWidth=charCount * textWidth / text.length();
  label.setPreferredSize(new Dimension(labelWidth,fontMetrics.getHeight() * (textWidth / labelWidth + (textWidth % labelWidth > 0 ? 1 : 0))));
}
