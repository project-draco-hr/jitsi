{
  List<ContactDetail> ret=new LinkedList<ContactDetail>();
  Set<String> mailAddresses=person.getMail();
  Set<String> mobilePhones=person.getMobilePhone();
  Set<String> homePhones=person.getHomePhone();
  Set<String> workPhones=person.getWorkPhone();
  ContactDetail detail=null;
  for (  String mail : mailAddresses) {
    detail=new ContactDetail(mail,ContactDetail.CATEGORY_EMAIL,null);
    ret.add(detail);
  }
  for (  String homePhone : homePhones) {
    List<Class<? extends OperationSet>> supportedOpSets=new ArrayList<Class<? extends OperationSet>>(1);
    supportedOpSets.add(OperationSetBasicTelephony.class);
    homePhone=normalizePhoneNumber(homePhone);
    detail=new ContactDetail(homePhone,ContactDetail.CATEGORY_PHONE,new String[]{ContactDetail.LABEL_HOME});
    detail.setSupportedOpSets(supportedOpSets);
    ret.add(detail);
  }
  for (  String workPhone : workPhones) {
    List<Class<? extends OperationSet>> supportedOpSets=new ArrayList<Class<? extends OperationSet>>(1);
    supportedOpSets.add(OperationSetBasicTelephony.class);
    workPhone=normalizePhoneNumber(workPhone);
    detail=new ContactDetail(workPhone,ContactDetail.CATEGORY_PHONE,new String[]{ContactDetail.LABEL_WORK});
    detail.setSupportedOpSets(supportedOpSets);
    ret.add(detail);
  }
  for (  String mobilePhone : mobilePhones) {
    List<Class<? extends OperationSet>> supportedOpSets=new ArrayList<Class<? extends OperationSet>>(1);
    supportedOpSets.add(OperationSetBasicTelephony.class);
    mobilePhone=normalizePhoneNumber(mobilePhone);
    detail=new ContactDetail(mobilePhone,ContactDetail.CATEGORY_PHONE,new String[]{ContactDetail.LABEL_MOBILE});
    detail.setSupportedOpSets(supportedOpSets);
    ret.add(detail);
  }
  return ret;
}
