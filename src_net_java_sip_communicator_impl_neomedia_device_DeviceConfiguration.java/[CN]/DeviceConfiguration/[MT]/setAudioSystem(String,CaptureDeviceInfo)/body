{
  ConfigurationService config=NeomediaActivator.getConfigurationService();
  audioSystem=name;
  if (name.equals(AUDIO_SYSTEM_NONE)) {
    setAudioCaptureDevice(null);
    setAudioNotifyDevice(null);
    setAudioPlaybackDevice(null);
  }
 else   if (name.equals(AUDIO_SYSTEM_JAVASOUND)) {
    setAudioNotifyDevice(null);
    setAudioPlaybackDevice(null);
    if (captureDevice != null)     setAudioCaptureDevice(captureDevice);
 else {
      CaptureDeviceInfo[] audioCaptureDevices=getAvailableAudioCaptureDevices();
      for (      CaptureDeviceInfo captureDeviceInfo : audioCaptureDevices) {
        if (captureDeviceInfo.getLocator().getProtocol().equals("javasound")) {
          setAudioCaptureDevice(captureDeviceInfo);
          break;
        }
      }
    }
    if (audioCaptureDevice != null) {
      removePortAudioRenderer();
      initJavaSoundRenderer();
    }
  }
 else   if (name.equals(AUDIO_SYSTEM_PORTAUDIO)) {
    String audioNotifyDevName=config.getString(PROP_AUDIO_NOTIFY_DEVICE);
    String audioPlaybackDevName=config.getString(PROP_AUDIO_PLAYBACK_DEVICE);
    setAudioPlaybackDevice(PortAudioAuto.defaultPlaybackDevice);
    setAudioNotifyDevice(PortAudioAuto.defaultPlaybackDevice);
    if (captureDevice != null) {
      this.audioCaptureDevice=captureDevice;
      if (audioNotifyDevName != null) {
        for (        CaptureDeviceInfo captureDeviceInfo : PortAudioAuto.playbackDevices) {
          if (audioNotifyDevName.equals(captureDeviceInfo.getName())) {
            setAudioNotifyDevice(captureDeviceInfo);
            break;
          }
        }
      }
      if (audioPlaybackDevName != null) {
        for (        CaptureDeviceInfo captureDeviceInfo : PortAudioAuto.playbackDevices) {
          if (audioPlaybackDevName.equals(captureDeviceInfo.getName())) {
            setAudioPlaybackDevice(captureDeviceInfo);
            break;
          }
        }
      }
    }
 else     setAudioCaptureDevice(PortAudioAuto.defaultCaptureDevice);
    return;
  }
 else {
    logger.error("Unknown audio system! Name:" + name);
    audioSystem=null;
  }
  config.setProperty(PROP_AUDIO_DEVICE_IS_DISABLED,audioCaptureDevice == null);
}
