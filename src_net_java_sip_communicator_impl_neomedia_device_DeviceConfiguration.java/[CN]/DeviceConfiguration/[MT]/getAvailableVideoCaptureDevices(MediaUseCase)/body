{
  Format[] formats=new Format[]{new AVFrameFormat(),new VideoFormat(VideoFormat.RGB),new VideoFormat(VideoFormat.YUV),new VideoFormat(Constants.H264)};
  Set<CaptureDeviceInfo> videoCaptureDevices=new HashSet<CaptureDeviceInfo>();
  for (  Format format : formats) {
    @SuppressWarnings("unchecked") Vector<CaptureDeviceInfo> captureDeviceInfos=CaptureDeviceManager.getDeviceList(format);
    if (useCase != MediaUseCase.ANY) {
      for (      CaptureDeviceInfo dev : captureDeviceInfos) {
        if (useCase == MediaUseCase.CALL && !dev.getLocator().getProtocol().equals(ImageStreamingAuto.LOCATOR_PROTOCOL)) {
          videoCaptureDevices.add(dev);
        }
 else         if (useCase == MediaUseCase.DESKTOP && dev.getLocator().getProtocol().equals(ImageStreamingAuto.LOCATOR_PROTOCOL)) {
          videoCaptureDevices.add(dev);
        }
      }
    }
 else {
      videoCaptureDevices.addAll(captureDeviceInfos);
    }
  }
  return videoCaptureDevices.toArray(NO_CAPTURE_DEVICES);
}
