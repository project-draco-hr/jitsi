{
  Format[] formats=new Format[]{new AVFrameFormat(),new VideoFormat(VideoFormat.RGB),new VideoFormat(VideoFormat.YUV),new VideoFormat(Constants.H264)};
  Set<CaptureDeviceInfo> videoCaptureDevices=new HashSet<CaptureDeviceInfo>();
  for (  Format format : formats) {
    @SuppressWarnings("unchecked") Vector<CaptureDeviceInfo> cdis=CaptureDeviceManager.getDeviceList(format);
    if (useCase != MediaUseCase.ANY) {
      for (      CaptureDeviceInfo cdi : cdis) {
        MediaUseCase cdiUseCase=ImgStreamingSystem.LOCATOR_PROTOCOL.equalsIgnoreCase(cdi.getLocator().getProtocol()) ? MediaUseCase.DESKTOP : MediaUseCase.CALL;
        if (cdiUseCase.equals(useCase))         videoCaptureDevices.add(cdi);
      }
    }
 else {
      videoCaptureDevices.addAll(cdis);
    }
  }
  return new ArrayList<CaptureDeviceInfo>(videoCaptureDevices);
}
