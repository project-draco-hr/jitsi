{
  if (logger.isInfoEnabled())   logger.info("Looking for configured audio devices.");
  AudioSystem[] availableAudioSystems=getAvailableAudioSystems();
  if ((availableAudioSystems != null) && (availableAudioSystems.length != 0)) {
    AudioSystem audioSystem=getAudioSystem();
    if (audioSystem != null) {
      boolean audioSystemIsAvailable=false;
      for (      AudioSystem availableAudioSystem : availableAudioSystems) {
        if (availableAudioSystem.equals(audioSystem)) {
          audioSystemIsAvailable=true;
          break;
        }
      }
      if (!audioSystemIsAvailable)       audioSystem=null;
    }
    if (audioSystem == null) {
      ConfigurationService cfg=NeomediaActivator.getConfigurationService();
      if (cfg != null) {
        String locatorProtocol=cfg.getString(PROP_AUDIO_SYSTEM);
        if (locatorProtocol != null) {
          for (          AudioSystem availableAudioSystem : availableAudioSystems) {
            if (locatorProtocol.equalsIgnoreCase(availableAudioSystem.getLocatorProtocol())) {
              audioSystem=availableAudioSystem;
              break;
            }
          }
        }
      }
      if (audioSystem == null)       audioSystem=availableAudioSystems[0];
      setAudioSystem(audioSystem,false);
    }
  }
}
