{
  String protocol;
  if (soundSystem.equals(AUDIO_SYSTEM_JAVASOUND))   protocol="javasound";
 else   if (soundSystem.equals(AUDIO_SYSTEM_PORTAUDIO))   protocol="portaudio";
 else   return NO_CAPTURE_DEVICES;
  CaptureDeviceInfo[] cdis=getAvailableAudioCaptureDevices();
  List<CaptureDeviceInfo> ret=new ArrayList<CaptureDeviceInfo>(cdis.length);
  for (  CaptureDeviceInfo cdi : cdis)   if (protocol.equals(cdi.getLocator().getProtocol()))   ret.add(cdi);
  return ret.toArray(NO_CAPTURE_DEVICES);
}
