{
  try {
    JmfDeviceDetector.detectAndConfigureCaptureDevices();
    extractConfiguredCaptureDevices();
    ConfigurationService cfg=NeomediaActivator.getConfigurationService();
    cfg.addPropertyChangeListener(PROP_VIDEO_HEIGHT,this);
    cfg.addPropertyChangeListener(PROP_VIDEO_WIDTH,this);
    cfg.addPropertyChangeListener(PROP_VIDEO_FRAMERATE,this);
    cfg.addPropertyChangeListener(PROP_VIDEO_MAX_BANDWIDTH,this);
  }
 catch (  Exception ex) {
    logger.error("Failed to initialize media.",ex);
  }
  registerCustomRenderers();
  PortAudio.addDeviceChangedCallback(this);
}
