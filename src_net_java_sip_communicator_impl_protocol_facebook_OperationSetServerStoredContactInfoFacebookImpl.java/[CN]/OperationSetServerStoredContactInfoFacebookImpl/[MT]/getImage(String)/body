{
  ByteArrayOutputStream byteArrayOS=new ByteArrayOutputStream();
  try {
    URL url=new URL(urlStr);
    BufferedImage newAvatar=ImageIO.read(url);
    javax.imageio.ImageIO.write(newAvatar,"PNG",byteArrayOS);
  }
 catch (  IOException e) {
    logger.warn("IOException occured when loading image",e);
    return null;
  }
 finally {
    try {
      byteArrayOS.close();
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
  return byteArrayOS.toByteArray();
}
