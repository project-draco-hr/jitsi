{
  String myEmail=yahooProvider.getAccountID().getAccountAddress();
  String yahooMailLogon="http://mail." + myEmail.substring(myEmail.indexOf("@") + 1);
  yahooMailLogon="<a href=\"" + yahooMailLogon + "\">"+ yahooMailLogon+ "</a>";
  String newMail="<b>" + Resources.getString("newMail") + " : </b> "+ ev.getSubject();
  newMail+="\n<br /><b>" + Resources.getString("from") + " : </b> "+ ev.getFrom()+ " &lt;"+ ev.getEmailAddress()+ "&gt;";
  newMail+="\n<br />&nbsp;&nbsp;&nbsp;&nbsp;" + yahooMailLogon;
  Message newMailMessage=new MessageYahooImpl(newMail,CONTENT_TYPE_HTML,DEFAULT_MIME_ENCODING,null);
  Contact sourceContact=null;
  if (ev.getEmailAddress() != null) {
    sourceContact=opSetPersPresence.findContactByID(ev.getEmailAddress());
  }
  if (sourceContact == null) {
    logger.debug("received a new mail from an unknown contact: " + ev.getFrom());
    sourceContact=opSetPersPresence.createVolatileContact(ev.getFrom());
  }
  MessageReceivedEvent msgReceivedEvt=new MessageReceivedEvent(newMailMessage,sourceContact,new Date(),MessageReceivedEvent.SYSTEM_MESSAGE_RECEIVED);
  fireMessageEvent(msgReceivedEvt);
}
