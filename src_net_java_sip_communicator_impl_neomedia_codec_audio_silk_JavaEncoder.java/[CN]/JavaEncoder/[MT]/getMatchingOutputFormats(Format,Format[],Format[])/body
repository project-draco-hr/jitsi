{
  if (inputFormat == null)   return supportedOutputFormats;
 else {
    Format matchingInputFormat=matches(inputFormat,supportedInputFormats);
    if (matchingInputFormat == null)     return new Format[0];
 else {
      AudioFormat matchingInputAudioFormat=(AudioFormat)matchingInputFormat.intersects(inputFormat);
      Format outputFormat=new AudioFormat(null,matchingInputAudioFormat.getSampleRate(),Format.NOT_SPECIFIED,Format.NOT_SPECIFIED,Format.NOT_SPECIFIED,Format.NOT_SPECIFIED,Format.NOT_SPECIFIED,Format.NOT_SPECIFIED,null);
      Format matchingOutputFormat=matches(outputFormat,supportedOutputFormats);
      if (matchingOutputFormat == null)       return new Format[0];
 else       return new Format[]{matchingOutputFormat.intersects(outputFormat)};
    }
  }
}
