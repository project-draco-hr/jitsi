{
  encState=new SKP_Silk_encoder_state_FLP();
  encControl=new SKP_SILK_SDK_EncControlStruct();
  if (Silk_enc_API.SKP_Silk_SDK_InitEncoder(encState,encControl) != 0)   throw new ResourceUnavailableException("Silk_enc_API.SKP_Silk_SDK_InitEncoder");
  AudioFormat inputFormat=(AudioFormat)getInputFormat();
  double sampleRate=inputFormat.getSampleRate();
  int channels=inputFormat.getChannels();
  encControl.API_sampleRate=(int)sampleRate;
  encControl.bitRate=BITRATE;
  encControl.complexity=COMPLEXITY;
  encControl.maxInternalSampleRate=encControl.API_sampleRate;
  encControl.packetLossPercentage=PACKET_LOSS_PERCENTAGE;
  encControl.packetSize=(int)((JavaDecoder.FRAME_DURATION * sampleRate * channels) / 1000);
  encControl.useDTX=USE_DTX ? 1 : 0;
  encControl.useInBandFEC=USE_IN_BAND_FEC ? 1 : 0;
}
