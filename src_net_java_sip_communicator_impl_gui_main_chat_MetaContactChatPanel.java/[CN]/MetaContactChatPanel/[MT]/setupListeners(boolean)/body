{
  MetaContactListService contactList=chatWindow.getMainFrame().getContactList();
  if (add) {
    contactList.addMetaContactListListener(this);
  }
 else {
    contactList.removeMetaContactListListener(this);
  }
  for (Iterator iter=metaContact.getContacts(); iter.hasNext(); ) {
    Contact contact=(Contact)iter.next();
    OperationSetPresence opsPresence=(OperationSetPresence)contact.getProtocolProvider().getOperationSet(OperationSetPresence.class);
    if (opsPresence != null) {
      if (add) {
        opsPresence.addSubscriptionListener(this);
      }
 else {
        opsPresence.removeSubscriptionListener(this);
      }
    }
  }
}
