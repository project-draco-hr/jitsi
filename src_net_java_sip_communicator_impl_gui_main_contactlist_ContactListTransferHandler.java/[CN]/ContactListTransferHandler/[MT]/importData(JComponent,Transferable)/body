{
  if (t.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {
    Object o=null;
    try {
      o=t.getTransferData(DataFlavor.javaFileListFlavor);
    }
 catch (    UnsupportedFlavorException e) {
      logger.debug("Failed to drop files.",e);
    }
catch (    IOException e) {
      logger.debug("Failed to drop files.",e);
    }
    if (o instanceof Collection) {
      ChatPanel chatPanel=getChatPanel();
      if (chatPanel != null) {
        Collection<File> files=(Collection<File>)o;
        for (        File file : files) {
          chatPanel.sendFile(file);
          GuiActivator.getUIService().getChatWindowManager().openChat(chatPanel,false);
        }
        return true;
      }
    }
  }
 else   if (t.isDataFlavorSupported(metaContactDataFlavor)) {
    Object o=null;
    try {
      o=t.getTransferData(metaContactDataFlavor);
    }
 catch (    UnsupportedFlavorException e) {
      if (logger.isDebugEnabled())       logger.debug("Failed to drop meta contact.",e);
    }
catch (    IOException e) {
      if (logger.isDebugEnabled())       logger.debug("Failed to drop meta contact.",e);
    }
    if (o instanceof MetaContact && comp instanceof ContactList) {
      MetaContact transferredContact=(MetaContact)o;
      ContactList list=(ContactList)comp;
      Object dest=list.getSelectedValue();
      if (transferredContact != null) {
        if (dest instanceof MetaContact) {
          MetaContact destContact=(MetaContact)dest;
          if (transferredContact != destContact) {
            list.moveMetaContactToMetaContact(transferredContact,destContact);
          }
          return true;
        }
 else         if (dest instanceof MetaContactGroup) {
          MetaContactGroup destGroup=(MetaContactGroup)dest;
          if (transferredContact.getParentMetaContactGroup() != destGroup) {
            list.moveMetaContactToGroup(transferredContact,destGroup);
          }
          return true;
        }
      }
    }
  }
  return false;
}
