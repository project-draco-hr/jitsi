{
  logger.trace("Group added: " + group.getName());
  logger.trace("Buddies: " + buddies);
  ContactGroupIcqImpl newGroup=findContactGroup(group.getName());
  if (newGroup == null) {
    newGroup=new ContactGroupIcqImpl((MutableGroup)group,buddies,ServerStoredContactListIcqImpl.this,true);
    rootGroup.addSubGroup(newGroup);
    fireGroupEvent(newGroup,ServerStoredGroupEvent.GROUP_CREATED_EVENT);
  }
 else {
    List<Contact> newContacts=new ArrayList<Contact>();
    List<ContactIcqImpl> deletedContacts=new ArrayList<ContactIcqImpl>();
    newGroup.updateGroup((MutableGroup)group,buddies,newContacts,deletedContacts);
    fireGroupEvent(newGroup,ServerStoredGroupEvent.GROUP_RESOLVED_EVENT);
    Iterator<ContactIcqImpl> deletedContactsIter=deletedContacts.iterator();
    while (deletedContactsIter.hasNext()) {
      ContactIcqImpl contact=(ContactIcqImpl)deletedContactsIter.next();
      fireContactRemoved(newGroup,contact);
    }
    Iterator<Contact> contactsIter=newGroup.contacts();
    while (contactsIter.hasNext()) {
      ContactIcqImpl contact=(ContactIcqImpl)contactsIter.next();
      if (newContacts.contains(contact))       fireContactAdded(newGroup,contact);
 else       fireContactResolved(newGroup,contact);
    }
  }
  for (int i=0; i < buddies.size(); i++)   ((Buddy)buddies.get(i)).addBuddyListener(jsimBuddyListener);
  group.addGroupListener(jsimGroupChangeListener);
}
