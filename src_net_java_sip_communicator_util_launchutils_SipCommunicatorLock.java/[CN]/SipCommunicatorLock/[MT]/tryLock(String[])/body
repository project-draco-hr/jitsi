{
  File lockFile=getLockFile();
  if (lockFile.exists()) {
    InetSocketAddress lockAddress=readLockFile(lockFile);
    if (lockAddress != null) {
      if (interInstanceConnect(lockAddress,args) == SUCCESS) {
        return ALREADY_STARTED;
      }
    }
    lockFile.delete();
  }
  try {
    lockFile.getParentFile().mkdirs();
    lockFile.createNewFile();
  }
 catch (  IOException e) {
    logger.error("Failed to create lock file" + lockFile,e);
  }
  lockFile.deleteOnExit();
  return lock(lockFile);
}
