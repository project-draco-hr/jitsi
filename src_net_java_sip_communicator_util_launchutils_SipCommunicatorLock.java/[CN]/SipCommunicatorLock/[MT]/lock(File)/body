{
  InetAddress lockAddress=getRandomBindAddress();
  if (lockAddress == null) {
    return LOCK_ERROR;
  }
  int port=getRandomPortNumber();
  InetSocketAddress serverSocketAddress=new InetSocketAddress(lockAddress,port);
  writeLockFile(lockFile,serverSocketAddress);
  startLockServer(serverSocketAddress);
  return SUCCESS;
}
