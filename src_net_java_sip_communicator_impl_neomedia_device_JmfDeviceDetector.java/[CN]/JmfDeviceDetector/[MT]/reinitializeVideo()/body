{
  Vector<CaptureDeviceInfo> devInfos=(Vector<CaptureDeviceInfo>)CaptureDeviceManager.getDeviceList(null);
  Vector<CaptureDeviceInfo> copyDevInfos=new Vector<CaptureDeviceInfo>(devInfos.size());
  for (  CaptureDeviceInfo dev : devInfos) {
    Format fmts[]=dev.getFormats();
    if (fmts.length > 0 && fmts[0] instanceof VideoFormat) {
      if (dev.getName().startsWith("Desktop Streaming")) {
        copyDevInfos.add(dev);
      }
    }
  }
  for (  CaptureDeviceInfo dev : copyDevInfos)   CaptureDeviceManager.removeDevice(dev);
  try {
    new ImageStreamingAuto();
  }
 catch (  Throwable exc) {
    logger.debug("No desktop streaming available: " + exc.getMessage(),exc);
  }
}
