{
  Request invite=messageFactory.createInviteRequest(calleeAddress,cause);
  ClientTransaction inviteTransaction=null;
  SipProvider jainSipProvider=getProtocolProvider().getDefaultJainSipProvider();
  try {
    inviteTransaction=jainSipProvider.getNewClientTransaction(invite);
  }
 catch (  TransactionUnavailableException ex) {
    ProtocolProviderServiceSipImpl.throwOperationFailedException("Failed to create inviteTransaction.\n" + "This is most probably a network connection error.",OperationFailedException.INTERNAL_ERROR,ex,logger);
  }
  CallPeerSipImpl callPeer=createCallPeerFor(inviteTransaction,jainSipProvider);
  callPeer.getMediaHandler().setLocalVideoTransmissionEnabled(localVideoAllowed);
  if (initialQualityPreferences != null) {
    callPeer.getMediaHandler().setSupportQualityControls(true);
    callPeer.getMediaHandler().getQualityControls().setRemoteSendMaxPreset(initialQualityPreferences);
  }
  try {
    callPeer.invite();
  }
 catch (  OperationFailedException ex) {
    callPeer.setState(CallPeerState.FAILED);
    throw ex;
  }
  return callPeer;
}
