{
  CallPeerSipImpl callPeer=new CallPeerSipImpl(containingTransaction.getDialog().getRemoteParty(),this);
  callPeer.setState((containingTransaction instanceof ServerTransaction) ? CallPeerState.INCOMING_CALL : CallPeerState.INITIATING_CALL);
  callPeer.setDialog(containingTransaction.getDialog());
  callPeer.setFirstTransaction(containingTransaction);
  callPeer.setJainSipProvider(sourceProvider);
  return callPeer;
}
