{
  if (streams == null) {
    FormatControl[] formatControls=internalGetFormatControls();
    if (formatControls != null) {
      int formatControlCount=formatControls.length;
      streams=new AbstractBufferStream[formatControlCount];
      for (int i=0; i < formatControlCount; i++)       streams[i]=createStream(i,formatControls[i]);
      if (started)       for (      AbstractBufferStream stream : streams)       try {
        stream.start();
      }
 catch (      IOException ioex) {
        throw new UndeclaredThrowableException(ioex);
      }
    }
  }
  int streamCount=(streams == null) ? 0 : streams.length;
  @SuppressWarnings("unchecked") AbstractBufferStreamT[] clone=(AbstractBufferStreamT[])Array.newInstance(clz,streamCount);
  if (streamCount != 0)   System.arraycopy(streams,0,clone,0,streamCount);
  return clone;
}
