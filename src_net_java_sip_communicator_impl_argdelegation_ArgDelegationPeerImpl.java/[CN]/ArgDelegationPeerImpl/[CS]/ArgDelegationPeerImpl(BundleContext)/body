{
  Collection<ServiceReference<UriHandler>> uriHandlerRefs;
  try {
    uriHandlerRefs=bundleContext.getServiceReferences(UriHandler.class,null);
  }
 catch (  InvalidSyntaxException ex) {
    if (logger.isInfoEnabled()) {
      logger.info("An error occurred while retrieving UriHandlers",ex);
    }
    return;
  }
  if ((uriHandlerRefs == null) || uriHandlerRefs.isEmpty()) {
    return;
  }
synchronized (uriHandlers) {
    for (    ServiceReference<UriHandler> uriHandlerRef : uriHandlerRefs) {
      UriHandler uriHandler=bundleContext.getService(uriHandlerRef);
      uriHandlers.put(uriHandler.getProtocol(),uriHandler);
    }
  }
}
