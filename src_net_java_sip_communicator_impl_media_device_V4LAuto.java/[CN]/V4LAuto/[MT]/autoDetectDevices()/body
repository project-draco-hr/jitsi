{
  Vector devices=(Vector)CaptureDeviceManager.getDeviceList(null).clone();
  Enumeration enumeration=devices.elements();
  while (enumeration.hasMoreElements()) {
    CaptureDeviceInfo cdi=(CaptureDeviceInfo)enumeration.nextElement();
    String name=cdi.getName();
    if (name.startsWith("v4l:"))     CaptureDeviceManager.removeDevice(cdi);
  }
  int nDevices=0;
  for (int i=0; i < 10; i++) {
    CaptureDeviceInfo cdi=autoDetect(i);
    if (cdi != null)     nDevices++;
  }
  return nDevices;
}
