{
  try {
    Alerter.newInstance();
  }
 catch (  Exception exception) {
    logger.info("The Alerter not supported or problem loading it!",exception);
    return;
  }
  ServiceReference uiServiceRef=bc.getServiceReference(UIService.class.getName());
  uiService=(UIService)bc.getService(uiServiceRef);
  this.bundleContext=bc;
  bc.addServiceListener(this);
  ServiceReference[] protocolProviderRefs;
  try {
    protocolProviderRefs=bc.getServiceReferences(ProtocolProviderService.class.getName(),null);
  }
 catch (  InvalidSyntaxException ex) {
    logger.error("Error while retrieving service refs",ex);
    return;
  }
  if (protocolProviderRefs != null) {
    logger.debug("Found " + protocolProviderRefs.length + " already installed providers.");
    for (    ServiceReference protocolProviderRef : protocolProviderRefs) {
      ProtocolProviderService provider=(ProtocolProviderService)bc.getService(protocolProviderRef);
      this.handleProviderAdded(provider);
    }
  }
}
