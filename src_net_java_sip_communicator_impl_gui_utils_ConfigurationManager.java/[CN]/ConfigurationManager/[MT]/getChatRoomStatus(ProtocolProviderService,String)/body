{
  String prefix="net.java.sip.communicator.impl.gui.accounts";
  List accounts=configService.getPropertyNamesByPrefix(prefix,true);
  Iterator accountsIter=accounts.iterator();
  while (accountsIter.hasNext()) {
    String accountRootPropName=(String)accountsIter.next();
    String accountUID=configService.getString(accountRootPropName);
    if (accountUID.equals(protocolProvider.getAccountID().getAccountUniqueID())) {
      List chatRooms=configService.getPropertyNamesByPrefix(accountRootPropName + ".chatRooms",true);
      Iterator chatRoomsIter=chatRooms.iterator();
      while (chatRoomsIter.hasNext()) {
        String chatRoomPropName=(String)chatRoomsIter.next();
        String chatRoomID=configService.getString(chatRoomPropName);
        if (!chatRoomId.equals(chatRoomID))         continue;
        return configService.getString(chatRoomPropName + ".lastChatRoomStatus");
      }
    }
  }
  return null;
}
