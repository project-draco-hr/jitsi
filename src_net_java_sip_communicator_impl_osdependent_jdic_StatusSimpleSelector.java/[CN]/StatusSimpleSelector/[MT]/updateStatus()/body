{
  if (menu instanceof AbstractButton) {
    byte[] iconBytes=provider.getProtocolIcon().getIcon(ProtocolIcon.ICON_SIZE_16x16);
    if ((iconBytes != null) && (iconBytes.length > 0)) {
      ImageIcon icon=new ImageIcon(iconBytes);
      if (!provider.isRegistered())       icon=new ImageIcon(LightGrayFilter.createDisabledImage(icon.getImage()));
      ((AbstractButton)menu).setIcon(icon);
    }
  }
}
