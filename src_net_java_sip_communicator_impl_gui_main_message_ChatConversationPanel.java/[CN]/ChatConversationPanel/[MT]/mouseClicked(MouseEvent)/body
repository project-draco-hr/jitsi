{
  if ((e.getModifiers() & InputEvent.BUTTON3_MASK) != 0) {
    if (currentHref != null) {
      if (currentHref != "") {
        rightButtonMenu.insert(openLinkItem,0);
        rightButtonMenu.insert(copyLinkItem,1);
        rightButtonMenu.insert(copyLinkSeparator,2);
      }
 else {
        rightButtonMenu.remove(openLinkItem);
        rightButtonMenu.remove(copyLinkItem);
        rightButtonMenu.remove(copyLinkSeparator);
      }
    }
    if (chatEditorPane.getSelectedText() != null) {
      rightButtonMenu.enableCopy();
    }
 else {
      rightButtonMenu.disableCopy();
    }
    Point p=e.getPoint();
    SwingUtilities.convertPointToScreen(p,e.getComponent());
    rightButtonMenu.setInvoker(chatEditorPane);
    rightButtonMenu.setLocation(p.x,p.y);
    rightButtonMenu.setVisible(true);
  }
}
