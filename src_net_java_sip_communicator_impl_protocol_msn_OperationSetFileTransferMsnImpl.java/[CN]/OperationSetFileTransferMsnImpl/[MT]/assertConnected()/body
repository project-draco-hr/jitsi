{
  if (msnProvider == null)   throw new IllegalStateException("The provider must be non-null and signed on the " + "service before being able to send a file.");
 else   if (!msnProvider.isRegistered())   throw new IllegalStateException("The provider must be signed on the service before " + "being able to send a file.");
}
