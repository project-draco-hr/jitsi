{
  if (logger.isDebugEnabled())   logger.debug("The provider changed state from: " + evt.getOldState() + " to: "+ evt.getNewState());
  if (evt.getNewState() == RegistrationState.REGISTERED) {
    if (msnProvider.getMessenger() != null) {
      msnProvider.getMessenger().addFileTransferListener(new FileTransferProtocolListener());
    }
 else     if (logger.isInfoEnabled())     logger.info("Registered but msnMessenger is missing!",new Exception());
  }
}
