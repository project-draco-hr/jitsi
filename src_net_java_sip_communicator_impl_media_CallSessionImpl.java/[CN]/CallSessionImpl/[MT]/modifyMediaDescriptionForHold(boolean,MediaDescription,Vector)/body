{
  String oldAttribute=on ? "recvonly" : "inactive";
  String newAttribute=null;
  if (attributes != null)   for (Iterator attributeIter=attributes.iterator(); attributeIter.hasNext(); ) {
    String attribute=((Attribute)attributeIter.next()).getName();
    if (oldAttribute.equalsIgnoreCase(attribute))     newAttribute=on ? "inactive" : "recvonly";
  }
  if (newAttribute == null)   newAttribute=on ? "sendonly" : "sendrecv";
  mediaDescription.removeAttribute("inactive");
  mediaDescription.removeAttribute("recvonly");
  mediaDescription.removeAttribute("sendonly");
  mediaDescription.removeAttribute("sendrecv");
  mediaDescription.setAttribute(newAttribute,null);
}
