{
  SessionDescription participantDescription=null;
  try {
    participantDescription=mediaServCallback.getSdpFactory().createSessionDescription(participantSdpDescription);
  }
 catch (  SdpParseException ex) {
    throw new MediaException("Failed to parse the SDP description of the participant.",MediaException.INTERNAL_ERROR,ex);
  }
  SessionDescription sdpOffer=createSessionDescription(participantDescription,null);
  Vector<MediaDescription> mediaDescriptions=null;
  try {
    mediaDescriptions=sdpOffer.getMediaDescriptions(true);
  }
 catch (  SdpException ex) {
    throw new MediaException("Failed to get media descriptions from SDP offer.",MediaException.INTERNAL_ERROR,ex);
  }
  for (Iterator<MediaDescription> mediaDescriptionIter=mediaDescriptions.iterator(); mediaDescriptionIter.hasNext(); ) {
    MediaDescription mediaDescription=mediaDescriptionIter.next();
    Vector<Attribute> attributes=mediaDescription.getAttributes(false);
    try {
      modifyMediaDescriptionForHold(on,mediaDescription,attributes);
    }
 catch (    SdpException ex) {
      throw new MediaException("Failed to modify media description for hold.",MediaException.INTERNAL_ERROR,ex);
    }
  }
  try {
    sdpOffer.setMediaDescriptions(mediaDescriptions);
  }
 catch (  SdpException ex) {
    throw new MediaException("Failed to set media descriptions to SDP offer.",MediaException.INTERNAL_ERROR,ex);
  }
  return sdpOffer.toString();
}
