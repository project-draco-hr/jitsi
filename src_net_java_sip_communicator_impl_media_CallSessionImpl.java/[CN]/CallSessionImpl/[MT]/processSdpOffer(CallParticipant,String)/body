{
  SessionDescription sdpOffer=null;
  try {
    sdpOffer=mediaServCallback.getSdpFactory().createSessionDescription(sdpOfferStr);
  }
 catch (  SdpParseException ex) {
    throw new ParseException("Failed to parse SDPOffer: " + ex.getMessage(),ex.getCharOffset());
  }
catch (  Exception ex) {
    throw new ParseException("Failed to parse SDPOffer: " + ex.getMessage(),0);
  }
  SessionDescription sdpAnswer=createSessionDescription(sdpOffer,null);
  Vector<MediaDescription> mediaDescriptions=null;
  try {
    mediaDescriptions=sdpOffer.getMediaDescriptions(true);
  }
 catch (  SdpException exc) {
    logger.error("failed to extract media descriptions",exc);
    throw new MediaException("failed to extract media descriptions",MediaException.INTERNAL_ERROR,exc);
  }
  this.initStreamTargets(sdpOffer.getConnection(),mediaDescriptions);
  createSendStreams(mediaDescriptions);
  return sdpAnswer.toString();
}
