{
  String newContactID="TestyPesty";
  MetaContact metaContact=fixture.metaClService.getRoot().getMetaContact(0);
  MetaContact dstMetaContact=fixture.metaClService.getRoot().getMetaContact(1);
  MclEventCollector evtCollector=new MclEventCollector();
  fixture.metaClService.addContactListListener(evtCollector);
  fixture.metaClService.addNewContactToMetaContact(fixture.mockProvider,metaContact,newContactID);
  fixture.metaClService.removeContactListListener(evtCollector);
  assertEquals("Dest. meta Contact did not seem to contain an " + "extra proto contact.",2,metaContact.getContactCount());
  MockContact newContact=(MockContact)metaContact.getContact(newContactID,fixture.mockProvider);
  assertNotNull("newContact",newContact);
  assertSame("Proto specific contact in mock contact list.",newContact,opSetPersPresence.getServerStoredContactListRoot().getContact(newContactID));
  assertEquals("Events delivered while adding a new contact to a " + "meta contact",1,evtCollector.collectedEvents.size());
  MetaContactEvent event=(MetaContactEvent)evtCollector.collectedEvents.get(0);
  evtCollector.collectedEvents.clear();
  assertSame("Source contact in MetaContactEvent gen. upon add.",metaContact,event.getSourceContact());
  assertSame("Source provider in MetaContactEvent gen. upon add.",fixture.mockProvider,event.getSourceProvider());
  assertEquals("Event ID in MetaContactEvent gen. upon add.",MetaContactEvent.PROTO_CONTACT_ADDED,event.getEventID());
  fixture.metaClService.addContactListListener(evtCollector);
  fixture.metaClService.moveContact(newContact,dstMetaContact);
  fixture.metaClService.removeContactListListener(evtCollector);
  assertEquals("Orig. Meta Contact did not seem restored after removing " + "the newly added contact.",1,metaContact.getContactCount());
  assertEquals("A Meta Contact did not seem updated after moving a " + "contact inside it.",2,dstMetaContact.getContactCount());
  newContact=(MockContact)dstMetaContact.getContact(newContactID,fixture.mockProvider);
  assertNotNull("newContact",newContact);
  assertEquals("Events delivered while adding a moving a proto contact. ",1,evtCollector.collectedEvents.size());
  event=(MetaContactEvent)evtCollector.collectedEvents.get(0);
  evtCollector.collectedEvents.clear();
  assertSame("Source contact in MetaContactEvent gen. upon move.",dstMetaContact,event.getSourceContact());
  assertSame("Source provider in MetaContactEvent gen. upon move.",fixture.mockProvider,event.getSourceProvider());
  assertEquals("Event ID in MetaContactEvent gen. upon add.",MetaContactEvent.PROTO_CONTACT_MOVED,event.getEventID());
  fixture.metaClService.addContactListListener(evtCollector);
  fixture.metaClService.removeContact(newContact);
  fixture.metaClService.removeContactListListener(evtCollector);
  assertEquals("Dest. Meta Contact did not seem restored after removing " + "the newly added contact.",1,dstMetaContact.getContactCount());
  assertNull("The MetaContactList did not remove a contact from the " + "MockList on del.",opSetPersPresence.getServerStoredContactListRoot().getContact(newContactID));
  assertEquals("Events delivered while adding a new contact to a " + "meta contact",1,evtCollector.collectedEvents.size());
  event=(MetaContactEvent)evtCollector.collectedEvents.get(0);
  evtCollector.collectedEvents.clear();
  assertSame("Source contact in MetaContactEvent gen. upon remove.",dstMetaContact,event.getSourceContact());
  assertSame("Source provider in MetaContactEvent gen. upon remove.",fixture.mockProvider,event.getSourceProvider());
  assertEquals("Event ID in MetaContactEvent gen. upon remove.",MetaContactEvent.PROTO_CONTACT_REMOVED,event.getEventID());
}
