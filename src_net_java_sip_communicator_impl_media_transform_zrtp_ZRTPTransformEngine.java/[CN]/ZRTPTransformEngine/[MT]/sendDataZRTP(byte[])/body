{
  int totalLength=ZRTP_PACKET_HEADER + data.length;
  byte[] tmp=new byte[totalLength];
  System.arraycopy(data,0,tmp,ZRTP_PACKET_HEADER,data.length);
  ZrtpRawPacket packet=new ZrtpRawPacket(tmp,0,tmp.length);
  packet.setSSRC(ownSSRC);
  packet.setSeqNum(senderZrtpSeqNo++);
  packet.setCrc();
  try {
    zrtpConnector.getDataOutputStream().write(packet.getBuffer(),packet.getOffset(),packet.getLength());
  }
 catch (  IOException e) {
    logger.warn("Failed to send ZRTP data.");
    if (logger.isDebugEnabled())     logger.debug("Failed to send ZRTP data.",e);
    return false;
  }
  return true;
}
