{
  final Stack<ControlChar> unwind=new Stack<ControlChar>();
  while (!this.formatting.empty()) {
    ControlChar current=this.formatting.pop();
    this.text.append(current.getHtmlEnd());
    if (current == c) {
      break;
    }
 else {
      unwind.push(current);
    }
  }
  while (!unwind.empty()) {
    ControlChar current=unwind.pop();
    this.text.append(current.getHtmlStart());
    this.formatting.push(current);
  }
}
