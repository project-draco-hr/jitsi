{
  GuiActivator.bundleContext=bundleContext;
  this.communicatorMain=new CommunicatorMain();
  MainFrame mainFrame=communicatorMain.getMainFrame();
  this.loginManager=new LoginManager(mainFrame);
  try {
    ServiceReference clistReference=bundleContext.getServiceReference(MetaContactListService.class.getName());
    MetaContactListService contactListService=(MetaContactListService)bundleContext.getService(clistReference);
    mainFrame.setContactList(contactListService);
    logger.logEntry();
    this.uiService=new UIServiceImpl(mainFrame);
    logger.info("UI Service...[  STARTED ]");
    bundleContext.registerService(UIService.class.getName(),this.uiService,null);
    logger.info("UI Service ...[REGISTERED]");
    System.setProperty("uiService","started");
    communicatorMain.showCommunicator(true);
    SwingUtilities.invokeLater(new RunLogin());
  }
  finally {
    logger.logExit();
  }
}
