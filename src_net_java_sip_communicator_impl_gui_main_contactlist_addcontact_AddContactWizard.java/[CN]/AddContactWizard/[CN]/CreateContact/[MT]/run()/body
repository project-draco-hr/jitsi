{
  try {
    GuiActivator.getContactListService().createMetaContact(pps,group,newContact.getUin());
  }
 catch (  MetaContactListException ex) {
    logger.error(ex);
    ex.printStackTrace();
    int errorCode=ex.getErrorCode();
    if (errorCode == MetaContactListException.CODE_CONTACT_ALREADY_EXISTS_ERROR) {
      new ErrorDialog(mainFrame,GuiActivator.getResources().getI18NString("addContactErrorTitle"),GuiActivator.getResources().getI18NString("service.gui.ADD_CONTACT_EXIST_ERROR",new String[]{newContact.getUin()}),ex).showDialog();
    }
 else     if (errorCode == MetaContactListException.CODE_NETWORK_ERROR) {
      new ErrorDialog(mainFrame,GuiActivator.getResources().getI18NString("service.gui.ADD_CONTACT_ERROR_TITLE"),GuiActivator.getResources().getI18NString("service.gui.ADD_CONTACT_NETWORK_ERROR",new String[]{newContact.getUin()}),ex).showDialog();
    }
 else {
      new ErrorDialog(mainFrame,GuiActivator.getResources().getI18NString("addContactErrorTitle"),GuiActivator.getResources().getI18NString("service.gui.ADD_CONTACT_ERROR",new String[]{newContact.getUin()}),ex).showDialog();
    }
  }
  ConfigurationManager.setLastContactParent(group.getGroupName());
}
