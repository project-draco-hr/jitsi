{
  Hashtable<String,String> containerFilter=new Hashtable<String,String>();
  OtrMetaContactMenu rightClickMenu=new OtrMetaContactMenu(Container.CONTAINER_CONTACT_RIGHT_BUTTON_MENU,OtrActivator.resourceService.getImage("plugin.otr.MENU_ITEM_ICON_16x16"));
  containerFilter.put(Container.CONTAINER_ID,Container.CONTAINER_CONTACT_RIGHT_BUTTON_MENU.getID());
  bundleContext.registerService(PluginComponent.class.getName(),rightClickMenu,containerFilter);
  OtrMetaContactMenu chatMenuBarMenu=new OtrMetaContactMenu(Container.CONTAINER_CHAT_MENU_BAR,null);
  containerFilter.put(Container.CONTAINER_ID,Container.CONTAINER_CHAT_MENU_BAR.getID());
  bundleContext.registerService(PluginComponent.class.getName(),chatMenuBarMenu,containerFilter);
  OtrMetaContactButton btn=new OtrMetaContactButton(Container.CONTAINER_CHAT_TOOL_BAR);
  containerFilter.put(Container.CONTAINER_ID,Container.CONTAINER_CHAT_TOOL_BAR.getID());
  bundleContext.registerService(PluginComponent.class.getName(),btn,containerFilter);
  bundleContext.registerService(ConfigurationForm.class.getName(),new LazyConfigurationForm("net.java.sip.communicator.plugin.otr.OtrConfigurationPanel",getClass().getClassLoader(),"plugin.otr.configform.ICON","plugin.otr.configform.TITLE",30),null);
}
