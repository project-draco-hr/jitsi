{
  JMenuItem menuItem=(JMenuItem)e.getSource();
  String itemTitle=menuItem.getText();
  for (int i=0; i < protocolCList.size(); i++) {
    Contact protocolContact=(Contact)protocolCList.get(i);
    if (protocolContact.getDisplayName().equals(itemTitle)) {
      OperationSetBasicInstantMessaging im=chatPanel.getChatWindow().getMainFrame().getProtocolIM(protocolContact.getProtocolProvider());
      chatPanel.setImOperationSet(im);
      chatPanel.setProtocolContact(protocolContact);
      contactSelectorBox.setSelected(protocolContact,menuItem.getIcon());
    }
  }
}
