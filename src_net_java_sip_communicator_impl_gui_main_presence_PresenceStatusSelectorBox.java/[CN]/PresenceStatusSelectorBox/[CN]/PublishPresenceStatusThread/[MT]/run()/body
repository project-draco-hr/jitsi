{
  try {
    presence.publishPresenceStatus(status,"");
  }
 catch (  IllegalArgumentException e1) {
    logger.error("Error - changing status",e1);
  }
catch (  IllegalStateException e1) {
    logger.error("Error - changing status",e1);
  }
catch (  OperationFailedException e1) {
    if (e1.getErrorCode() == OperationFailedException.GENERAL_ERROR) {
      String msgText=Messages.getI18NString("statusChangeGeneralError").getText();
      new ErrorDialog(null,Messages.getI18NString("generalError").getText(),msgText,e1).showDialog();
    }
 else     if (e1.getErrorCode() == OperationFailedException.NETWORK_FAILURE) {
      String msgText=Messages.getI18NString("statusChangeNetworkFailure").getText();
      new ErrorDialog(null,Messages.getI18NString("networkFailure").getText(),msgText,e1).showDialog();
    }
 else     if (e1.getErrorCode() == OperationFailedException.PROVIDER_NOT_REGISTERED) {
      String msgText=Messages.getI18NString("statusChangeNetworkFailure").getText();
      new ErrorDialog(null,Messages.getI18NString("networkFailure").getText(),msgText,e1).showDialog();
    }
    logger.error("Error - changing status",e1);
  }
}
