{
  PresenceStatus oldStatus=statusLongToPresenceStatus(oldStatusL);
  PresenceStatus newStatus=statusLongToPresenceStatus(newStatusL);
  if (oldStatus.equals(newStatus)) {
    logger.debug("Ignored prov stat. change evt. old==new = " + oldStatus);
    return;
  }
  ProviderPresenceStatusChangeEvent evt=new ProviderPresenceStatusChangeEvent(icqProvider,oldStatus,newStatus);
  logger.debug("Dispatching Provider Status Change. Listeners=" + providerPresenceStatusListeners.size() + " evt="+ evt);
  Iterator listeners=null;
synchronized (providerPresenceStatusListeners) {
    listeners=new ArrayList(providerPresenceStatusListeners).iterator();
  }
  while (listeners.hasNext()) {
    ProviderPresenceStatusListener listener=(ProviderPresenceStatusListener)listeners.next();
    listener.providerStatusChanged(evt);
  }
}
