{
  assertConnected();
  if (!(status instanceof IcqStatusEnum))   throw new IllegalArgumentException(status + " is not a valid ICQ status");
  long icqStatus=presenceStatusToIcqStatusLong((IcqStatusEnum)status);
  logger.debug("Will set status: " + status + " long="+ icqStatus);
  MainBosService bosService=icqProvider.getAimConnection().getBosService();
  bosService.sendSnac(new SetExtraInfoCmd(icqStatus));
  bosService.setStatusMessage(statusMessage);
  queryContactStatus(icqProvider.getAimConnection().getScreenname().getFormatted());
}
