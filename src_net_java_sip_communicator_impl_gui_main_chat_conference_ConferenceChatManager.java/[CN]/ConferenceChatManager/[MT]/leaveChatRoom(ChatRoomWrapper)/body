{
  ChatRoom chatRoom=chatRoomWrapper.getChatRoom();
  if (chatRoom == null) {
    new ErrorDialog(GuiActivator.getUIService().getMainFrame(),Messages.getI18NString("warning").getText(),Messages.getI18NString("haveToBeConnectedToLeave").getText()).showDialog();
    return;
  }
  if (chatRoom.isJoined())   chatRoom.leave();
  ChatRoomWrapper existChatRoomWrapper=chatRoomList.findChatRoomWrapperFromChatRoom(chatRoom);
  if (existChatRoomWrapper == null)   return;
  ConfigurationManager.updateChatRoomStatus(chatRoomWrapper.getParentProvider().getProtocolProvider(),chatRoomWrapper.getChatRoomID(),Constants.OFFLINE_STATUS);
}
