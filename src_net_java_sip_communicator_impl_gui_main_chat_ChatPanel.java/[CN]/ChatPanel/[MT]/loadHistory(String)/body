{
  SwingWorker historyWorker=new SwingWorker(){
    private Collection<Object> historyList;
    public Object construct() throws Exception {
      loadHistoryPeriod();
      historyList=chatSession.getHistory(ConfigurationUtils.getChatHistorySize());
      return historyList;
    }
    /** 
 * Called on the event dispatching thread (not on the worker thread)
 * after the <code>construct</code> method has returned.
 */
    public void finished(){
      if (historyList != null && historyList.size() > 0) {
        processHistory(historyList,escapedMessageID);
      }
      isHistoryLoaded=true;
      addIncomingEvents();
    }
  }
;
  historyWorker.start();
}
