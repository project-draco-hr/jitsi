{
  new Thread(){
    public void run(){
      loadHistoryPeriod();
      Collection<EventObject> historyList=chatSession.getHistory(ConfigurationManager.getChatHistorySize());
      if (historyList.size() > 0) {
class ProcessHistory implements Runnable {
          Collection<EventObject> historyList;
          ProcessHistory(          Collection<EventObject> historyList){
            this.historyList=historyList;
          }
          public void run(){
            processHistory(historyList,null);
          }
        }
        SwingUtilities.invokeLater(new ProcessHistory(historyList));
      }
    }
  }
.start();
}
