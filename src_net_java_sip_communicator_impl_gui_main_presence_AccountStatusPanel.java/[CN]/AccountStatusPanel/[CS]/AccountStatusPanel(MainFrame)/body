{
  super(new BorderLayout(10,0));
  FramedImageWithMenu imageWithMenu=new FramedImageWithMenu(mainFrame,new ImageIcon(ImageLoader.getImage(ImageLoader.DEFAULT_USER_PHOTO)),AVATAR_ICON_WIDTH,AVATAR_ICON_HEIGHT);
  imageWithMenu.setPopupMenu(new SelectAvatarMenu(imageWithMenu));
  this.accountImageLabel=imageWithMenu;
  accountNameLabel.setFont(accountNameLabel.getFont().deriveFont(12f));
  accountNameLabel.setOpaque(false);
  statusComboBox=new GlobalStatusSelectorBox();
  statusComboBox.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));
  TransparentPanel statusToolsPanel=new TransparentPanel(new BorderLayout(0,0));
  SIPCommMenuBar statusMenuBar=new SIPCommMenuBar();
  statusMenuBar.add(statusComboBox);
  statusToolsPanel.add(statusMenuBar,BorderLayout.WEST);
  toolbarPluginPanel=new TransparentPanel(new FlowLayout(FlowLayout.RIGHT,0,0));
  mainToolbarPluginContainer=new PluginContainer(toolbarPluginPanel,Container.CONTAINER_MAIN_TOOL_BAR);
  statusToolsPanel.add(toolbarPluginPanel,BorderLayout.EAST);
  TransparentPanel rightPanel=new TransparentPanel();
  rightPanel.setLayout(new BorderLayout(0,0));
  rightPanel.add(accountNameLabel,BorderLayout.NORTH);
  rightPanel.add(statusToolsPanel,BorderLayout.SOUTH);
  this.add(accountImageLabel,BorderLayout.WEST);
  this.add(rightPanel,BorderLayout.CENTER);
  southPluginPanel=new TransparentPanel(new BorderLayout());
  southPluginContainer=new PluginContainer(southPluginPanel,Container.CONTAINER_ACCOUNT_SOUTH);
  this.add(southPluginPanel,BorderLayout.SOUTH);
  loadSkin();
  GuiActivator.getUIService().addPluginComponentListener(this);
  GuiActivator.getGlobalDisplayDetailsService().addGlobalDisplayDetailsListener(this);
  String globalDisplayName=GuiActivator.getGlobalDisplayDetailsService().getGlobalDisplayName();
  if (!StringUtils.isNullOrEmpty(globalDisplayName))   accountNameLabel.setText(globalDisplayName);
}
