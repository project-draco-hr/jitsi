{
  super(new BorderLayout(10,0));
  this.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  if (ConfigurationManager.isTransparentWindowEnabled())   this.setUI(new SIPCommOpaquePanelUI());
  accountImageLabel=new FramedImage(new ImageIcon(ImageLoader.getImage(ImageLoader.DEFAULT_USER_PHOTO)),AVATAR_ICON_WIDTH,AVATAR_ICON_HEIGHT);
  accountNameLabel.setFont(accountNameLabel.getFont().deriveFont(Font.BOLD));
  accountNameLabel.setOpaque(false);
  statusComboBox=new GlobalStatusSelectorBox(mainFrame);
  statusComboBox.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));
  TransparentPanel statusToolsPanel=new TransparentPanel(new BorderLayout());
  SIPCommMenuBar statusMenuBar=new SIPCommMenuBar();
  statusMenuBar.setLayout(new BorderLayout(0,0));
  statusMenuBar.add(statusComboBox);
  statusToolsPanel.add(statusMenuBar,BorderLayout.WEST);
  TransparentPanel pluginPanel=new TransparentPanel(new FlowLayout(FlowLayout.RIGHT));
  pluginContainer=new PluginContainer(new TransparentPanel(new FlowLayout(FlowLayout.RIGHT)),Container.CONTAINER_MAIN_TOOL_BAR);
  statusToolsPanel.add(pluginPanel,BorderLayout.EAST);
  TransparentPanel rightPanel=new TransparentPanel(new GridLayout(0,1,0,0));
  rightPanel.add(accountNameLabel);
  rightPanel.add(statusToolsPanel);
  this.add(accountImageLabel,BorderLayout.WEST);
  this.add(rightPanel,BorderLayout.CENTER);
  BufferedImage bgImage=ImageLoader.getImage(ImageLoader.WINDOW_TITLE_BAR_BG);
  texture=new TexturePaint(bgImage,new Rectangle(0,0,bgImage.getWidth(null),bgImage.getHeight(null)));
}
