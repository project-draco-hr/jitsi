{
  ProtocolProviderService protocolProvider=evt.getProvider();
  this.updateStatus(protocolProvider);
  if (evt.getNewState().equals(RegistrationState.REGISTERED)) {
    final OperationSetServerStoredAccountInfo accountInfoOpSet=protocolProvider.getOperationSet(OperationSetServerStoredAccountInfo.class);
    if (accountInfoOpSet != null)     new Thread(){
      public void run(){
        byte[] accountImage=AccountInfoUtils.getImage(accountInfoOpSet);
        if ((accountImage != null) && (accountImage.length > 0))         accountImageLabel.setImageIcon(accountImage);
        String firstName=AccountInfoUtils.getFirstName(accountInfoOpSet);
        String lastName=AccountInfoUtils.getLastName(accountInfoOpSet);
        String accountName;
        if (firstName != null)         if (lastName != null)         accountName=firstName + " " + lastName;
 else         accountName=firstName;
 else         if (lastName != null)         accountName=lastName;
 else         accountName="";
        if (accountName.length() == 0) {
          String displayName=AccountInfoUtils.getDisplayName(accountInfoOpSet);
          if (displayName != null)           accountName=displayName;
        }
        if (accountName.length() > 0)         accountNameLabel.setText(accountName);
      }
    }
.start();
  }
}
