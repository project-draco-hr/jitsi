{
  String reasonStr="Call ended by remote side.";
  ReasonPacketExtension reasonExt=sessionIQ.getReason();
  if (reasonStr != null && reasonExt != null) {
    Reason reason=reasonExt.getReason();
    if (reason != null)     reasonStr+=" Reason: " + reason.toString() + ".";
    String text=reasonExt.getText();
    if (text != null)     reasonStr+=" " + text;
  }
  TransportManagerGTalkImpl transportManager=getMediaHandler().queryTransportManager();
  if (transportManager != null)   transportManager.close();
  setState(CallPeerState.DISCONNECTED,reasonStr);
}
