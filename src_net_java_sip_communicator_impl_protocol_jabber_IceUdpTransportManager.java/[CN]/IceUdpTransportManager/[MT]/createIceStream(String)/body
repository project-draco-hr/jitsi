{
  IceMediaStream stream;
  try {
    stream=getNetAddrMgr().createIceStream(nextMediaPortToTry,media,iceAgent);
  }
 catch (  Exception exc) {
    throw new OperationFailedException("Failed to initialize stream " + media,OperationFailedException.INTERNAL_ERROR);
  }
  try {
    nextMediaPortToTry=stream.getComponent(Component.RTCP).getLocalCandidates().get(0).getTransportAddress().getPort() + 1;
  }
 catch (  Throwable t) {
    logger.debug("Determining next port didn't work: ",t);
  }
  return stream;
}
