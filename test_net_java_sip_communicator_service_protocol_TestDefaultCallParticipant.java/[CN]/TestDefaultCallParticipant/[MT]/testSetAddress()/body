{
  String expectedReturn="sip:abc@def.ghi";
  String secondChange="sip:jkl@mno.pqr";
  defaultCallParticipant.setAddress(expectedReturn);
  defaultCallParticipant.addCallParticipantListener(new CpAdapter());
  String actualReturn=defaultCallParticipant.getAddress();
  assertEquals("address getter or setter fails",expectedReturn,actualReturn);
  defaultCallParticipant.setAddress(secondChange);
  assertNotNull("setAddress did not trigger an event",lastCpChangeEvent);
  assertEquals("setAddress triggered an event with the wrong type",lastCpChangeEvent.getEventType(),CallParticipantChangeEvent.CALL_PARTICIPANT_ADDRESS_CHANGE);
  assertEquals("event triggerred by setAddress had a bad oldValue",lastCpChangeEvent.getOldValue(),expectedReturn);
  assertEquals("event triggerred by setAddress had a bad newValue",lastCpChangeEvent.getNewValue(),secondChange);
}
