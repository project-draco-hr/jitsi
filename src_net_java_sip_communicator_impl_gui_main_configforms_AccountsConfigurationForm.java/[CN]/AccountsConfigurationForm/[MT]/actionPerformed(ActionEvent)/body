{
  JButton sourceButton=(JButton)evt.getSource();
  if (sourceButton.equals(newButton)) {
    AccountRegWizardContainerImpl wizard=(AccountRegWizardContainerImpl)GuiActivator.getUIService().getAccountRegWizardContainer();
    wizard.setTitle(Messages.getString("accountRegistrationWizard"));
    wizard.setLocation(Toolkit.getDefaultToolkit().getScreenSize().width / 2 - 250,Toolkit.getDefaultToolkit().getScreenSize().height / 2 - 100);
    wizard.newAccount();
    wizard.showDialog(false);
  }
 else   if (sourceButton.equals(modifyButton)) {
    if (accountsTable.getSelectedRow() != -1) {
      AccountRegWizardContainerImpl wizard=(AccountRegWizardContainerImpl)GuiActivator.getUIService().getAccountRegWizardContainer();
      wizard.setTitle(Messages.getString("accountRegistrationWizard"));
      wizard.setLocation(Toolkit.getDefaultToolkit().getScreenSize().width / 2 - 250,Toolkit.getDefaultToolkit().getScreenSize().height / 2 - 100);
      ProtocolProviderService protocolProvider=(ProtocolProviderService)tableModel.getValueAt(accountsTable.getSelectedRow(),0);
      wizard.modifyAccount(protocolProvider);
      wizard.showDialog(false);
    }
  }
 else   if (sourceButton.equals(removeButton)) {
    if (accountsTable.getSelectedRow() != -1) {
      ProtocolProviderService protocolProvider=(ProtocolProviderService)tableModel.getValueAt(accountsTable.getSelectedRow(),0);
      ProtocolProviderFactory providerFactory=GuiActivator.getProtocolProviderFactory(protocolProvider);
      if (providerFactory != null) {
        int result=JOptionPane.showConfirmDialog(this,Messages.getString("removeAccountMessage"),Messages.getString("removeAccount"),JOptionPane.YES_NO_CANCEL_OPTION);
        if (result == JOptionPane.YES_OPTION) {
          ConfigurationService configService=GuiActivator.getConfigurationService();
          String prefix="net.java.sip.communicator.impl.ui.accounts";
          List accounts=configService.getPropertyNamesByPrefix(prefix,true);
          Iterator accountsIter=accounts.iterator();
          while (accountsIter.hasNext()) {
            String accountRootPropName=(String)accountsIter.next();
            String accountUID=configService.getString(accountRootPropName);
            if (accountUID.equals(protocolProvider.getAccountID().getAccountUniqueID())) {
              configService.setProperty(accountRootPropName,null);
              break;
            }
          }
          providerFactory.uninstallAccount(protocolProvider.getAccountID());
        }
      }
    }
  }
}
