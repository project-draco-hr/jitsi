{
  CallSipImpl sipCall=(CallSipImpl)call;
  CallSession callSession=sipCall.getMediaCallSession();
  try {
    callSession.setLocalVideoAllowed(allowed);
  }
 catch (  MediaException ex) {
    throw new OperationFailedException("Failed to allow/disallow the streaming of local video.",OperationFailedException.INTERNAL_ERROR,ex);
  }
  Iterator<CallPeer> peers=call.getCallPeers();
  while (peers.hasNext()) {
    CallPeerSipImpl peer=(CallPeerSipImpl)peers.next();
    String sdpOffer=null;
    try {
      sdpOffer=callSession.createSdpOffer(peer.getSdpDescription());
    }
 catch (    MediaException ex) {
      throw new OperationFailedException("Failed to create re-invite offer for peer " + peer,OperationFailedException.INTERNAL_ERROR,ex);
    }
    basicTelephony.sendInviteRequest(peer,sdpOffer);
  }
}
