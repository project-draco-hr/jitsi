{
  OperationSetSecureTelephony secure=focusPeer.getProtocolProvider().getOperationSet(OperationSetSecureTelephony.class);
  if (secure != null) {
    CallPeerSecurityStatusEvent securityEvent=focusPeer.getCurrentSecuritySettings();
    CallPeerSecurityOnEvent securityOnEvent=null;
    if (securityEvent instanceof CallPeerSecurityOnEvent)     securityOnEvent=(CallPeerSecurityOnEvent)securityEvent;
    if (securityOnEvent != null) {
      securityOn(securityOnEvent.getSecurityString(),securityOnEvent.isSecurityVerified());
      setEncryptionCipher(securityOnEvent.getCipher());
switch (securityOnEvent.getSessionType()) {
case CallPeerSecurityOnEvent.AUDIO_SESSION:
        setAudioSecurityOn(true);
      break;
case CallPeerSecurityOnEvent.VIDEO_SESSION:
    setVideoSecurityOn(true);
  break;
}
NotificationManager.fireNotification(NotificationManager.CALL_SECURITY_ON);
}
}
}
