{
  if (!jabberProvider.isRegistered()) {
    if (logger.isTraceEnabled())     logger.trace("provider not registered. " + "won't send keep alive. acc.id=" + jabberProvider.getAccountID().getAccountUniqueID());
    return;
  }
  KeepAliveEvent keepAliveEvent=new KeepAliveEvent(jabberProvider.getConnection().getUser());
  keepAliveEvent.setSrcOpSetHash(OperationSetBasicInstantMessagingJabberImpl.this.hashCode());
  keepAliveEvent.setSrcProviderHash(jabberProvider.hashCode());
  keepAliveTimer.schedule(new KeepAliveCheckTask(),KEEPALIVE_WAIT);
  if (logger.isTraceEnabled())   logger.trace("send keepalive for acc: " + jabberProvider.getAccountID().getAccountUniqueID());
  jabberProvider.getConnection().sendPacket(keepAliveEvent);
}
