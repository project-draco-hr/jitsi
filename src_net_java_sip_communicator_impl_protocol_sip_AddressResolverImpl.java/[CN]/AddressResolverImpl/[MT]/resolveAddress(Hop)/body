{
  try {
    String lookupStr=null;
    if (inputAddress.getTransport().equalsIgnoreCase(ListeningPoint.UDP))     lookupStr="_sip._udp." + inputAddress.getHost();
 else     if (inputAddress.getTransport().equalsIgnoreCase(ListeningPoint.TCP))     lookupStr="_sip._tcp." + inputAddress.getHost();
 else     if (inputAddress.getTransport().equalsIgnoreCase(ListeningPoint.TLS))     lookupStr="_sips._tcp." + inputAddress.getHost();
    InetSocketAddress hosts[]=NetworkUtils.getSRVRecords(lookupStr);
    if (hosts != null && hosts.length > 0) {
      logger.trace("Will set server address from SRV records " + hosts[0]);
      return new HopImpl(hosts[0].getHostName(),hosts[0].getPort(),inputAddress.getTransport());
    }
  }
 catch (  Exception ex) {
    logger.error("Domain not resolved " + ex.getMessage());
  }
  if (inputAddress.getPort() != -1)   return inputAddress;
 else {
    return new HopImpl(inputAddress.getHost(),MessageProcessor.getDefaultPort(inputAddress.getTransport()),inputAddress.getTransport());
  }
}
