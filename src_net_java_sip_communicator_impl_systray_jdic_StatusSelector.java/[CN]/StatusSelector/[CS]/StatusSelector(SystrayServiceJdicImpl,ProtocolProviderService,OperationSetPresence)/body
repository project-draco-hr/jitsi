{
  this.parentSystray=jdicSystray;
  this.provider=provider;
  this.presence=presence;
  this.statusMessageMenu=new StatusMessageMenu(provider);
  this.setText(provider.getAccountID().getUserID());
  this.setIcon(new ImageIcon(presence.getPresenceStatus().getStatusIcon()));
  Iterator statusIterator=this.presence.getSupportedStatusSet();
  while (statusIterator.hasNext()) {
    PresenceStatus status=(PresenceStatus)statusIterator.next();
    ImageIcon icon=new ImageIcon(status.getStatusIcon());
    JMenuItem item=new JMenuItem(status.getStatusName(),icon);
    item.addActionListener(this);
    this.add(item);
  }
  this.addSeparator();
  this.add(statusMessageMenu);
}
