{
  this.pps=pps;
  this.chatRoomId=chatRoomId;
  setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
  refreshValue();
  JPanel choicePanel=new TransparentPanel();
  choicePanel.setLayout(new BoxLayout(choicePanel,BoxLayout.Y_AXIS));
  choicePanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));
  openOnActivity.addActionListener(this);
  openOnMessage.addActionListener(this);
  openOnImportantMessage.addActionListener(this);
  setTitle(GuiActivator.getResources().getI18NString("service.gui.OPEN_AUTOMATICALLY"));
  openOnActivity.setOpaque(false);
  openOnMessage.setOpaque(false);
  openOnImportantMessage.setOpaque(false);
  ButtonGroup buttonGroup=new ButtonGroup();
  buttonGroup.add(openOnActivity);
  buttonGroup.add(openOnMessage);
  buttonGroup.add(openOnImportantMessage);
  choicePanel.add(openOnActivity);
  choicePanel.add(openOnMessage);
  choicePanel.add(openOnImportantMessage);
  JPanel buttonPanel=new TransparentPanel(new FlowLayout(FlowLayout.RIGHT));
  updateView();
  okButton.addActionListener(this);
  cancelButton.addActionListener(this);
  buttonPanel.add(okButton);
  buttonPanel.add(cancelButton);
  add(choicePanel,BorderLayout.CENTER);
  add(buttonPanel,BorderLayout.SOUTH);
  setVisible(true);
  setPreferredSize(new Dimension(320,150));
  pack();
}
