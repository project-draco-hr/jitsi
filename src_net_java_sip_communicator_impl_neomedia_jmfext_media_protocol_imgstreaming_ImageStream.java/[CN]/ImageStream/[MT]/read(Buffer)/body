{
synchronized (buf) {
    try {
      Object bufData=buf.getData();
      int bufLength=buf.getLength();
      if ((bufData != null) || (bufLength != 0)) {
        buffer.setData(bufData);
        buffer.setOffset(0);
        buffer.setLength(bufLength);
        buffer.setFormat(buf.getFormat());
        buffer.setHeader(null);
        buffer.setTimeStamp(buf.getTimeStamp());
        buffer.setSequenceNumber(buf.getSequenceNumber());
        buffer.setFlags(buf.getFlags());
        buf.setData(null);
        buf.setLength(0);
      }
    }
 catch (    Exception e) {
    }
  }
}
