{
  int size=dim.width * dim.height * 4;
  size+=FFmpeg.FF_INPUT_BUFFER_PADDING_SIZE;
  if (data == null || reinit) {
    data=new ByteBuffer(size);
    data.setLength(size);
    reinit=false;
  }
 else   if (data.capacity < size) {
    data.setFree(true);
    FFmpeg.av_free(data.ptr);
    data=new ByteBuffer(size);
    data.setLength(size);
  }
  return desktopInteract.captureScreen(displayIndex,0,0,dim.width,dim.height,data.ptr,data.getLength());
}
