{
  if (encodings != null)   return encodings;
  MediaFormat[] availableEncodings=encodingConfiguration.getAvailableEncodings(type);
  final int encodingCount=availableEncodings.length;
  if (encodingCount < 1)   encodings=MediaUtils.EMPTY_MEDIA_FORMATS;
 else {
    encodings=new MediaFormat[encodingCount];
    System.arraycopy(availableEncodings,0,encodings,0,encodingCount);
    Arrays.sort(encodings,0,encodingCount,new Comparator<MediaFormat>(){
      public int compare(      MediaFormat format0,      MediaFormat format1){
        return encodingConfiguration.getPriority(format1) - encodingConfiguration.getPriority(format0);
      }
    }
);
  }
  return encodings;
}
