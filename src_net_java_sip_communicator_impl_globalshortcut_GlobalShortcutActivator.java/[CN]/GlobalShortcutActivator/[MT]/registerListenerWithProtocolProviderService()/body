{
  ServiceReference refs[]=null;
  try {
    refs=bundleContext.getServiceReferences(ProtocolProviderService.class.getName(),null);
  }
 catch (  InvalidSyntaxException e) {
    e.printStackTrace();
  }
  if (refs == null)   return;
  for (  ServiceReference ref : refs) {
    ProtocolProviderService service=(ProtocolProviderService)bundleContext.getService(ref);
    OperationSetBasicTelephony<?> opSet=service.getOperationSet(OperationSetBasicTelephony.class);
    if (opSet != null)     opSet.addCallListener(globalShortcutService.getCallShortcut());
  }
}
