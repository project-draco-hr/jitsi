{
synchronized (syncChat) {
    if (containsChat(metaContact)) {
      ContactListModel listModel=(ContactListModel)mainFrame.getContactListPanel().getContactList().getModel();
      ChatPanel chatPanel=getChat(metaContact);
      chatPanel.updateContactStatus(metaContact,protoContact);
      if (Constants.TABBED_CHAT_WINDOW) {
        ChatWindow chatWindow=chatPanel.getChatWindow();
        if (chatWindow.getChatTabCount() > 0) {
          chatWindow.setTabIcon(chatPanel,listModel.getMetaContactStatusIcon(metaContact));
        }
      }
    }
  }
}
