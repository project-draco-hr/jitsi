{
  if ((e.getModifiers() & InputEvent.BUTTON2_MASK) != 0 || (e.getModifiers() & InputEvent.BUTTON3_MASK) != 0 || (e.isControlDown() && !e.isMetaDown())) {
    this.setSelectedIndex(locationToIndex(e.getPoint()));
  }
  Object o=this.getSelectedValue();
  if ((e.getModifiers() & InputEvent.BUTTON1_MASK) != 0) {
    if (o instanceof ChatRoomWrapper) {
      ChatRoomWrapper chatRoomWrapper=(ChatRoomWrapper)o;
      ChatWindowManager chatWindowManager=mainFrame.getChatWindowManager();
      ChatPanel chatPanel=chatWindowManager.getMultiChat(chatRoomWrapper);
      chatWindowManager.openChat(chatPanel,true);
    }
  }
 else   if ((e.getModifiers() & InputEvent.BUTTON3_MASK) != 0) {
    if (o instanceof ProtocolProviderService) {
      ChatRoomServerRightButtonMenu rightButtonMenu=new ChatRoomServerRightButtonMenu(mainFrame,(ProtocolProviderService)o);
      rightButtonMenu.setInvoker(this);
      rightButtonMenu.setLocation(e.getX() + mainFrame.getX() + 5,e.getY() + mainFrame.getY() + 105);
      rightButtonMenu.setVisible(true);
    }
 else     if (o instanceof ChatRoomWrapper) {
      ChatRoomRightButtonMenu rightButtonMenu=new ChatRoomRightButtonMenu(mainFrame,(ChatRoomWrapper)o);
      rightButtonMenu.setInvoker(this);
      rightButtonMenu.setLocation(e.getX() + mainFrame.getX() + 5,e.getY() + mainFrame.getY() + 105);
      rightButtonMenu.setVisible(true);
    }
  }
}
