{
  ServiceReference confReference=bundleContext.getServiceReference(ConfigurationService.class.getName());
  ConfigurationService configurationService=(ConfigurationService)bundleContext.getService(confReference);
  List storedAccounts=configurationService.getPropertyNamesByPrefix(sourcePackageName,true);
  logger.debug("Discovered " + storedAccounts.size() + " stored accounts");
  Iterator storedAccountsIter=storedAccounts.iterator();
  while (storedAccountsIter.hasNext()) {
    String accountRootPropName=(String)storedAccountsIter.next();
    logger.debug("Loading account " + accountRootPropName);
    Map accountProperties=new Hashtable();
    String accountUID=configurationService.getString(accountRootPropName + "." + ACCOUNT_UID);
    accountProperties.put(ACCOUNT_UID,accountUID);
    String userID=configurationService.getString(accountRootPropName + "." + USER_ID);
    String password=configurationService.getString(accountRootPropName + "." + PASSWORD);
    if (password != null) {
      password=new String(Base64.decode(password));
      accountProperties.put(PASSWORD,password);
    }
    loadAccount(userID,accountProperties);
  }
}
