{
  int status=event.getNewStatus();
  if (status == FileTransfer.PREPARING) {
    progressBar.setVisible(false);
    titleLabel.setText(resources.getI18NString("service.gui.FILE_TRANSFER_PREPARING",new String[]{toContactName}));
    cancelButton.setVisible(true);
    retryButton.setVisible(false);
  }
 else   if (status == FileTransfer.FAILED) {
    progressBar.setVisible(false);
    titleLabel.setText(resources.getI18NString("service.gui.FILE_UNABLE_TO_SEND",new String[]{toContactName}));
    cancelButton.setVisible(false);
    retryButton.setVisible(true);
    setWarningStyle(true);
  }
 else   if (status == FileTransfer.IN_PROGRESS) {
    titleLabel.setText(resources.getI18NString("service.gui.FILE_SENDING_TO",new String[]{toContactName}));
    setWarningStyle(false);
    if (!progressBar.isVisible()) {
      progressBar.setVisible(true);
    }
  }
 else   if (status == FileTransfer.COMPLETED) {
    progressBar.setVisible(false);
    titleLabel.setText(resources.getI18NString("service.gui.FILE_SEND_COMPLETED",new String[]{toContactName}));
    cancelButton.setVisible(false);
    retryButton.setVisible(false);
  }
 else   if (status == FileTransfer.CANCELED) {
    progressBar.setVisible(false);
    titleLabel.setText(resources.getI18NString("service.gui.FILE_TRANSFER_CANCELED"));
    cancelButton.setVisible(false);
    retryButton.setVisible(true);
    setWarningStyle(true);
  }
 else   if (status == FileTransfer.REFUSED) {
    progressBar.setVisible(false);
    titleLabel.setText(resources.getI18NString("service.gui.FILE_SEND_REFUSED",new String[]{toContactName}));
    cancelButton.setVisible(false);
    retryButton.setVisible(true);
    setWarningStyle(true);
  }
}
