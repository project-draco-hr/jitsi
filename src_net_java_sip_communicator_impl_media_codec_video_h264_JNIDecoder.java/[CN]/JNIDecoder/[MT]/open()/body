{
  if (opened)   return;
  long avcodec=FFMPEG.avcodec_find_decoder(FFMPEG.CODEC_ID_H264);
  avcontext=FFMPEG.avcodec_alloc_context();
  FFMPEG.avcodeccontext_set_workaround_bugs(avcontext,FFMPEG.FF_BUG_AUTODETECT);
  if (FFMPEG.avcodec_open(avcontext,avcodec) < 0)   throw new RuntimeException("Could not open codec");
  avframe=FFMPEG.avcodec_alloc_frame();
  frameRGB=FFMPEG.avcodec_alloc_frame();
  opened=true;
  super.open();
}
