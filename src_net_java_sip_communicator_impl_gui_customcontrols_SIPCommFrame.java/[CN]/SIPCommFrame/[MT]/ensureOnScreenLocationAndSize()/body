{
  int x=this.getX();
  int y=this.getY();
  int width=this.getWidth();
  int height=this.getHeight();
  int screenWidth=Toolkit.getDefaultToolkit().getScreenSize().width;
  int screenHeight=Toolkit.getDefaultToolkit().getScreenSize().height;
  if (x < 0 || y < 0) {
    this.setLocation(Toolkit.getDefaultToolkit().getScreenSize().width / 2 - this.getWidth() / 2,50);
    x=this.getX();
    y=this.getY();
  }
  Rectangle virtualBounds=new Rectangle();
  GraphicsEnvironment ge=GraphicsEnvironment.getLocalGraphicsEnvironment();
  GraphicsDevice[] gs=ge.getScreenDevices();
  for (int j=0; j < gs.length; j++) {
    GraphicsDevice gd=gs[j];
    GraphicsConfiguration[] gc=gd.getConfigurations();
    for (int i=0; i < gc.length; i++) {
      virtualBounds=virtualBounds.union(gc[i].getBounds());
    }
  }
  if (!(virtualBounds.contains(x,y) && virtualBounds.contains(x + width,y + height))) {
    if (x + width > virtualBounds.width) {
      x=virtualBounds.width - width;
      if (x < 20) {
        x=20;
        width=virtualBounds.width - 40;
      }
    }
    if (y + height > virtualBounds.height) {
      y=virtualBounds.height - height;
      if (y < 20) {
        y=20;
        height=virtualBounds.height - 40;
      }
    }
    this.setPreferredSize(new Dimension(width,height));
    this.setSize(width,height);
    this.setLocation(x,y);
  }
}
