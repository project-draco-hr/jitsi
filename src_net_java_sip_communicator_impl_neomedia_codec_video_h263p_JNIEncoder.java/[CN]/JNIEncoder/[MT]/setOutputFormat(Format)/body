{
  if (!(out instanceof VideoFormat) || (null == AbstractCodecExt.matches(out,getMatchingOutputFormats(inputFormat))))   return null;
  VideoFormat videoOut=(VideoFormat)out;
  Dimension outSize=videoOut.getSize();
  if (outSize == null) {
    Dimension inSize=((VideoFormat)inputFormat).getSize();
    outSize=(inSize == null) ? new Dimension(Constants.VIDEO_WIDTH,Constants.VIDEO_HEIGHT) : inSize;
  }
  outputFormat=new VideoFormat(videoOut.getEncoding(),outSize,Format.NOT_SPECIFIED,Format.byteArray,videoOut.getFrameRate());
  return outputFormat;
}
