{
  if (!GuiActivator.isStarted)   return;
  ServiceReference serRef=event.getServiceReference();
  String protocolName=(String)serRef.getProperty(ProtocolProviderFactory.PROTOCOL);
  Object sService=GuiActivator.bundleContext.getService(event.getServiceReference());
  if (!(sService instanceof AccountRegistrationWizard)) {
    return;
  }
  AccountRegistrationWizard wizard=(AccountRegistrationWizard)sService;
  if (event.getType() == ServiceEvent.REGISTERED) {
    logger.info("Handling registration of a new Account Wizard.");
    this.addAccountRegistrationWizard(protocolName,wizard);
  }
 else   if (event.getType() == ServiceEvent.UNREGISTERING) {
    this.removeAccountRegistrationWizard(protocolName,wizard);
  }
}
