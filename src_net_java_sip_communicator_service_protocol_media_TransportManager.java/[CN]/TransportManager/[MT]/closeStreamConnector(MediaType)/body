{
  StreamConnector connector=streamConnectors[mediaType.ordinal()];
  if (connector != null) {
synchronized (connector) {
      DatagramSocket dataSocket=connector.getDataSocket();
      if (dataSocket != null)       dataSocket.close();
      DatagramSocket controlSocket=connector.getControlSocket();
      if (controlSocket != null)       controlSocket.close();
      try {
        Socket dataTcpSocket=connector.getDataTCPSocket();
        if (dataTcpSocket != null)         dataTcpSocket.close();
        Socket controlTcpSocket=connector.getDataTCPSocket();
        if (controlTcpSocket != null)         controlTcpSocket.close();
      }
 catch (      IOException e) {
        logger.info("Failed to close TCP socket",e);
      }
      streamConnectors[mediaType.ordinal()]=null;
    }
  }
}
