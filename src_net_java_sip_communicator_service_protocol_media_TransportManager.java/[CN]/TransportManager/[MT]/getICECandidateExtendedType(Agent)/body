{
  if (iceAgent != null) {
    List<IceMediaStream> iceMediaStreams=iceAgent.getStreams();
    for (int i=0; i < iceMediaStreams.size(); ++i) {
      List<org.ice4j.ice.Component> components=iceMediaStreams.get(i).getComponents();
      for (int j=0; j < components.size(); ++j) {
        org.ice4j.ice.Component component=components.get(i);
        if (component.getComponentID() == org.ice4j.ice.Component.RTP) {
          CandidatePair candidatePair=component.getSelectedPair();
          if (candidatePair != null) {
            LocalCandidate localCandidate=candidatePair.getLocalCandidate();
            if (localCandidate != null) {
              return localCandidate.getExtendedType().toString();
            }
          }
        }
      }
    }
  }
  return null;
}
