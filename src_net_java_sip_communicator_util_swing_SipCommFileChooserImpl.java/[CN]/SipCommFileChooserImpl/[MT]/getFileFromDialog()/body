{
  int choice=-1;
  if (this.getDialogType() == JFileChooser.OPEN_DIALOG) {
    choice=this.showOpenDialog(this.getParentComponent());
  }
 else {
    choice=this.showSaveDialog(this.getParentComponent());
  }
  if (choice == JFileChooser.APPROVE_OPTION) {
    return this.getSelectedFile();
  }
 else {
    return null;
  }
}
