{
  boolean audio=false;
  boolean video=false;
  List<GTalkCandidatePacketExtension> candidates=new LinkedList<GTalkCandidatePacketExtension>();
synchronized (wrapupSyncRoot) {
    for (    PayloadTypePacketExtension ext : ourAnswer) {
      if (ext.getNamespace().equals(SessionIQProvider.GTALK_AUDIO_NAMESPACE)) {
        audio=true;
      }
 else       if (ext.getNamespace().equals(SessionIQProvider.GTALK_VIDEO_NAMESPACE)) {
        video=true;
      }
    }
    if (audio) {
      IceMediaStream stream=createIceStream("rtp",video,getPortTracker(MediaType.AUDIO));
      candidates.addAll(GTalkPacketFactory.createCandidates("rtp",stream));
    }
    if (video) {
      IceMediaStream stream=createIceStream("video_rtp",true,getPortTracker(MediaType.VIDEO));
      candidates.addAll(GTalkPacketFactory.createCandidates("video_rtp",stream));
    }
    candidatesSender.sendCandidates(candidates);
  }
}
