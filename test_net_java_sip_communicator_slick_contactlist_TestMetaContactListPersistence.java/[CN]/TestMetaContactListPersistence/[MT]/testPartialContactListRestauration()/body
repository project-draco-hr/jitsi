{
  ContactGroup oldProtoRoot=((OperationSetPersistentPresence)fixture.mockProvider.getSupportedOperationSets().get(OperationSetPersistentPresence.class.getName())).getServerStoredContactListRoot();
  fixture.assertGroupEquals((MockContactGroup)oldProtoRoot,fixture.metaClService.getRoot(),true);
  ContactGroup newProtoRoot=((OperationSetPersistentPresence)fixture.replacementMockPr.getSupportedOperationSets().get(OperationSetPersistentPresence.class.getName())).getServerStoredContactListRoot();
  assertEquals("Newly loaded provider does not match the old one.",oldProtoRoot,newProtoRoot);
  Iterator subgroups=newProtoRoot.subgroups();
  while (subgroups.hasNext()) {
    assertUnresolvedContents((MockContactGroup)subgroups.next());
  }
}
