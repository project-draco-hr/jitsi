{
  ChatRoom sourceChatRoom=(ChatRoom)evt.getSource();
  if (!sourceChatRoom.equals(chatRoom))   return;
  logger.trace("MESSAGE RECEIVED from contact: " + evt.getSourceContact().getAddress());
  Contact sourceContact=evt.getSourceContact();
  Date date=evt.getTimestamp();
  Message message=evt.getMessage();
  ChatRoom chatRoom=(ChatRoom)evt.getSource();
  ChatPanel chatPanel=chatWindowManager.getChatRoom(chatRoom);
  chatPanel.processMessage(sourceContact.getDisplayName(),date,Constants.INCOMING_MESSAGE,message.getContent());
  chatWindowManager.openChat(chatPanel,false);
  GuiActivator.getAudioNotifier().createAudio(Sounds.INCOMING_MESSAGE).play();
  chatPanel.treatReceivedMessage(sourceContact);
}
