{
  String password=SIPAccRegWizzActivator.getSIPProtocolProviderFactory().loadPassword(accountID);
  String serverAddress=accountID.getAccountPropertyString(ProtocolProviderFactory.SERVER_ADDRESS);
  String displayName=accountID.getAccountPropertyString(ProtocolProviderFactory.DISPLAY_NAME);
  String authName=accountID.getAccountPropertyString(ProtocolProviderFactory.AUTHORIZATION_NAME);
  String serverPort=accountID.getAccountPropertyString(ProtocolProviderFactory.SERVER_PORT);
  String proxyAddress=accountID.getAccountPropertyString(ProtocolProviderFactory.PROXY_ADDRESS);
  String proxyPort=accountID.getAccountPropertyString(ProtocolProviderFactory.PROXY_PORT);
  String preferredTransport=accountID.getAccountPropertyString(ProtocolProviderFactory.PREFERRED_TRANSPORT);
  boolean enablePresence=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.IS_PRESENCE_ENABLED,false);
  boolean forceP2P=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.FORCE_P2P_MODE,false);
  String clientTlsCertificateId=accountID.getAccountPropertyString(ProtocolProviderFactory.CLIENT_TLS_CERTIFICATE);
  boolean proxyAutoConfigureEnabled=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.PROXY_AUTO_CONFIG,false);
  String pollingPeriod=accountID.getAccountPropertyString(ProtocolProviderFactory.POLLING_PERIOD);
  String subscriptionPeriod=accountID.getAccountPropertyString(ProtocolProviderFactory.SUBSCRIPTION_EXPIRATION);
  String keepAliveMethod=accountID.getAccountPropertyString(ProtocolProviderFactory.KEEP_ALIVE_METHOD);
  String keepAliveInterval=accountID.getAccountPropertyString(ProtocolProviderFactory.KEEP_ALIVE_INTERVAL);
  String dtmfMethod=accountID.getAccountPropertyString("DTMF_METHOD");
  String voicemailURI=accountID.getAccountPropertyString(ProtocolProviderFactory.VOICEMAIL_URI);
  String voicemailCheckURI=accountID.getAccountPropertyString(ProtocolProviderFactory.VOICEMAIL_CHECK_URI);
  boolean xCapEnable=accountID.getAccountPropertyBoolean("XCAP_ENABLE",false);
  boolean xivoEnable=accountID.getAccountPropertyBoolean("XIVO_ENABLE",false);
  boolean isServerOverridden=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.IS_SERVER_OVERRIDDEN,false);
  connectionPanel.setServerOverridden(isServerOverridden);
  accountPanel.setUserIDEnabled(false);
  accountPanel.setUserID((serverAddress == null) ? accountID.getUserID() : accountID.getAccountPropertyString(ProtocolProviderFactory.USER_ID));
  if (password != null) {
    accountPanel.setPassword(password);
    accountPanel.setRememberPassword(true);
  }
 else {
    accountPanel.setRememberPassword(false);
  }
  connectionPanel.setServerAddress(serverAddress);
  connectionPanel.setServerEnabled(isServerOverridden);
  if (displayName != null && displayName.length() > 0)   accountPanel.setDisplayName(displayName);
  if (authName != null && authName.length() > 0)   connectionPanel.setAuthenticationName(authName);
  connectionPanel.setCertificateId(clientTlsCertificateId);
  connectionPanel.enablesProxyAutoConfigure(proxyAutoConfigureEnabled);
  connectionPanel.setServerPort(serverPort);
  connectionPanel.setProxy(proxyAddress);
  connectionPanel.setSelectedTransport(preferredTransport);
  connectionPanel.setProxyPort(proxyPort);
  securityPanel.loadAccount(accountID);
  presencePanel.setPresenceEnabled(enablePresence);
  presencePanel.setForcePeerToPeerMode(forceP2P);
  presencePanel.setPollPeriod(pollingPeriod);
  presencePanel.setSubscriptionExpiration(subscriptionPeriod);
  if (!enablePresence) {
    presencePanel.setPresenceOptionsEnabled(enablePresence);
  }
  connectionPanel.setKeepAliveMethod(keepAliveMethod);
  connectionPanel.setKeepAliveInterval(keepAliveInterval);
  connectionPanel.setDTMFMethod(dtmfMethod);
  boolean mwiEnabled=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.VOICEMAIL_ENABLED,true);
  connectionPanel.setMessageWaitingIndications(mwiEnabled);
  if (!StringUtils.isNullOrEmpty(voicemailURI))   connectionPanel.setVoicemailURI(voicemailURI);
  if (!StringUtils.isNullOrEmpty(voicemailCheckURI))   connectionPanel.setVoicemailCheckURI(voicemailCheckURI);
  if (xCapEnable) {
    boolean xCapUseSipCredentials=accountID.getAccountPropertyBoolean("XCAP_USE_SIP_CREDETIALS",true);
    presencePanel.setXCapEnable(xCapEnable);
    presencePanel.setClistOptionEnableEnabled(xCapEnable);
    presencePanel.setClistOptionUseSipCredentials(xCapUseSipCredentials);
    presencePanel.setClistOptionUseSipCredentialsEnabled(xCapUseSipCredentials);
    presencePanel.setClistOptionServerUri(accountID.getAccountPropertyString("XCAP_SERVER_URI"));
    presencePanel.setClistOptionUser(accountID.getAccountPropertyString("XCAP_USER"));
    presencePanel.setClistOptionPassword(accountID.getAccountPropertyString("XCAP_PASSWORD"));
  }
 else   if (xivoEnable) {
    boolean xCapUseSipCredentials=accountID.getAccountPropertyBoolean("XIVO_USE_SIP_CREDETIALS",true);
    presencePanel.setXiVOEnable(xivoEnable);
    presencePanel.setClistOptionEnableEnabled(xivoEnable);
    presencePanel.setClistOptionUseSipCredentials(xCapUseSipCredentials);
    presencePanel.setClistOptionUseSipCredentialsEnabled(xCapUseSipCredentials);
    presencePanel.setClistOptionServerUri(accountID.getAccountPropertyString("XIVO_SERVER_URI"));
    presencePanel.setClistOptionUser(accountID.getAccountPropertyString("XIVO_USER"));
    presencePanel.setClistOptionPassword(accountID.getAccountPropertyString("XIVO_PASSWORD"));
  }
  encodingsPanel.loadAccount(accountID.getAccountProperties());
}
