{
  if ((MediaFormat.RTP_PAYLOAD_TYPE_UNKNOWN != rtpPayloadType) && ((encoding == null) || (CLOCK_RATE_NOT_SPECIFIED == clockRate))) {
    MediaFormat[] rtpPayloadTypeMediaFormats=MediaUtils.getMediaFormats(rtpPayloadType);
    if (rtpPayloadTypeMediaFormats.length > 0) {
      if (encoding == null)       encoding=rtpPayloadTypeMediaFormats[0].getEncoding();
      if (CLOCK_RATE_NOT_SPECIFIED == clockRate)       clockRate=rtpPayloadTypeMediaFormats[0].getClockRate();
 else {
        boolean clockRateIsValid=false;
        for (        MediaFormat rtpPayloadTypeMediaFormat : rtpPayloadTypeMediaFormats)         if (rtpPayloadTypeMediaFormat.getEncoding().equals(encoding) && (rtpPayloadTypeMediaFormat.getClockRate() == clockRate)) {
          clockRateIsValid=true;
          break;
        }
        if (!clockRateIsValid)         return null;
      }
    }
  }
  return createMediaFormat(encoding,clockRate,channels,frameRate,formatParams,advancedParams);
}
