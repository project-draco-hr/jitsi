{
  try {
    if (themePack.endsWith(".xml")) {
      SkinLookAndFeel.setSkin(SkinLookAndFeel.loadThemePackDefinition(new File(themePack).toURL()));
      UIManager.put("ClassLoader",getClass().getClassLoader());
      UIManager.setLookAndFeel("com.l2fprod.gui.plaf.skin.SkinLookAndFeel");
    }
 else     if (themePack.startsWith("class:")) {
      String classname=themePack.substring("class:".length());
      SkinLookAndFeel.setSkin((Skin)Class.forName(classname).newInstance());
      UIManager.setLookAndFeel("com.l2fprod.gui.plaf.skin.SkinLookAndFeel");
    }
 else     if (themePack.startsWith("theme:")) {
      String classname=themePack.substring("theme:".length());
      MetalTheme theme=(MetalTheme)Class.forName(classname).newInstance();
      MetalLookAndFeel metal=new MetalLookAndFeel();
      MetalLookAndFeel.setCurrentTheme(theme);
      UIManager.setLookAndFeel(metal);
    }
 else {
      SkinLookAndFeel.setSkin(SkinLookAndFeel.loadThemePack(themePack));
      UIManager.setLookAndFeel("com.l2fprod.gui.plaf.skin.SkinLookAndFeel");
    }
  }
 catch (  MalformedURLException e) {
    e.printStackTrace();
  }
catch (  Exception e) {
    e.printStackTrace();
  }
}
