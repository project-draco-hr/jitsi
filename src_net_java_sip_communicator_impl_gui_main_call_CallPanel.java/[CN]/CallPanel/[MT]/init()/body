{
  hangupButton=new SIPCommButton(ImageLoader.getImage(ImageLoader.HANGUP_BUTTON_BG));
  holdButton.setIndex(2);
  recordButton.setIndex(3);
  videoButton.setIndex(11);
  showHideVideoButton.setIndex(12);
  showHideVideoButton.setPeerRenderer(((CallRenderer)callPanel).getCallPeerRenderer(call.getCallPeers().next()));
  videoButton.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      boolean isVideoSelected=videoButton.isSelected();
      if (isVideoSelected)       settingsPanel.add(showHideVideoButton,GuiUtils.getComponentIndex(videoButton,settingsPanel) + 1);
 else       settingsPanel.remove(showHideVideoButton);
      showHideVideoButton.setEnabled(isVideoSelected);
      showHideVideoButton.setSelected(isVideoSelected);
      settingsPanel.revalidate();
      settingsPanel.repaint();
    }
  }
);
  desktopSharingButton.setIndex(8);
  transferCallButton.setIndex(5);
  fullScreenButton.setIndex(10);
  chatButton.setName(CHAT_BUTTON);
  chatButton.setToolTipText(GuiActivator.getResources().getI18NString("service.gui.CHAT"));
  chatButton.addActionListener(this);
  chatButton.setIndex(19);
  localLevel.setIndex(6);
  remoteLevel.setIndex(7);
  dialButton.setIndex(0);
  dialButton.setName(DIAL_BUTTON);
  dialButton.setToolTipText(GuiActivator.getResources().getI18NString("service.gui.DIALPAD"));
  dialButton.addActionListener(this);
  conferenceButton.setIndex(1);
  conferenceButton.setName(CONFERENCE_BUTTON);
  conferenceButton.setToolTipText(GuiActivator.getResources().getI18NString("service.gui.CREATE_CONFERENCE_CALL"));
  conferenceButton.addActionListener(this);
  hangupButton.setName(HANGUP_BUTTON);
  hangupButton.setToolTipText(GuiActivator.getResources().getI18NString("service.gui.HANG_UP"));
  hangupButton.addActionListener(this);
  mergeButton.setIndex(4);
  mergeButton.setName(MERGE_BUTTON);
  mergeButton.setToolTipText(GuiActivator.getResources().getI18NString("service.gui.MERGE_TO_CALL"));
  mergeButton.addActionListener(this);
  dialButton.setEnabled(false);
  conferenceButton.setEnabled(false);
  holdButton.setEnabled(false);
  recordButton.setEnabled(false);
  settingsPanel.add(dialButton);
  settingsPanel.add(conferenceButton);
  settingsPanel.add(holdButton);
  settingsPanel.add(recordButton);
  settingsPanel.add(mergeButton);
  mergeButton.setVisible(false);
  if (!isLastConference) {
    transferCallButton.setEnabled(false);
    desktopSharingButton.setEnabled(false);
    videoButton.setEnabled(false);
    showHideVideoButton.setEnabled(false);
    fullScreenButton.setEnabled(false);
    addOneToOneSpecificComponents();
    if (getIMCapableCallPeers().size() == 1) {
      settingsPanel.add(chatButton);
    }
  }
 else {
    localLevel.setEnabled(false);
    remoteLevel.setEnabled(false);
    addConferenceSpecificComponents();
  }
  if (GuiActivator.getConfigurationService().getBoolean(SHOW_CALL_INFO_BUTON_PROP,true)) {
    infoButton=new SIPCommButton(ImageLoader.getImage(ImageLoader.CALL_SETTING_BUTTON_BG),ImageLoader.getImage(ImageLoader.CALL_INFO));
    infoButton.setName(INFO_BUTTON);
    infoButton.setToolTipText(GuiActivator.getResources().getI18NString("service.gui.PRESS_FOR_CALL_INFO"));
    infoButton.addActionListener(this);
    infoButton.setIndex(20);
    settingsPanel.add(infoButton);
  }
  dtmfHandler=new DTMFHandler(this);
  JComponent bottomBar=createBottomBar();
  add(callPanel,BorderLayout.CENTER);
  add(bottomBar,BorderLayout.SOUTH);
}
