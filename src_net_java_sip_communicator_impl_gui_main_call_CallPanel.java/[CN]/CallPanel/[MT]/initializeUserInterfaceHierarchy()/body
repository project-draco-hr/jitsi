{
  settingsPanel=new CallToolBar(isFullScreen(),false);
  Call aCall=callConference.getCalls().get(0);
  chatButton=new CallToolBarButton(ImageLoader.getImage(ImageLoader.CHAT_BUTTON_SMALL_WHITE),CHAT_BUTTON,GuiActivator.getResources().getI18NString("service.gui.CHAT"));
  if (!GuiActivator.getConfigurationService().getBoolean(HIDE_CONFERENCE_BUTON_PROP,false)) {
    conferenceButton=new CallToolBarButton(ImageLoader.getImage(ImageLoader.ADD_TO_CALL_BUTTON),CONFERENCE_BUTTON,GuiActivator.getResources().getI18NString("service.gui.CREATE_CONFERENCE_CALL"));
  }
  desktopSharingButton=new DesktopSharingButton(aCall);
  if (!GuiActivator.getConfigurationService().getBoolean(HIDE_DIAL_BUTON_PROP,false)) {
    dialButton=new CallToolBarButton(ImageLoader.getImage(ImageLoader.DIAL_BUTTON),DIAL_BUTTON,GuiActivator.getResources().getI18NString("service.gui.DIALPAD"));
  }
  fullScreenButton=new FullScreenButton(this);
  hangupButton=new HangupButton(this);
  if (!GuiActivator.getConfigurationService().getBoolean(HIDE_CALL_HOLD_BUTON_PROP,false)) {
    holdButton=new HoldButton(aCall);
  }
  if (!GuiActivator.getConfigurationService().getBoolean(HIDE_CALL_INFO_BUTON_PROP,false)) {
    infoButton=new CallToolBarButton(ImageLoader.getImage(ImageLoader.CALL_INFO),INFO_BUTTON,GuiActivator.getResources().getI18NString("service.gui.PRESS_FOR_CALL_INFO"));
  }
  if (!GuiActivator.getConfigurationService().getBoolean(HIDE_CALL_MERGE_BUTON_PROP,false)) {
    mergeButton=new CallToolBarButton(ImageLoader.getImage(ImageLoader.MERGE_CALL_BUTTON),MERGE_BUTTON,GuiActivator.getResources().getI18NString("service.gui.MERGE_TO_CALL"));
  }
  if (!GuiActivator.getConfigurationService().getBoolean(HIDE_CALL_RECORD_BUTON_PROP,false)) {
    recordButton=new RecordButton(aCall);
  }
  showHideVideoButton=new ShowHideVideoButton(uiVideoHandler);
  if (!GuiActivator.getConfigurationService().getBoolean(HIDE_CALL_TRANSFER_BUTON_PROP,false)) {
    transferCallButton=new TransferCallButton(aCall);
  }
  videoButton=new LocalVideoButton(aCall);
  localLevel=new InputVolumeControlButton(aCall,ImageLoader.MICROPHONE,ImageLoader.MUTE_BUTTON,true,false);
  remoteLevel=new OutputVolumeControlButton(callConference,ImageLoader.VOLUME_CONTROL_BUTTON,false,true).getComponent();
  initButtonIndexes();
  chatButton.addActionListener(this);
  if (conferenceButton != null)   conferenceButton.addActionListener(this);
  if (dialButton != null)   dialButton.addActionListener(this);
  if (infoButton != null)   infoButton.addActionListener(this);
  if (mergeButton != null)   mergeButton.addActionListener(this);
  settingsPanel.add(chatButton);
  if (conferenceButton != null)   settingsPanel.add(conferenceButton);
  settingsPanel.add(desktopSharingButton);
  if (dialButton != null)   settingsPanel.add(dialButton);
  settingsPanel.add(fullScreenButton);
  settingsPanel.add(hangupButton);
  if (holdButton != null)   settingsPanel.add(holdButton);
  if (infoButton != null)   settingsPanel.add(infoButton);
  if (mergeButton != null)   settingsPanel.add(mergeButton);
  if (recordButton != null)   settingsPanel.add(recordButton);
  settingsPanel.add(showHideVideoButton);
  if (mergeButton != null)   settingsPanel.add(transferCallButton);
  settingsPanel.add(videoButton);
  add(createBottomBar(),BorderLayout.SOUTH);
}
