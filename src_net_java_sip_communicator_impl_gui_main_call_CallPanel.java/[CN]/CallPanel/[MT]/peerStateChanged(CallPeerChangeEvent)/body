{
  CallPeer sourceParticipant=evt.getSourceCallPeer();
  if (sourceParticipant.getCall() != call)   return;
  CallParticipantPanel participantPanel=getParticipantPanel(sourceParticipant);
  Object newState=evt.getNewValue();
  String newStateString=sourceParticipant.getState().getStateString();
  Icon newStateIcon=null;
  if (newState == CallPeerState.ALERTING_REMOTE_SIDE) {
    NotificationManager.fireNotification(NotificationManager.OUTGOING_CALL);
  }
 else   if (newState == CallPeerState.BUSY) {
    NotificationManager.stopSound(NotificationManager.OUTGOING_CALL);
    NotificationManager.fireNotification(NotificationManager.BUSY_CALL);
  }
 else   if (newState == CallPeerState.CONNECTED) {
    if (!CallPeerState.isOnHold((CallPeerState)evt.getOldValue())) {
      NotificationManager.stopSound(NotificationManager.OUTGOING_CALL);
      NotificationManager.stopSound(NotificationManager.INCOMING_CALL);
      participantPanel.startCallTimer();
    }
  }
 else   if (newState == CallPeerState.DISCONNECTED) {
  }
 else   if (newState == CallPeerState.FAILED) {
  }
 else   if (CallPeerState.isOnHold((CallPeerState)newState)) {
    newStateIcon=new ImageIcon(ImageLoader.getImage(ImageLoader.HOLD_STATUS_ICON));
    if ((newState.equals(CallPeerState.ON_HOLD_LOCALLY) || newState.equals(CallPeerState.ON_HOLD_MUTUALLY)) && !callDialog.isHoldButtonSelected()) {
      callDialog.setHoldButtonSelected(true);
    }
  }
  participantPanel.setState(newStateString,newStateIcon);
}
