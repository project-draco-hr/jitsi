{
  loadSkin();
  setToolTipText(GuiActivator.getResources().getI18NString("service.gui.VOLUME_CONTROL_TOOL_TIP"));
  final JSlider volumeSlider=new JSlider(JSlider.VERTICAL,0,100,50);
  volumeSlider.setPreferredSize(new Dimension(20,100));
  final VolumeControl volumeControl=GuiActivator.getMediaService().getVolumeControl();
  if (volumeControl != null) {
    volumeSlider.setMinimum((int)(volumeControl.getMinValue() * MULTIPLIER));
    volumeSlider.setMaximum((int)(volumeControl.getMaxValue() * MULTIPLIER));
    volumeSlider.setValue((int)(volumeControl.getVolume() * MULTIPLIER));
  }
  volumeSlider.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      JSlider source=(JSlider)e.getSource();
      if (!source.getValueIsAdjusting()) {
        int volume=source.getValue();
        volumeControl.setVolume((float)volume / MULTIPLIER);
      }
    }
  }
);
  final JPopupMenu sliderMenu=new JPopupMenu();
  sliderMenu.setInvoker(this);
  sliderMenu.add(volumeSlider);
  this.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent arg0){
      Point location=new Point(getX(),getY() + getHeight());
      SwingUtilities.convertPointToScreen(location,VolumeControlButton.this.getParent());
      sliderMenu.setLocation(location);
      sliderMenu.setVisible(!sliderMenu.isVisible());
    }
  }
);
}
