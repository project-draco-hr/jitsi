{
  this.setTitle(OtrActivator.resourceService.getI18NString("plugin.otr.authbuddydialog.TITLE"));
  TransparentPanel mainPanel=new TransparentPanel();
  mainPanel.setLayout(new BoxLayout(mainPanel,BoxLayout.Y_AXIS));
  mainPanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));
  mainPanel.setPreferredSize(new Dimension(350,400));
  JTextArea generalInformation=new CustomTextArea();
  generalInformation.setText(OtrActivator.resourceService.getI18NString("plugin.otr.authbuddydialog.AUTHENTICATION_INFO"));
  mainPanel.add(generalInformation);
  txtLocalFingerprint=new CustomTextArea();
  mainPanel.add(txtLocalFingerprint);
  txtRemoteFingerprint=new CustomTextArea();
  mainPanel.add(txtRemoteFingerprint);
  JPanel pnlAction=new JPanel(new GridBagLayout());
  pnlAction.setBorder(BorderFactory.createEtchedBorder());
  mainPanel.add(pnlAction);
  GridBagConstraints c=new GridBagConstraints();
  c.fill=GridBagConstraints.HORIZONTAL;
  c.insets=new Insets(5,5,5,5);
  c.weightx=0.0;
  cbAction=new JComboBox();
  cbAction.addItem(actionIHave);
  cbAction.addItem(actionIHaveNot);
  cbAction.setSelectedItem(OtrActivator.scOtrKeyManager.isVerified(contact) ? actionIHave : actionIHaveNot);
  pnlAction.add(cbAction,c);
  txtAction=new CustomTextArea();
  c.weightx=1.0;
  pnlAction.add(txtAction,c);
  txtRemoteFingerprintComparison=new SIPCommTextField(OtrActivator.resourceService.getI18NString("plugin.otr.authbuddydialog.FINGERPRINT_CHECK",new String[]{contact.getDisplayName()}));
  txtRemoteFingerprintComparison.getDocument().addDocumentListener(this);
  c.gridwidth=2;
  c.gridy=1;
  pnlAction.add(txtRemoteFingerprintComparison,c);
  c.gridwidth=1;
  c.gridy=0;
  JPanel buttonPanel=new TransparentPanel(new GridBagLayout());
  buttonPanel.setBorder(BorderFactory.createEmptyBorder(0,5,5,5));
  JButton helpButton=new JButton(OtrActivator.resourceService.getI18NString("plugin.otr.authbuddydialog.HELP"));
  helpButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent arg0){
      OtrActivator.scOtrEngine.launchHelp();
    }
  }
);
  buttonPanel.add(helpButton,c);
  c.weightx=1.0;
  buttonPanel.add(new JLabel(),c);
  c.weightx=0.0;
  JButton cancelButton=new JButton(OtrActivator.resourceService.getI18NString("plugin.otr.authbuddydialog.CANCEL"));
  cancelButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      dispose();
    }
  }
);
  buttonPanel.add(cancelButton,c);
  JButton authenticateButton=new JButton(OtrActivator.resourceService.getI18NString("plugin.otr.authbuddydialog.AUTHENTICATE_BUDDY"));
  authenticateButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      ActionComboBoxItem actionItem=(ActionComboBoxItem)cbAction.getSelectedItem();
switch (actionItem.action) {
case I_HAVE:
        OtrActivator.scOtrKeyManager.verify(contact);
      break;
case I_HAVE_NOT:
    OtrActivator.scOtrKeyManager.unverify(contact);
  break;
}
dispose();
}
}
);
buttonPanel.add(authenticateButton,c);
this.getContentPane().add(mainPanel,BorderLayout.NORTH);
this.getContentPane().add(buttonPanel,BorderLayout.SOUTH);
this.pack();
}
