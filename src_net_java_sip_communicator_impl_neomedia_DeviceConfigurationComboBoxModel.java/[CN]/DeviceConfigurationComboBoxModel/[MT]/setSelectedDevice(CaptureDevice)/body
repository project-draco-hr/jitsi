{
  if (device == null)   return;
  CaptureDevice selectedDevice=getSelectedDevice();
  if (selectedDevice != device) {
    AudioSystem audioSystem;
switch (type) {
case AUDIO_CAPTURE:
      audioSystem=deviceConfiguration.getAudioSystem();
    if (audioSystem != null) {
      audioSystem.setDevice(AudioSystem.CAPTURE_INDEX,((ExtendedCaptureDeviceInfo)device.info),true);
    }
  break;
case AUDIO_NOTIFY:
audioSystem=deviceConfiguration.getAudioSystem();
if (audioSystem != null) {
audioSystem.setDevice(AudioSystem.NOTIFY_INDEX,((ExtendedCaptureDeviceInfo)device.info),true);
}
break;
case AUDIO_PLAYBACK:
audioSystem=deviceConfiguration.getAudioSystem();
if (audioSystem != null) {
audioSystem.setDevice(AudioSystem.PLAYBACK_INDEX,((ExtendedCaptureDeviceInfo)device.info),true);
}
break;
case VIDEO:
deviceConfiguration.setVideoCaptureDevice(device.info,true);
break;
}
fireContentsChanged(-1,-1);
}
}
