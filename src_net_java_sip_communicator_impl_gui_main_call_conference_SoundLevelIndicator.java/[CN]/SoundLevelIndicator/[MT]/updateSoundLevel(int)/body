{
  int range=1;
  if ((minSoundLevel > -1) && (maxSoundLevel > -1) && (minSoundLevel < maxSoundLevel)) {
    range=maxSoundLevel - minSoundLevel;
    if (soundLevel < 40)     soundLevel=minSoundLevel;
 else     if (soundLevel > 85)     soundLevel=maxSoundLevel;
 else {
      soundLevel=(int)(((soundLevel - 40.0) / 45.0) * range);
      if (soundLevel < minSoundLevel)       soundLevel=minSoundLevel;
 else       if (soundLevel > maxSoundLevel)       soundLevel=maxSoundLevel;
    }
  }
  this.soundLevel=(int)(this.soundLevel * 0.8 + soundLevel * 0.2);
  int activeBarNumber=Math.round(this.soundLevel * soundBarNumber / (float)range);
  for (int i=0, count=getComponentCount(); i < count; i++) {
    Component c=getComponent(i);
    if (c instanceof JLabel) {
      ((JLabel)c).setIcon((i < activeBarNumber) ? soundLevelActiveImage : soundLevelInactiveImage);
    }
  }
  this.repaint();
}
