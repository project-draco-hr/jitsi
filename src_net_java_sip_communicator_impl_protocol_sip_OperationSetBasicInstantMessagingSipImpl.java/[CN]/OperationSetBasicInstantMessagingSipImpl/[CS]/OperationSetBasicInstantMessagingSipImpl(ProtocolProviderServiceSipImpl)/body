{
  this.sipProvider=provider;
  this.sentMsg=new Hashtable(3);
  provider.addRegistrationStateChangeListener(new RegistrationStateListener());
  offlineMessageSupported=provider.getAccountID().getAccountPropertyBoolean("OFFLINE_MSG_SUPPORTED",false);
  sipProvider.registerMethodProcessor(Request.MESSAGE,new BasicInstantMessagingMethodProcessor());
  this.sipStatusEnum=sipProvider.getSipStatusEnum();
}
