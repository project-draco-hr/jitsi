{
  int byteInt=bit / 8;
  int rem=8 - (bit % 8);
  int ret=0;
  if (n <= 0 || n > 8)   return 0;
  if (rem < n) {
    ret=(data[byteInt] << (n - rem));
    ret|=(data[byteInt + 1] >> (8 - n + rem));
  }
 else {
    ret=(data[byteInt] >> (rem - n));
  }
  return (ret & (0xff >> (8 - n)));
}
