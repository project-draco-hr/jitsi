{
  int off=bit;
  int c;
  if (((len * 8 - off) >= 5) && get_n_bits_at(data,1,off) != 0) {
    c=get_n_bits_at(data,3,off + 1);
    off+=SpeexWBSubModeSz[c];
    if (((len * 8 - off) >= 5) && get_n_bits_at(data,1,off) != 0) {
      c=get_n_bits_at(data,3,off + 1);
      off+=SpeexWBSubModeSz[c];
      if (((len * 8 - off) >= 5) && get_n_bits_at(data,1,off) != 0) {
        return -1;
      }
    }
  }
  return off - bit;
}
