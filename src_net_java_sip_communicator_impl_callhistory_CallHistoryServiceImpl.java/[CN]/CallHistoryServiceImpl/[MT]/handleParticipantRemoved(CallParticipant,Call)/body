{
  CallRecord callRecord=findCallRecord(srcCall);
  String pAddress=callParticipant.getAddress();
  CallParticipantRecordImpl cpRecord=(CallParticipantRecordImpl)callRecord.findParticipantRecord(pAddress);
  if (cpRecord == null)   return;
  if (!callParticipant.getState().equals(CallParticipantState.DISCONNECTED))   cpRecord.setState(callParticipant.getState());
  if (cpRecord.getState().equals(CallParticipantState.CONNECTED)) {
    cpRecord.setEndTime(new Date());
  }
}
