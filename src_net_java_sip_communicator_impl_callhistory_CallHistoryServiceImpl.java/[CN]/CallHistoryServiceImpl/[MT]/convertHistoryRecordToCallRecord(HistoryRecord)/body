{
  CallRecordImpl result=new CallRecordImpl();
  List<String> callParticipantIDs=null;
  List<String> callParticipantStart=null;
  List<String> callParticipantEnd=null;
  List<CallParticipantState> callParticipantStates=null;
  for (int i=0; i < hr.getPropertyNames().length; i++) {
    String propName=hr.getPropertyNames()[i];
    String value=hr.getPropertyValues()[i];
    if (propName.equals(STRUCTURE_NAMES[0]))     result.setStartTime(new Date(Long.parseLong(value)));
 else     if (propName.equals(STRUCTURE_NAMES[1]))     result.setEndTime(new Date(Long.parseLong(value)));
 else     if (propName.equals(STRUCTURE_NAMES[2]))     result.setDirection(value);
 else     if (propName.equals(STRUCTURE_NAMES[3]))     callParticipantIDs=getCSVs(value);
 else     if (propName.equals(STRUCTURE_NAMES[4]))     callParticipantStart=getCSVs(value);
 else     if (propName.equals(STRUCTURE_NAMES[5]))     callParticipantEnd=getCSVs(value);
 else     if (propName.equals(STRUCTURE_NAMES[6]))     callParticipantStates=getStates(value);
  }
  final int callParticipantCount=callParticipantIDs == null ? 0 : callParticipantIDs.size();
  for (int i=0; i < callParticipantCount; i++) {
    CallParticipantRecordImpl cpr=new CallParticipantRecordImpl(callParticipantIDs.get(i),new Date(Long.parseLong(callParticipantStart.get(i))),new Date(Long.parseLong(callParticipantEnd.get(i))));
    if (callParticipantStates != null)     cpr.setState(callParticipantStates.get(i));
    result.getParticipantRecords().add(cpr);
  }
  return result;
}
