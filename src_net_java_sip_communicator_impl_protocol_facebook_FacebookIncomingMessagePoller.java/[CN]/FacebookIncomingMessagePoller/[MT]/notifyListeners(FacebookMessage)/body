{
  logger.debug("message received " + msg.getMsgID());
  if (this.received.contains(msg.getMsgID())) {
    logger.debug("discarding duplicated message " + msg.getMsgID());
  }
 else {
    for (    FacebookSessionListener l : this.listeners)     l.onIncomingChatMessage(msg);
    this.received.add(msg.getMsgID());
    if (this.received.size() > 20) {
      this.received.remove();
    }
  }
}
