{
  logger.debug("GET newest seq");
  Integer newest=null;
  try {
    String url=getMessagePollUrl();
    HttpPost post=new HttpPost(url);
    HttpResponse response=this.session.getHttpClient().execute(post);
    if (response.getStatusLine().getStatusCode() == 200) {
      String body=EntityUtils.toString(response.getEntity());
      FacebookJsonResponse jsonResponse=new FacebookJsonResponse(this.session,body);
      JSONObject json=jsonResponse.getJson();
      if (json.has("seq")) {
        newest=json.getInt("seq");
        logger.debug("seq updated:" + newest);
      }
    }
 else {
      response.getEntity().consumeContent();
      throw new BrokenFacebookProtocolException("http code " + response.getStatusLine().getStatusCode());
    }
  }
 catch (  JSONException e) {
    throw new BrokenFacebookProtocolException(e);
  }
  return newest;
}
