{
  Hashtable accountProperties=new Hashtable();
  accountProperties.put(ProtocolProviderFactory.NO_PASSWORD_REQUIRED,new Boolean(true).toString());
  try {
    AccountID accountID=providerFactory.installAccount(user,accountProperties);
    ServiceReference serRef=providerFactory.getProviderForAccount(accountID);
    protocolProvider=(ProtocolProviderService)RssAccRegWizzActivator.bundleContext.getService(serRef);
  }
 catch (  IllegalArgumentException e) {
    RssAccRegWizzActivator.getUIService().getPopupDialog().showMessagePopupDialog(e.getMessage(),Resources.getString("error"),PopupDialog.ERROR_MESSAGE);
  }
catch (  IllegalStateException e) {
    RssAccRegWizzActivator.getUIService().getPopupDialog().showMessagePopupDialog(e.getMessage(),Resources.getString("error"),PopupDialog.ERROR_MESSAGE);
  }
  return protocolProvider;
}
