{
  String version=System.getProperty("java.version");
  String vmVendor=System.getProperty("java.vendor");
  String osName=System.getProperty("os.name");
  if (osName.startsWith("Mac")) {
    String scDefultDirName=".sip-communicator";
    String scHomeDirLocation=System.getProperty("net.java.sip.communicator.SC_HOME_DIR_LOCATION");
    if (scHomeDirLocation == null) {
      String defaultAppDirName=System.getProperty("user.home") + File.separator + scDefultDirName;
      if (new File(defaultAppDirName).exists()) {
        System.setProperty("net.java.sip.communicator.SC_HOME_DIR_LOCATION",System.getProperty("user.home"));
        System.setProperty("net.java.sip.communicator.SC_HOME_DIR_NAME",scDefultDirName);
      }
 else {
        System.setProperty("net.java.sip.communicator.SC_HOME_DIR_LOCATION",System.getProperty("user.home") + File.separator + "Library"+ File.separator+ "Application Support");
      }
    }
  }
  if (version.startsWith("1.4") || vmVendor.startsWith("Gnu")) {
    String os="";
    if (osName.startsWith("Mac"))     os=ChangeJVMFrame.MAC_OSX;
 else     if (osName.startsWith("Linux"))     os=ChangeJVMFrame.LINUX;
 else     if (osName.startsWith("Windows"))     os=ChangeJVMFrame.WINDOWS;
    ChangeJVMFrame changeJVMFrame=new ChangeJVMFrame(os);
    changeJVMFrame.setLocation(Toolkit.getDefaultToolkit().getScreenSize().width / 2 - changeJVMFrame.getWidth() / 2,Toolkit.getDefaultToolkit().getScreenSize().height / 2 - changeJVMFrame.getHeight() / 2);
    changeJVMFrame.setVisible(true);
    return;
  }
  Main.main(args);
}
