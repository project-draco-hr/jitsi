{
  if (device == null)   throw new NullPointerException("device");
  AbstractMediaDevice abstractMediaDevice=(AbstractMediaDevice)device;
  if ((deviceSession == null) || (deviceSession.getDevice() != device)) {
    MediaDeviceSession oldValue=deviceSession;
    if (deviceSession != null) {
      if (deviceSessionPropertyChangeListener != null)       deviceSession.removePropertyChangeListener(deviceSessionPropertyChangeListener);
      deviceSession.close();
      deviceSession=null;
    }
    deviceSession=abstractMediaDevice.createSession();
    direction=null;
    MediaDeviceSession newValue=deviceSession;
    deviceSessionChanged(oldValue,newValue);
    if (deviceSession != null) synchronized (receiveStreams) {
      for (      ReceiveStream receiveStream : receiveStreams)       deviceSession.addReceiveStream(receiveStream);
    }
  }
}
