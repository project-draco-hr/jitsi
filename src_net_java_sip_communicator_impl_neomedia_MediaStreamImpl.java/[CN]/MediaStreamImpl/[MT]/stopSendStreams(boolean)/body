{
  if (rtpManager == null)   return;
  @SuppressWarnings("unchecked") Iterable<SendStream> sendStreams=rtpManager.getSendStreams();
  if (sendStreams == null)   return;
  for (  SendStream sendStream : sendStreams)   try {
    sendStream.getDataSource().stop();
    sendStream.stop();
    if (close)     try {
      sendStream.close();
    }
 catch (    NullPointerException npe) {
      logger.error("Failed to close stream " + sendStream,npe);
    }
  }
 catch (  IOException ioe) {
    logger.warn("Failed to stop stream " + sendStream,ioe);
  }
  if (close)   sendStreamsAreCreated=false;
}
