{
  stop();
  closeSendStreams();
  srtpControl.cleanup();
  if (csrcEngine != null) {
    csrcEngine.close();
    csrcEngine=null;
  }
  if (rtpConnector != null)   rtpConnector.removeTargets();
  rtpConnectorTarget=null;
  if (rtpManager != null) {
    if (logger.isInfoEnabled())     printFlowStatistics(rtpManager);
    rtpManager.removeReceiveStreamListener(this);
    rtpManager.removeSendStreamListener(this);
    rtpManager.removeSessionListener(this);
    rtpManager.removeRemoteListener(this);
    try {
      rtpManager.dispose();
      rtpManager=null;
    }
 catch (    Throwable t) {
      if (t instanceof ThreadDeath)       throw (ThreadDeath)t;
      logger.error("Failed to dispose of RTPManager",t);
    }
  }
  if (deviceSession != null)   deviceSession.close();
}
