{
  String password=SIPAccRegWizzActivator.getSIPProtocolProviderFactory().loadPassword(accountID);
  String serverAddress=accountID.getAccountPropertyString(ProtocolProviderFactory.SERVER_ADDRESS);
  String displayName=accountID.getAccountPropertyString(ProtocolProviderFactory.DISPLAY_NAME);
  String authName=accountID.getAccountPropertyString(ProtocolProviderFactory.AUTHORIZATION_NAME);
  String serverPort=accountID.getAccountPropertyString(ProtocolProviderFactory.SERVER_PORT);
  String proxyAddress=accountID.getAccountPropertyString(ProtocolProviderFactory.PROXY_ADDRESS);
  String proxyPort=accountID.getAccountPropertyString(ProtocolProviderFactory.PROXY_PORT);
  String preferredTransport=accountID.getAccountPropertyString(ProtocolProviderFactory.PREFERRED_TRANSPORT);
  boolean enablePresence=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.IS_PRESENCE_ENABLED,false);
  boolean forceP2P=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.FORCE_P2P_MODE,false);
  String clientTlsCertificateId=accountID.getAccountPropertyString(ProtocolProviderFactory.CLIENT_TLS_CERTIFICATE);
  boolean proxyAutoConfigureEnabled=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.PROXY_AUTO_CONFIG,false);
  String pollingPeriod=accountID.getAccountPropertyString(ProtocolProviderFactory.POLLING_PERIOD);
  String subscriptionPeriod=accountID.getAccountPropertyString(ProtocolProviderFactory.SUBSCRIPTION_EXPIRATION);
  String keepAliveMethod=accountID.getAccountPropertyString(ProtocolProviderFactory.KEEP_ALIVE_METHOD);
  String keepAliveInterval=accountID.getAccountPropertyString(ProtocolProviderFactory.KEEP_ALIVE_INTERVAL);
  String dtmfMethod=accountID.getAccountPropertyString("DTMF_METHOD");
  String dtmfMinimalToneDuration=accountID.getAccountPropertyString("DTMF_MINIMAL_TONE_DURATION");
  String voicemailURI=accountID.getAccountPropertyString(ProtocolProviderFactory.VOICEMAIL_URI);
  String voicemailCheckURI=accountID.getAccountPropertyString(ProtocolProviderFactory.VOICEMAIL_CHECK_URI);
  boolean xCapEnable=accountID.getAccountPropertyBoolean("XCAP_ENABLE",false);
  boolean xivoEnable=accountID.getAccountPropertyBoolean("XIVO_ENABLE",false);
  boolean isServerOverridden=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.IS_SERVER_OVERRIDDEN,false);
  this.isServerOverriden=isServerOverridden;
  String userID=(serverAddress == null) ? accountID.getUserID() : accountID.getAccountPropertyString(ProtocolProviderFactory.USER_ID);
  setUserID(userID);
  if (password != null) {
    setPassword(password);
    setRememberPassword(true);
  }
 else {
    setRememberPassword(false);
  }
  setServerAddress(serverAddress);
  setDisplayName(displayName);
  setAuthorizationName(authName);
  setTlsClientCertificate(clientTlsCertificateId);
  setProxyAutoConfigure(proxyAutoConfigureEnabled);
  setServerPort(serverPort);
  setProxy(proxyAddress);
  setPreferredTransport(preferredTransport);
  setProxyPort(proxyPort);
  securityAccountRegistration.loadAccount(accountID);
  setEnablePresence(enablePresence);
  setForceP2PMode(forceP2P);
  setPollingPeriod(pollingPeriod);
  setSubscriptionExpiration(subscriptionPeriod);
  setKeepAliveMethod(keepAliveMethod);
  setKeepAliveInterval(keepAliveInterval);
  setDTMFMethod(dtmfMethod);
  setDtmfMinimalToneDuration(dtmfMinimalToneDuration);
  boolean mwiEnabled=accountID.getAccountPropertyBoolean(ProtocolProviderFactory.VOICEMAIL_ENABLED,true);
  setMessageWaitingIndications(mwiEnabled);
  setVoicemailURI(voicemailURI);
  setVoicemailCheckURI(voicemailCheckURI);
  if (xCapEnable) {
    boolean xCapUseSipCredentials=accountID.getAccountPropertyBoolean("XCAP_USE_SIP_CREDETIALS",true);
    setXCapEnable(xCapEnable);
    setClistOptionUseSipCredentials(xCapUseSipCredentials);
    setClistOptionServerUri(accountID.getAccountPropertyString("XCAP_SERVER_URI"));
    setClistOptionUser(accountID.getAccountPropertyString("XCAP_USER"));
    setClistOptionPassword(accountID.getAccountPropertyString("XCAP_PASSWORD"));
  }
 else   if (xivoEnable) {
    boolean xCapUseSipCredentials=accountID.getAccountPropertyBoolean("XIVO_USE_SIP_CREDETIALS",true);
    setXiVOEnable(xivoEnable);
    setClistOptionUseSipCredentials(xCapUseSipCredentials);
    setClistOptionServerUri(accountID.getAccountPropertyString("XIVO_SERVER_URI"));
    setClistOptionUser(accountID.getAccountPropertyString("XIVO_USER"));
    setClistOptionPassword(accountID.getAccountPropertyString("XIVO_PASSWORD"));
  }
  encodingsRegistration.loadAccount(accountID,ServiceUtils.getService(bundleContext,MediaService.class));
}
