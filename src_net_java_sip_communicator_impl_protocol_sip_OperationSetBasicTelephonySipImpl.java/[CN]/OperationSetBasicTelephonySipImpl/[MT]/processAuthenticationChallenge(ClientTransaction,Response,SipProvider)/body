{
  CallPeerSipImpl callPeer=activeCallsRepository.findCallPeer(clientTransaction.getDialog());
  if (callPeer == null) {
    logger.debug("Received an authorization challenge for no " + "peer. authorizing anyway.");
  }
  try {
    logger.debug("Authenticating an INVITE request.");
    ClientTransaction retryTran=protocolProvider.getSipSecurityManager().handleChallenge(response,clientTransaction,jainSipProvider);
    if (retryTran == null) {
      logger.trace("No password supplied or error occured!");
      return;
    }
    if (callPeer != null) {
      callPeer.setDialog(retryTran.getDialog());
      callPeer.setFirstTransaction(retryTran);
      callPeer.setJainSipProvider(jainSipProvider);
    }
    retryTran.sendRequest();
  }
 catch (  Exception exc) {
    CallSipImpl.logAndFailCallPeer("Failed to authenticate.",exc,callPeer);
    return;
  }
}
