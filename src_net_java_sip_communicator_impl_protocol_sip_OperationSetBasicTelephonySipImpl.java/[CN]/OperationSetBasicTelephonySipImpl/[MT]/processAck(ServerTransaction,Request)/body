{
  CallPeerSipImpl participant=activeCallsRepository.findCallParticipant(serverTransaction.getDialog());
  if (participant == null) {
    logger.debug("didn't find an ack's call, returning");
    return;
  }
  ContentLengthHeader contentLength=ackRequest.getContentLength();
  if ((contentLength != null) && (contentLength.getContentLength() > 0)) {
    participant.setSdpDescription(new String(ackRequest.getRawContent()));
  }
  CallPeerState participantState=participant.getState();
  if (!CallPeerState.isOnHold(participantState)) {
    if (CallPeerState.CONNECTED.equals(participantState)) {
      try {
        ((CallSipImpl)participant.getCall()).getMediaCallSession().startStreamingAndProcessingMedia();
      }
 catch (      MediaException ex) {
        logger.error("Failed to start the streaming" + " and the processing of the media",ex);
      }
    }
 else     participant.setState(CallPeerState.CONNECTED);
  }
}
