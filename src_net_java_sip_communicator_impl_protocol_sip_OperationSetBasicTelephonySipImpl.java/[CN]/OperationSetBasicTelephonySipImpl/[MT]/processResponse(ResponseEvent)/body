{
  ClientTransaction clientTransaction=responseEvent.getClientTransaction();
  Response response=responseEvent.getResponse();
  CSeqHeader cseq=((CSeqHeader)response.getHeader(CSeqHeader.NAME));
  if (cseq == null) {
    logger.error("An incoming response did not contain a CSeq header");
  }
  String method=cseq.getMethod();
  SipProvider sourceProvider=(SipProvider)responseEvent.getSource();
  if (response.getStatusCode() == Response.OK) {
    if (method.equals(Request.INVITE)) {
      processInviteOK(clientTransaction,response);
    }
 else     if (method.equals(Request.BYE)) {
    }
  }
 else   if (response.getStatusCode() == Response.RINGING) {
    processRinging(clientTransaction,response);
  }
 else   if (response.getStatusCode() == Response.TRYING) {
    processTrying(clientTransaction,response);
  }
 else   if (response.getStatusCode() == Response.BUSY_HERE) {
    processBusyHere(clientTransaction,response);
  }
 else   if (response.getStatusCode() == Response.UNAUTHORIZED || response.getStatusCode() == Response.PROXY_AUTHENTICATION_REQUIRED) {
    processAuthenticationChallenge(clientTransaction,response,sourceProvider);
  }
 else   if (response.getStatusCode() / 100 == 4) {
    CallParticipantSipImpl callParticipant=activeCallsRepository.findCallParticipant(clientTransaction.getDialog());
    logger.error("Received error: " + response.getStatusCode() + " "+ response.getReasonPhrase());
    if (callParticipant != null)     callParticipant.setState(CallParticipantState.FAILED);
  }
}
