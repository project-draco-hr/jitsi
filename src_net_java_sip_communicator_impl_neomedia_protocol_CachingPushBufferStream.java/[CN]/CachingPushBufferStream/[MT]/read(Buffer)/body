{
  Object syncRoot=getSyncRoot();
synchronized (syncRoot) {
    if (readException != null) {
      IOException ex=new IOException();
      ex.initCause(readException);
      readException=null;
      throw ex;
    }
    if (cache != null) {
      try {
        read(cache,buffer);
      }
 catch (      UnsupportedFormatException ufex) {
        IOException ioex=new IOException();
        ioex.initCause(ufex);
        throw ioex;
      }
      int cacheLength=cache.getLength();
      if ((cacheLength <= 0) || (cache.getData() == null)) {
        cache=null;
        syncRoot.notifyAll();
      }
    }
  }
}
