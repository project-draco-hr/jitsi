{
  this.removeAll();
  Iterator it=parentSystray.getProtocolProviders();
  while (it.hasNext()) {
    ProtocolProviderService provider=(ProtocolProviderService)it.next();
    Map supportedOperationSets=provider.getSupportedOperationSets();
    OperationSetPresence presence=(OperationSetPresence)supportedOperationSets.get(OperationSetPresence.class.getName());
    if (presence == null) {
      StatusSimpleSelector s=new StatusSimpleSelector(parentSystray,provider);
      this.add(s);
    }
 else {
      StatusSelector s=new StatusSelector(parentSystray,provider,presence);
      this.add(s);
    }
  }
}
