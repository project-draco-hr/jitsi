{
  int size=0;
  if (!this.isGroupClosed(group)) {
    if (showOffline)     size=group.countChildContacts();
 else {
      Iterator i=group.getChildContacts();
      while (i.hasNext()) {
        MetaContact contact=(MetaContact)i.next();
synchronized (offlineContacts) {
          if (!offlineContacts.contains(contact))           size++;
        }
      }
    }
    size+=group.countSubgroups();
    Iterator subgroups=group.getSubgroups();
    while (subgroups.hasNext()) {
      size+=getContactListSize((MetaContactGroup)subgroups.next());
    }
  }
  return size;
}
