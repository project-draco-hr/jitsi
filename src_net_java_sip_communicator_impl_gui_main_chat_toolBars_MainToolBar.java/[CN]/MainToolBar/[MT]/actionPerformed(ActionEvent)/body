{
  AbstractButton button=(AbstractButton)e.getSource();
  String buttonText=button.getName();
  ChatPanel chatPanel=messageWindow.getCurrentChatPanel();
  if (buttonText.equalsIgnoreCase("save")) {
  }
 else   if (buttonText.equalsIgnoreCase("print")) {
  }
 else   if (buttonText.equalsIgnoreCase("cut")) {
    chatPanel.cut();
  }
 else   if (buttonText.equalsIgnoreCase("copy")) {
    chatPanel.copy();
  }
 else   if (buttonText.equalsIgnoreCase("paste")) {
    chatPanel.paste();
  }
 else   if (buttonText.equalsIgnoreCase("previous")) {
    chatPanel.loadPreviousPageFromHistory();
  }
 else   if (buttonText.equalsIgnoreCase("next")) {
    chatPanel.loadNextPageFromHistory();
  }
 else   if (buttonText.equalsIgnoreCase("sendFile")) {
  }
 else   if (buttonText.equalsIgnoreCase("history")) {
    HistoryWindow history;
    HistoryWindowManager historyWindowManager=messageWindow.getMainFrame().getHistoryWindowManager();
    Object historyContact=chatPanel.getChatIdentifier();
    if (historyWindowManager.containsHistoryWindowForContact(historyContact)) {
      history=historyWindowManager.getHistoryWindowForContact(historyContact);
      if (history.getState() == JFrame.ICONIFIED)       history.setState(JFrame.NORMAL);
      history.toFront();
    }
 else {
      history=new HistoryWindow(messageWindow.getMainFrame(),chatPanel.getChatIdentifier());
      history.setVisible(true);
      historyWindowManager.addHistoryWindowForContact(historyContact,history);
    }
  }
 else   if (buttonText.equalsIgnoreCase("font")) {
  }
 else   if (buttonText.equalsIgnoreCase("addContact")) {
    if (currentChatContact != null) {
      AddContactWizard addCWizz=new AddContactWizard(messageWindow.getMainFrame(),currentChatContact.getAddress(),currentChatContact.getProtocolProvider());
      addCWizz.setVisible(true);
    }
  }
}
