{
  boolean hasVideo=false;
  for (  ChatTransport transport : transports) {
    ProtocolProviderService protocolProvider=transport.getProtocolProvider();
    OperationSetServerStoredContactInfo infoOpSet=protocolProvider.getOperationSet(OperationSetServerStoredContactInfo.class);
    Iterator<GenericDetail> details;
    if (infoOpSet != null && transport.getDescriptor() instanceof Contact) {
      details=infoOpSet.requestAllDetailsForContact((Contact)transport.getDescriptor(),new DetailsListener(this.chatSession,callButton));
      if (details != null) {
        while (details.hasNext()) {
          GenericDetail d=details.next();
          if (d instanceof PhoneNumberDetail && !(d instanceof PagerDetail) && !(d instanceof FaxDetail)) {
            PhoneNumberDetail pnd=(PhoneNumberDetail)d;
            if (pnd.getNumber() != null && pnd.getNumber().length() > 0) {
              if (pnd instanceof VideoDetail) {
                hasVideo=true;
                break;
              }
            }
          }
        }
      }
    }
  }
  return hasVideo;
}
