{
  if (!source.equals(chatSession))   return;
  if (callButton.isEnabled())   return;
  while (details.hasNext()) {
    GenericDetail d=details.next();
    if (d instanceof PhoneNumberDetail && !(d instanceof PagerDetail) && !(d instanceof FaxDetail)) {
      PhoneNumberDetail pnd=(PhoneNumberDetail)d;
      if (pnd.getNumber() != null && pnd.getNumber().length() > 0) {
        callButton.setEnabled(true);
        if (pnd instanceof VideoDetail) {
          callVideoButton.setEnabled(true);
          desktopSharingButton.setEnabled(true);
        }
      }
    }
  }
}
