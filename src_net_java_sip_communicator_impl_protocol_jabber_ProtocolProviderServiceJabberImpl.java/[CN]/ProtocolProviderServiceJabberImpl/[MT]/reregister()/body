{
  try {
    logger.trace("Trying to reregister us!");
    this.currentConnectionState=RegistrationState.UNREGISTERED;
    this.connection.close();
    connectAndLogin(authority);
  }
 catch (  OperationFailedException ex) {
    logger.error("Error ReRegistering",ex);
    fireRegistrationStateChanged(RegistrationState.UNREGISTERED,RegistrationState.CONNECTION_FAILED,RegistrationStateChangeEvent.REASON_INTERNAL_ERROR,null);
  }
catch (  XMPPException ex) {
    logger.error("Error ReRegistering",ex);
    int reason=RegistrationStateChangeEvent.REASON_NOT_SPECIFIED;
    if (ex.getWrappedThrowable() instanceof UnknownHostException)     reason=RegistrationStateChangeEvent.REASON_SERVER_NOT_FOUND;
    fireRegistrationStateChanged(RegistrationState.UNREGISTERED,RegistrationState.CONNECTION_FAILED,reason,null);
  }
}
