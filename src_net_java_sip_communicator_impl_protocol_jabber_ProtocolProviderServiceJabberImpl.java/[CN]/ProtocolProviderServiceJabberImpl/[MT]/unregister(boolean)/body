{
synchronized (initializationLock) {
    RegistrationState currRegState=getRegistrationState();
    if (connection != null && connection.isConnected())     connection.disconnect();
    if (fireEvent) {
      fireRegistrationStateChanged(currRegState,RegistrationState.UNREGISTERED,RegistrationStateChangeEvent.REASON_USER_REQUEST,null);
    }
  }
}
