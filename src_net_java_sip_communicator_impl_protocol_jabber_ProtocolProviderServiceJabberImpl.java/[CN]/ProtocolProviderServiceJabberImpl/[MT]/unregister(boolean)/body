{
synchronized (initializationLock) {
    if (fireEvent) {
      fireRegistrationStateChanged(getRegistrationState(),RegistrationState.UNREGISTERING,RegistrationStateChangeEvent.REASON_NOT_SPECIFIED,null);
    }
    disconnectAndCleanConnection();
    RegistrationState currRegState=getRegistrationState();
    if (fireEvent) {
      fireRegistrationStateChanged(currRegState,RegistrationState.UNREGISTERED,RegistrationStateChangeEvent.REASON_USER_REQUEST,null);
    }
  }
}
