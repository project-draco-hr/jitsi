{
  RegistrationState currRegState=getRegistrationState();
  if (connection != null)   connection.close();
  if (fireEvent) {
    fireRegistrationStateChanged(currRegState,RegistrationState.UNREGISTERED,RegistrationStateChangeEvent.REASON_USER_REQUEST,null);
  }
}
