{
  if (authority == null)   throw new IllegalArgumentException("The register method needs a valid non-null authority impl " + " in order to be able and retrieve passwords.");
  this.authority=authority;
  try {
    abortConnecting=false;
    connectAndLogin(authority,SecurityAuthority.AUTHENTICATION_REQUIRED);
  }
 catch (  XMPPException ex) {
    logger.error("Error registering",ex);
    fireRegistrationStateChanged(ex);
  }
}
