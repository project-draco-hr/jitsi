{
  AbstractButton button=(AbstractButton)e.getSource();
  String buttonText=button.getName();
  if (buttonText.equalsIgnoreCase("save")) {
  }
 else   if (buttonText.equalsIgnoreCase("print")) {
  }
 else   if (buttonText.equalsIgnoreCase("cut")) {
    this.messageWindow.getCurrentChatPanel().cut();
  }
 else   if (buttonText.equalsIgnoreCase("copy")) {
    this.messageWindow.getCurrentChatPanel().copy();
  }
 else   if (buttonText.equalsIgnoreCase("paste")) {
    this.messageWindow.getCurrentChatPanel().paste();
  }
 else   if (buttonText.equalsIgnoreCase("previous")) {
    new Thread(){
      public void run(){
        MessageHistoryService msgHistory=GuiActivator.getMsgHistoryService();
        ChatPanel chatPanel=messageWindow.getCurrentChatPanel();
        ChatConversationPanel conversationPanel=chatPanel.getChatConversationPanel();
        MetaContact metaContact=chatPanel.getMetaContact();
        Collection c=msgHistory.findLastMessagesBefore(metaContact,conversationPanel.getPageFirstMsgTimestamp(),MESSAGES_PER_PAGE);
        if (c.size() > 0) {
          SwingUtilities.invokeLater(new HistoryMessagesLoader(c));
          Iterator i=c.iterator();
          Object lastMessageObject=null;
          Date lastMessageTimeStamp=null;
          while (i.hasNext()) {
            Object o=i.next();
            if (!i.hasNext()) {
              lastMessageObject=o;
            }
          }
          if (lastMessageObject instanceof MessageDeliveredEvent) {
            MessageDeliveredEvent evt=(MessageDeliveredEvent)lastMessageObject;
            lastMessageTimeStamp=evt.getTimestamp();
          }
 else           if (lastMessageObject instanceof MessageReceivedEvent) {
            MessageReceivedEvent evt=(MessageReceivedEvent)lastMessageObject;
            lastMessageTimeStamp=evt.getTimestamp();
          }
          if (beginLastPageTimeStamp == null)           beginLastPageTimeStamp=lastMessageTimeStamp;
        }
      }
    }
.start();
  }
 else   if (buttonText.equalsIgnoreCase("next")) {
    new Thread(){
      public void run(){
        MessageHistoryService msgHistory=GuiActivator.getMsgHistoryService();
        ChatPanel chatPanel=messageWindow.getCurrentChatPanel();
        ChatConversationPanel conversationPanel=chatPanel.getChatConversationPanel();
        MetaContact metaContact=chatPanel.getMetaContact();
        Collection c;
        if (beginLastPageTimeStamp.compareTo(conversationPanel.getPageLastMsgTimestamp()) == 0) {
          c=msgHistory.findByPeriod(metaContact,beginLastPageTimeStamp,new Date(System.currentTimeMillis()));
        }
 else {
          c=msgHistory.findFirstMessagesAfter(metaContact,conversationPanel.getPageLastMsgTimestamp(),MESSAGES_PER_PAGE);
        }
        if (c.size() > 0)         SwingUtilities.invokeLater(new HistoryMessagesLoader(c));
      }
    }
.start();
  }
 else   if (buttonText.equalsIgnoreCase("sendFile")) {
  }
 else   if (buttonText.equalsIgnoreCase("history")) {
    HistoryWindow history=new HistoryWindow(messageWindow.getMainFrame(),messageWindow.getCurrentChatPanel().getMetaContact());
    history.setVisible(true);
  }
 else   if (buttonText.equalsIgnoreCase("font")) {
  }
}
