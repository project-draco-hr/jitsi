{
  JabberStatusEnum jabberStatusEnum=jabberProvider.getJabberStatusEnum();
  if (presence.getMode() == null && presence.isAvailable())   return jabberStatusEnum.getStatus(JabberStatusEnum.AVAILABLE);
 else   if (presence.getMode() == null && !presence.isAvailable())   return jabberStatusEnum.getStatus(JabberStatusEnum.OFFLINE);
  Presence.Mode mode=presence.getMode();
  if (mode.equals(Presence.Mode.available))   return jabberStatusEnum.getStatus(JabberStatusEnum.AVAILABLE);
 else   if (mode.equals(Presence.Mode.away))   return jabberStatusEnum.getStatus(JabberStatusEnum.AWAY);
 else   if (mode.equals(Presence.Mode.chat))   return jabberStatusEnum.getStatus(JabberStatusEnum.FREE_FOR_CHAT);
 else   if (mode.equals(Presence.Mode.dnd))   return jabberStatusEnum.getStatus(JabberStatusEnum.DO_NOT_DISTURB);
 else   return jabberStatusEnum.getStatus(JabberStatusEnum.OFFLINE);
}
