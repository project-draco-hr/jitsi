{
  if (presence.getMode() == null && presence.isAvailable())   return JabberStatusEnum.AVAILABLE;
 else   if (presence.getMode() == null && !presence.isAvailable())   return JabberStatusEnum.OFFLINE;
  Presence.Mode mode=presence.getMode();
  if (mode.equals(Presence.Mode.available))   return JabberStatusEnum.AVAILABLE;
 else   if (mode.equals(Presence.Mode.away))   return JabberStatusEnum.AWAY;
 else   if (mode.equals(Presence.Mode.chat))   return JabberStatusEnum.FREE_FOR_CHAT;
 else   if (mode.equals(Presence.Mode.dnd))   return JabberStatusEnum.DO_NOT_DISTURB;
 else   return JabberStatusEnum.OFFLINE;
}
