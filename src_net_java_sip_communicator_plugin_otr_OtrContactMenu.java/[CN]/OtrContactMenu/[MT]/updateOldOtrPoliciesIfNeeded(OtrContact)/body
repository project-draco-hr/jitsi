{
  OtrPolicy policy=OtrActivator.scOtrEngine.getContactPolicy(otrContact.contact);
  boolean isChangedFlag=false;
  if (policy.getAllowV1() && policy.getAllowV2() && !policy.getAllowV3()) {
    policy.setAllowV3(true);
    isChangedFlag=true;
  }
  if (policy.getEnableManual() && !policy.getWhitespaceStartAKE()) {
    policy.setWhitespaceStartAKE(true);
    isChangedFlag=true;
  }
  if (isChangedFlag) {
    OtrActivator.scOtrEngine.setContactPolicy(contact.contact,policy);
  }
  policy=OtrActivator.scOtrEngine.getGlobalPolicy();
  isChangedFlag=false;
  if (policy.getAllowV1() && policy.getAllowV2() && !policy.getAllowV3()) {
    policy.setAllowV3(true);
    isChangedFlag=true;
  }
  if (policy.getEnableManual() && !policy.getWhitespaceStartAKE()) {
    policy.setWhitespaceStartAKE(true);
    isChangedFlag=true;
  }
  if (isChangedFlag) {
    OtrActivator.scOtrEngine.setGlobalPolicy(policy);
  }
}
