{
  bundleContext=bc;
  try {
    logger.logEntry();
    ServiceReference refHistory=bundleContext.getServiceReference(HistoryService.class.getName());
    HistoryService historyService=(HistoryService)bundleContext.getService(refHistory);
    callHistoryService=new CallHistoryServiceImpl();
    callHistoryService.setHistoryService(historyService);
    callHistoryService.start(bundleContext);
    bundleContext.registerService(CallHistoryService.class.getName(),callHistoryService,null);
    bundleContext.registerService(ContactSourceService.class.getName(),new CallHistoryContactSource(),null);
    if (logger.isInfoEnabled())     logger.info("Call History Service ...[REGISTERED]");
  }
  finally {
    logger.logExit();
  }
}
