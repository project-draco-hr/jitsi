{
  this.messageWindow=messageWindow;
  this.smiliesBox=new SmiliesSelectorBox(ImageLoader.getDefaultSmiliesPack(),messageWindow);
  this.smiliesBox.setText(Messages.getI18NString("smiley").getText());
  this.smiliesBox.setRollover(true);
  this.setRollover(true);
  this.setLayout(new FlowLayout(FlowLayout.LEFT,0,0));
  this.setPreferredSize(new Dimension(300,DEFAULT_BUTTON_HEIGHT));
  this.add(cutButton);
  this.add(copyButton);
  this.add(pasteButton);
  this.addSeparator();
  this.add(smiliesBox);
  this.addSeparator();
  this.add(previousButton);
  this.add(nextButton);
  this.addSeparator();
  this.add(historyButton);
  this.saveButton.setName("save");
  this.saveButton.setToolTipText(Messages.getI18NString("save").getText() + " Ctrl-S");
  this.printButton.setName("print");
  this.printButton.setToolTipText(Messages.getI18NString("print").getText());
  this.cutButton.setName("cut");
  this.cutButton.setToolTipText(Messages.getI18NString("cut").getText() + " Ctrl-X");
  this.copyButton.setName("copy");
  this.copyButton.setToolTipText(Messages.getI18NString("copy").getText() + " Ctrl-C");
  this.pasteButton.setName("paste");
  this.pasteButton.setToolTipText(Messages.getI18NString("paste").getText() + " Ctrl-P");
  this.smiliesBox.setName("smiley");
  this.smiliesBox.setToolTipText(Messages.getI18NString("insertSmiley").getText() + " Ctrl-M");
  this.previousButton.setName("previous");
  this.previousButton.setToolTipText(Messages.getI18NString("previous").getText());
  this.nextButton.setName("next");
  this.nextButton.setToolTipText(Messages.getI18NString("next").getText());
  this.sendFileButton.setName("sendFile");
  this.sendFileButton.setToolTipText(Messages.getI18NString("sendFile").getText());
  this.historyButton.setName("history");
  this.historyButton.setToolTipText(Messages.getI18NString("history").getText() + " Ctrl-H");
  this.fontButton.setName("font");
  this.fontButton.setToolTipText(Messages.getI18NString("font").getText());
  int buttonWidth=calculateButtonWidth();
  this.saveButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.printButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.cutButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.copyButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.pasteButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.previousButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.nextButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.sendFileButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.historyButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.fontButton.setPreferredSize(new Dimension(buttonWidth,DEFAULT_BUTTON_HEIGHT));
  this.saveButton.addMouseListener(this);
  this.printButton.addMouseListener(this);
  this.cutButton.addMouseListener(this);
  this.copyButton.addMouseListener(this);
  this.pasteButton.addMouseListener(this);
  this.previousButton.addMouseListener(this);
  this.nextButton.addMouseListener(this);
  this.sendFileButton.addMouseListener(this);
  this.historyButton.addMouseListener(this);
  this.fontButton.addMouseListener(this);
  this.saveButton.setEnabled(false);
  this.printButton.setEnabled(false);
  this.sendFileButton.setEnabled(false);
  this.fontButton.setEnabled(false);
  this.initPluginComponents();
}
