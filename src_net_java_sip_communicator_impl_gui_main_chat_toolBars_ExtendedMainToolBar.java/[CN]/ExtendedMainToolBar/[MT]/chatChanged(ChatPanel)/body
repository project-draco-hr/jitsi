{
  if (panel.getChatSession() instanceof MetaContactChatSession) {
    MetaContact contact=(MetaContact)panel.getChatSession().getDescriptor();
    if (contact == null)     return;
    Contact defaultContact=contact.getDefaultContact();
    if (defaultContact == null)     return;
    ContactGroup parent=defaultContact.getParentContactGroup();
    boolean isParentPersist=true;
    boolean isParentResolved=true;
    if (parent != null) {
      isParentPersist=parent.isPersistent();
      isParentResolved=parent.isResolved();
    }
    if (!defaultContact.isPersistent() && !defaultContact.isResolved() && !isParentPersist&& !isParentResolved) {
      addButton.setVisible(true);
      currentChatContact=defaultContact;
    }
 else {
      addButton.setVisible(false);
      currentChatContact=null;
    }
  }
}
