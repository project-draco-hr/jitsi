{
  final JPopupMenu popupMenu=new JPopupMenu(GuiActivator.getResources().getI18NString("service.gui.CHANGE_VIDEO_QUALITY"));
  popupMenu.setInvoker(this);
  popupMenu.setFocusable(true);
  JMenuItem lowQuality=new JMenuItem(GuiActivator.getResources().getI18NString("service.gui.LOW_QUALITY"),GuiActivator.getResources().getImage("service.gui.icons.LO_VIDEO_ICON"));
  JMenuItem normalQuality=new JMenuItem(GuiActivator.getResources().getI18NString("service.gui.SD_QUALITY"),GuiActivator.getResources().getImage("service.gui.icons.SD_VIDEO_ICON"));
  JMenuItem hdQuality=new JMenuItem(GuiActivator.getResources().getI18NString("service.gui.HD_QUALITY"),GuiActivator.getResources().getImage("service.gui.icons.HD_VIDEO_ICON"));
  JLabel titleLabel=new JLabel(GuiActivator.getResources().getI18NString("service.gui.CHANGE_VIDEO_QUALITY"));
  titleLabel.setFont(titleLabel.getFont().deriveFont(Font.BOLD));
  titleLabel.setBorder(BorderFactory.createEmptyBorder(0,5,0,0));
  popupMenu.add(titleLabel);
  popupMenu.addSeparator();
  popupMenu.add(hdQuality);
  popupMenu.add(normalQuality);
  popupMenu.add(lowQuality);
  lowQuality.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      popupMenu.setVisible(false);
      setIconImageID(ImageLoader.LO_VIDEO_BUTTON);
    }
  }
);
  normalQuality.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      popupMenu.setVisible(false);
      setIconImageID(ImageLoader.SD_VIDEO_BUTTON);
    }
  }
);
  hdQuality.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      popupMenu.setVisible(false);
      setIconImageID(ImageLoader.HD_VIDEO_BUTTON);
    }
  }
);
  return popupMenu;
}
