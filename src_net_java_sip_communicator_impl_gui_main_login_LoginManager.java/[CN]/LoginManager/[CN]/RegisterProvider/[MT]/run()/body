{
  try {
    protocolProvider.register(secAuth);
  }
 catch (  OperationFailedException ex) {
    handleOperationFailedException(ex);
  }
catch (  Throwable ex) {
    logger.error("Failed to register protocol provider. ",ex);
    AccountID accountID=protocolProvider.getAccountID();
    new ErrorDialog(mainFrame,GuiActivator.getResources().getI18NString("service.gui.ERROR"),GuiActivator.getResources().getI18NString("service.gui.LOGIN_GENERAL_ERROR",new String[]{accountID.getUserID(),accountID.getService()})).showDialog();
  }
}
