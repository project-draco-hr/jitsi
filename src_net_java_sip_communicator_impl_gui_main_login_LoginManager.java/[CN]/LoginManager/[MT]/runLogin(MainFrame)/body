{
  Set set=GuiActivator.getProtocolProviderFactories().entrySet();
  Iterator iter=set.iterator();
  while (iter.hasNext()) {
    Map.Entry entry=(Map.Entry)iter.next();
    ProtocolProviderFactory providerFactory=(ProtocolProviderFactory)entry.getValue();
    String protocolName=(String)entry.getKey();
    ArrayList accountsList=providerFactory.getRegisteredAccounts();
    if (accountsList.size() > 0) {
      for (int i=0; i < accountsList.size(); i++) {
        AccountID accountID=(AccountID)accountsList.get(i);
        this.login(providerFactory,accountID);
      }
    }
 else {
      showLoginWindow(parent,protocolName,providerFactory);
    }
  }
}
