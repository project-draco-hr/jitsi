{
  if (evt.getNewState().equals(RegistrationState.REGISTERED)) {
    Map supportedOpSets=icqProtocolProvider.getSupportedOperationSets();
    this.mainFrame.setSupportedOperationSets(supportedOpSets);
  }
 else   if (evt.getNewState().equals(RegistrationState.AUTHENTICATION_FAILED)) {
    JOptionPane.showMessageDialog(this.mainFrame,Messages.getString("authenticationFailed"),Messages.getString("authenticationFailed"),JOptionPane.ERROR_MESSAGE);
  }
 else   if (evt.getNewState().equals(RegistrationState.CONNECTION_FAILED)) {
    JOptionPane.showMessageDialog(this.mainFrame,Messages.getString("connectionFailed"),Messages.getString("connectionFailed"),JOptionPane.ERROR_MESSAGE);
  }
}
