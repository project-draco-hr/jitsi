{
  Hashtable accountProperties=new Hashtable();
  accountProperties.put(AccountProperties.PASSWORD,passwd);
  this.accountID=accountManager.installAccount(this.bc,user,accountProperties);
  ServiceReference serRef=null;
  serRef=accountManager.getProviderForAccount(this.accountID);
  ProtocolProviderService protocolProvider=(ProtocolProviderService)this.bc.getService(serRef);
  Account account=new Account(user,protocolProvider);
  this.mainFrame.getStatusPanel().addAccount(account);
  this.mainFrame.addAccount(account);
  this.mainFrame.getStatusPanel().startConnecting(protocolProvider.getProtocolName());
  protocolProvider.addRegistrationStateChangeListener(this);
  protocolProvider.register(new MySecurityAuthority());
}
