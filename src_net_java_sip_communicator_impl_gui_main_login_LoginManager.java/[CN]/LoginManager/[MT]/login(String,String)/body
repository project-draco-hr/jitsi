{
  this.osgiFilter="(" + AccountManager.PROTOCOL_PROPERTY_NAME + "="+ ProtocolNames.ICQ+ ")";
  try {
    this.serRefs=this.bc.getServiceReferences(AccountManager.class.getName(),osgiFilter);
  }
 catch (  InvalidSyntaxException e) {
    logger.error("Login : " + e.getMessage());
  }
  this.accountManager=(AccountManager)this.bc.getService(serRefs[0]);
  Hashtable icqAccountProperties=new Hashtable();
  icqAccountProperties.put(AccountProperties.PASSWORD,"abc123");
  this.icqAccountID=this.accountManager.installAccount(this.bc,"227503712",icqAccountProperties);
  this.osgiFilter="(&(" + AccountManager.PROTOCOL_PROPERTY_NAME + "="+ ProtocolNames.ICQ+ ")"+ "("+ AccountManager.ACCOUNT_ID_PROPERTY_NAME+ "="+ icqAccountID.getAccountID()+ "))";
  try {
    this.serRefs=this.bc.getServiceReferences(ProtocolProviderService.class.getName(),osgiFilter);
  }
 catch (  InvalidSyntaxException e) {
    e.printStackTrace();
  }
  icqProtocolProvider=(ProtocolProviderService)this.bc.getService(serRefs[0]);
  icqProtocolProvider.addRegistrationStateChangeListener(this);
  icqProtocolProvider.register(new MySecurityAuthority());
}
