{
  this.sendFileItem.setEnabled(false);
  String[] userProtocols=mainFrame.getUser().getProtocols();
  for (int i=0; i < userProtocols.length; i++) {
    AntialiasedMenuItem protocolMenuItem=new AntialiasedMenuItem(userProtocols[i],new ImageIcon(Constants.getProtocolIcon(userProtocols[i])));
    this.addSubcontactMenu.add(protocolMenuItem);
  }
  this.add(sendMessageItem);
  this.add(sendFileItem);
  this.addSeparator();
  this.add(moveToMenu);
  this.addSeparator();
  this.add(addSubcontactMenu);
  this.addSeparator();
  this.add(removeContactItem);
  this.add(renameContactItem);
  this.addSeparator();
  this.add(viewHistoryItem);
  this.add(userInfoItem);
  this.sendMessageItem.setName("sendMessage");
  this.sendFileItem.setName("sendFile");
  this.moveToMenu.setName("moveToGroup");
  this.addSubcontactMenu.setName("addSubcontact");
  this.removeContactItem.setName("removeContact");
  this.renameContactItem.setName("renameContact");
  this.viewHistoryItem.setName("viewHistory");
  this.userInfoItem.setName("userInfo");
  this.sendMessageItem.addActionListener(this);
  this.sendFileItem.addActionListener(this);
  this.moveToMenu.addActionListener(this);
  this.addSubcontactMenu.addActionListener(this);
  this.removeContactItem.addActionListener(this);
  this.renameContactItem.addActionListener(this);
  this.viewHistoryItem.addActionListener(this);
  this.userInfoItem.addActionListener(this);
}
