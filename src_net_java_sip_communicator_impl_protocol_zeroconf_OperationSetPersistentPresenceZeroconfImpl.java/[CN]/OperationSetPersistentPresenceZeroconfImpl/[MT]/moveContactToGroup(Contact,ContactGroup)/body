{
  ContactZeroconfImpl zeroconfContact=(ContactZeroconfImpl)contactToMove;
  ContactGroupZeroconfImpl parentZeroconfGroup=findContactParent(zeroconfContact);
  parentZeroconfGroup.removeContact(zeroconfContact);
  if (!zeroconfContact.isPersistent()) {
    fireSubscriptionEvent(zeroconfContact,parentZeroconfGroup,SubscriptionEvent.SUBSCRIPTION_REMOVED);
    try {
      this.subscribe(newParent,contactToMove.getAddress());
      fireSubscriptionEvent(zeroconfContact,newParent,SubscriptionEvent.SUBSCRIPTION_CREATED);
    }
 catch (    Exception ex) {
      logger.error("Failed to move contact " + zeroconfContact.getAddress(),ex);
    }
  }
 else {
    ((ContactGroupZeroconfImpl)newParent).addContact(zeroconfContact);
    fireSubscriptionMovedEvent(contactToMove,parentZeroconfGroup,newParent);
  }
}
