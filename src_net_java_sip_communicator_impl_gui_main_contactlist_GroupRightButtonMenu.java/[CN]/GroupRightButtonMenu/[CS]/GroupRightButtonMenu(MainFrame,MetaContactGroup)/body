{
  this.group=group;
  this.mainFrame=mainFrame;
  this.addContactMenu.setIcon(new ImageIcon(ImageLoader.getImage(ImageLoader.ADD_CONTACT_16x16_ICON)));
  this.add(addContactMenu);
  Iterator providers=mainFrame.getProtocolProviders();
  while (providers.hasNext()) {
    ProtocolProviderService pps=(ProtocolProviderService)providers.next();
    boolean isHidden=pps.getAccountID().getAccountProperty(ProtocolProviderFactory.IS_PROTOCOL_HIDDEN) != null;
    if (isHidden)     continue;
    String protocolName=pps.getProtocolName();
    AccountMenuItem menuItem=new AccountMenuItem(pps,new ImageIcon(ImageLoader.getAccountStatusImage(pps)));
    menuItem.setName(protocolName);
    menuItem.addActionListener(this);
    this.addContactMenu.add(menuItem);
  }
  this.addSeparator();
  this.add(renameGroupItem);
  this.add(removeGroupItem);
  this.renameGroupItem.setName("renameGroup");
  this.removeGroupItem.setName("removeGroup");
  this.addContactMenu.setMnemonic(GuiActivator.getResources().getI18nMnemonic("service.gui.ADD_CONTACT"));
  this.renameGroupItem.setMnemonic(GuiActivator.getResources().getI18nMnemonic("service.gui.RENAME_GROUP"));
  this.removeGroupItem.setMnemonic(GuiActivator.getResources().getI18nMnemonic("service.gui.REMOVE_GROUP"));
  this.renameGroupItem.addActionListener(this);
  this.removeGroupItem.addActionListener(this);
  this.initPluginComponents();
}
