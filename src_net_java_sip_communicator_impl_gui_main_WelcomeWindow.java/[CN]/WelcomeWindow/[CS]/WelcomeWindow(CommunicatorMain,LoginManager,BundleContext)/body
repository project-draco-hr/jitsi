{
  super(c.getMainFrame(),Messages.getString("warning"));
  this.bc=context;
  this.communicator=c;
  this.loginManager=loginManager;
  this.getRootPane().setDefaultButton(continueButton);
  this.continueButton.addActionListener(this);
  this.exitButton.addActionListener(this);
  this.buttonPanel.add(continueButton);
  this.buttonPanel.add(exitButton);
  this.windowBackground.setLayout(new BorderLayout());
  this.getContentPane().setLayout(new BorderLayout());
  this.windowBackground.add(welcomeLabel,BorderLayout.CENTER);
  this.windowBackground.add(buttonPanel,BorderLayout.SOUTH);
  this.getContentPane().add(windowBackground);
  this.setTransparent(true);
  this.windowBackground.setBorder(BorderFactory.createEmptyBorder(5,10,5,5));
  this.setDefaultCloseOperation(JDialog.EXIT_ON_CLOSE);
  this.addWindowListener(new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      dispose();
      communicator.showCommunicator(true);
      SwingUtilities.invokeLater(new RunLogin());
    }
  }
);
  getRootPane().getActionMap().put("close",new CloseAction());
  getRootPane().getActionMap().put("exit",new ExitAction());
  InputMap imap=this.getRootPane().getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  imap.put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),"close");
  imap.put(KeyStroke.getKeyStroke(KeyEvent.VK_X,KeyEvent.ALT_DOWN_MASK),"exit");
}
