{
  MediaFormat alreadyMappedFmt=findFormat(payloadType);
  if (alreadyMappedFmt != null) {
    throw new IllegalArgumentException(payloadType + " has already been allocated to " + alreadyMappedFmt);
  }
  if (payloadType < MediaFormat.MIN_DYNAMIC_PAYLOAD_TYPE) {
    throw new IllegalArgumentException(payloadType + " is not a valid dynamic payload type number." + " (must be between "+ MediaFormat.MIN_DYNAMIC_PAYLOAD_TYPE+ " and "+ MediaFormat.MAX_DYNAMIC_PAYLOAD_TYPE);
  }
  if (!overrideMapping && payloadTypeMappings.containsKey(format))   return;
  payloadTypeMappings.put(format,Byte.valueOf(payloadType));
}
