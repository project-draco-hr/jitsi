{
  if (OSUtils.IS_MAC) {
    HudWindow window=new HudWindow();
    dialPadDialog=window.getJDialog();
  }
 else {
    dialPadDialog=new SIPCommDialog(false);
  }
  callField=new CallField(GuiActivator.getResources().getI18NString("service.gui.ENTER_NAME_OR_NUMBER"));
  dialPadDialog.setTitle(GuiActivator.getResources().getI18NString("service.gui.DIALPAD"));
  JPanel mainPanel=new TransparentPanel(new BorderLayout());
  mainPanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));
  mainPanel.add(callField,BorderLayout.NORTH);
  DTMFHandler dtmfHandler=new DTMFHandler();
  dtmfHandler.addParent(dialPadDialog);
  mainPanel.add(new GeneralDialPanel(this,dtmfHandler));
  mainPanel.add(createCallPanel(),BorderLayout.SOUTH);
  dialPadDialog.add(mainPanel);
  dialPadDialog.pack();
  dialPadDialog.addWindowListener(new WindowAdapter(){
    public void windowOpened(    WindowEvent e){
      if (keyManager == null) {
        keyManager=KeyboardFocusManager.getCurrentKeyboardFocusManager();
        keyDispatcher=new MainKeyDispatcher(keyManager);
      }
      keyManager.addKeyEventDispatcher(new MainKeyDispatcher(keyManager));
    }
    @Override public void windowClosed(    WindowEvent e){
      if (keyManager != null)       keyManager.removeKeyEventDispatcher(keyDispatcher);
      keyManager=null;
      keyDispatcher=null;
    }
  }
);
}
