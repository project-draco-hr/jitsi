{
  registerServiceType(info.type);
  info.server=localHost.getName();
  info.addr=localHost.getAddress();
synchronized (this) {
    makeServiceNameUnique(info);
    services.put(info.getQualifiedName().toLowerCase(),info);
  }
  new Prober().start();
  try {
synchronized (info) {
      while (info.getState().compareTo(DNSState.ANNOUNCED) < 0) {
        info.wait();
      }
    }
  }
 catch (  InterruptedException e) {
    logger.error(e.getMessage(),e);
  }
  if (logger.isDebugEnabled())   logger.debug("registerService() JmDNS registered service as " + info);
}
