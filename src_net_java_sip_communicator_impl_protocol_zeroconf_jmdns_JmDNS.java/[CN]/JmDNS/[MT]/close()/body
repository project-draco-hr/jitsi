{
  if (state != DNSState.CANCELED) {
synchronized (this) {
      state=DNSState.CANCELED;
      unregisterAllServices();
      disposeServiceCollectors();
      closeMulticastSocket();
      timer.cancel();
    }
  }
}
