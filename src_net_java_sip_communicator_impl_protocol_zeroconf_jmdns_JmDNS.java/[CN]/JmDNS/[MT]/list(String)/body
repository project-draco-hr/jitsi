{
  ServiceCollector collector;
  boolean newCollectorCreated;
synchronized (serviceCollectors) {
    collector=serviceCollectors.get(type);
    if (collector == null) {
      collector=new ServiceCollector(type);
      serviceCollectors.put(type,collector);
      addServiceListener(type,collector);
      newCollectorCreated=true;
    }
 else {
      newCollectorCreated=false;
    }
  }
  if (newCollectorCreated) {
    try {
      Thread.sleep(200);
    }
 catch (    InterruptedException e) {
    }
  }
  return collector.list();
}
