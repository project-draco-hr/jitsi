{
  ClientTransaction inviteTran;
  try {
    inviteTran=(ClientTransaction)getLatestInviteTransaction();
  }
 catch (  ClassCastException exc) {
    throw new OperationFailedException("Can't invite someone that is actually inviting us",OperationFailedException.INTERNAL_ERROR,exc);
  }
  attachSdpOffer(inviteTran.getRequest());
  try {
    inviteTran.sendRequest();
    if (logger.isDebugEnabled())     logger.debug("sent request:\n" + inviteTran.getRequest());
  }
 catch (  SipException ex) {
    ProtocolProviderServiceSipImpl.throwOperationFailedException("An error occurred while sending invite request",OperationFailedException.NETWORK_FAILURE,ex,logger);
  }
}
