{
  if (!format.getMediaType().equals(mediaType) || !format.getEncoding().equals(encoding))   return false;
  if (clockRate != MediaFormatFactory.CLOCK_RATE_NOT_SPECIFIED) {
    double formatClockRate=format.getClockRate();
    if ((formatClockRate != MediaFormatFactory.CLOCK_RATE_NOT_SPECIFIED) && (formatClockRate != clockRate))     return false;
  }
  if (MediaType.AUDIO.equals(mediaType)) {
    if (channels == MediaFormatFactory.CHANNELS_NOT_SPECIFIED)     channels=1;
    int formatChannels=((AudioMediaFormat)format).getChannels();
    if (formatChannels == MediaFormatFactory.CHANNELS_NOT_SPECIFIED)     formatChannels=1;
    if (formatChannels != channels)     return false;
  }
  return true;
}
