{
  if (sock != null && sock.isClosed() == false) {
    sendBye();
    try {
      sock.close();
    }
 catch (    IOException ex) {
      logger.error(ex);
    }
  }
}
