{
  setEncodingPreference("H264",VideoMediaFormatImpl.DEFAULT_CLOCK_RATE,1100);
  setEncodingPreference("H263-1998",VideoMediaFormatImpl.DEFAULT_CLOCK_RATE,0);
  setEncodingPreference("JPEG",VideoMediaFormatImpl.DEFAULT_CLOCK_RATE,950);
  setEncodingPreference("H261",VideoMediaFormatImpl.DEFAULT_CLOCK_RATE,800);
  setEncodingPreference("G722",8000,705);
  setEncodingPreference("SILK",24000,704);
  setEncodingPreference("SILK",16000,703);
  setEncodingPreference("speex",32000,701);
  setEncodingPreference("speex",16000,700);
  setEncodingPreference("PCMU",8000,650);
  setEncodingPreference("PCMA",8000,600);
  setEncodingPreference("iLBC",8000,500);
  setEncodingPreference("GSM",8000,450);
  setEncodingPreference("speex",8000,352);
  setEncodingPreference("DVI4",8000,300);
  setEncodingPreference("DVI4",16000,250);
  setEncodingPreference("G723",8000,150);
  setEncodingPreference("SILK",12000,0);
  setEncodingPreference("SILK",8000,0);
  setEncodingPreference("G729",8000,0);
  setEncodingPreference(Constants.TELEPHONE_EVENT,8000,1);
  ConfigurationService cfg=NeomediaActivator.getConfigurationService();
  if (cfg != null) {
    for (    String pName : cfg.getPropertyNamesByPrefix(PROP_SDP_PREFERENCE,false)) {
      String prefStr=cfg.getString(pName);
      String fmtName=pName.substring(pName.lastIndexOf('.') + 1);
      if (fmtName.contains("sdp")) {
        fmtName=fmtName.replaceAll("sdp","");
        if (cfg.getString(PROP_SDP_PREFERENCE + "." + fmtName) != null)         continue;
      }
      int preference=-1;
      String encoding;
      double clockRate;
      try {
        preference=Integer.parseInt(prefStr);
        int encodingClockRateSeparator=fmtName.lastIndexOf('/');
        if (encodingClockRateSeparator > -1) {
          encoding=fmtName.substring(0,encodingClockRateSeparator);
          clockRate=Double.parseDouble(fmtName.substring(encodingClockRateSeparator + 1));
        }
 else {
          encoding=fmtName;
          clockRate=MediaFormatFactory.CLOCK_RATE_NOT_SPECIFIED;
        }
      }
 catch (      NumberFormatException nfe) {
        logger.warn("Failed to parse format (" + fmtName + ") or preference ("+ prefStr+ ").",nfe);
        continue;
      }
      setEncodingPreference(encoding,clockRate,preference);
    }
  }
  updateSupportedEncodings();
}
