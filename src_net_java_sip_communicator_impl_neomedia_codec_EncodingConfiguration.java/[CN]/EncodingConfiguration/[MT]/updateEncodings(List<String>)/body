{
  Set<String> result=new TreeSet<String>(new EncodingComparator());
  for (  String c : encs) {
    Integer pref1=encodingPreferences.get(c);
    int pref1IntValue=(pref1 == null) ? 0 : pref1;
    if (pref1IntValue > 0)     result.add(c);
  }
  return result.toArray(new String[result.size()]);
}
