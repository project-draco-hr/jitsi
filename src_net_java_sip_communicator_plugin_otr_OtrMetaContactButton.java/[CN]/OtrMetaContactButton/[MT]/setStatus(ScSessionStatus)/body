{
  String urlKey;
  String tipKey;
switch (status) {
case ENCRYPTED:
    urlKey=OtrActivator.scOtrKeyManager.isVerified(contact) ? "plugin.otr.ENCRYPTED_ICON_22x22" : "plugin.otr.ENCRYPTED_UNVERIFIED_ICON_22x22";
  tipKey=OtrActivator.scOtrKeyManager.isVerified(contact) ? "plugin.otr.menu.VERIFIED" : "plugin.otr.menu.UNVERIFIED";
break;
case FINISHED:
urlKey="plugin.otr.FINISHED_ICON_22x22";
tipKey="plugin.otr.menu.FINISHED";
break;
case PLAINTEXT:
urlKey="plugin.otr.PLAINTEXT_ICON_22x22";
tipKey="plugin.otr.menu.START_OTR";
break;
case LOADING:
urlKey="plugin.otr.LOADING_ICON_22x22";
tipKey="plugin.otr.menu.LOADING_OTR";
break;
case TIMED_OUT:
urlKey="plugin.otr.BROKEN_ICON_22x22";
tipKey="plugin.otr.menu.TIMED_OUT";
break;
default :
return;
}
SIPCommButton button=getButton();
button.setIconImage(Toolkit.getDefaultToolkit().getImage(OtrActivator.resourceService.getImageURL(urlKey)));
button.setToolTipText(OtrActivator.resourceService.getI18NString(tipKey));
button.repaint();
}
