{
  if (!msg.getFrom().equals(this.session.getUid())) {
    Map<String,OperationSet> supportedOperationSets=getParentProvider().getSupportedOperationSets();
    if (supportedOperationSets == null || supportedOperationSets.size() < 1)     throw new NullPointerException("No OperationSet implementations are supported by " + "this implementation. ");
    OperationSetBasicInstantMessagingFacebookImpl operationSetIM=(OperationSetBasicInstantMessagingFacebookImpl)supportedOperationSets.get(OperationSetBasicInstantMessaging.class.getName());
    operationSetIM.receivedInstantMessage(msg);
  }
}
