{
  logger.info("in promoteTypingNotification(): Got a TypingNotification: " + facebookTypingState);
  Map<String,OperationSet> supportedOperationSets=getParentProvider().getSupportedOperationSets();
  if (supportedOperationSets == null || supportedOperationSets.size() < 1)   throw new NullPointerException("No OperationSet implementations are supported by " + "this implementation. ");
  OperationSetPersistentPresenceFacebookImpl operationSetPP=(OperationSetPersistentPresenceFacebookImpl)supportedOperationSets.get(OperationSetPersistentPresence.class.getName());
  Contact fromContact=operationSetPP.findContactByID(fromID);
  if (fromContact == null) {
    fromContact=operationSetPP.createVolatileContact(fromID);
  }
  int typingState=OperationSetTypingNotifications.STATE_UNKNOWN;
switch (facebookTypingState) {
case 1:
    typingState=OperationSetTypingNotifications.STATE_TYPING;
  break;
case 0:
typingState=OperationSetTypingNotifications.STATE_STOPPED;
break;
default :
typingState=OperationSetTypingNotifications.STATE_UNKNOWN;
}
OperationSetTypingNotificationsFacebookImpl operationSetTN=(OperationSetTypingNotificationsFacebookImpl)supportedOperationSets.get(OperationSetTypingNotifications.class.getName());
operationSetTN.receivedTypingNotification(fromContact,typingState);
}
