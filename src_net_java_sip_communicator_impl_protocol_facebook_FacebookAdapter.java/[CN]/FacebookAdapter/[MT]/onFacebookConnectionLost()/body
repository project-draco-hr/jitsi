{
  if (this.parentprovider.isRegistered()) {
    try {
      this.parentprovider.unregister();
    }
 catch (    OperationFailedException e) {
      logger.error("unable to unregister",e);
    }
  }
  Map<String,OperationSet> supportedOperationSets=getParentProvider().getSupportedOperationSets();
  if (supportedOperationSets == null || supportedOperationSets.size() < 1) {
    throw new NullPointerException("No OperationSet implementations are supported by " + "this implementation. ");
  }
  OperationSetPersistentPresenceFacebookImpl operationSetPresence=(OperationSetPersistentPresenceFacebookImpl)supportedOperationSets.get(OperationSetPresence.class.getName());
  operationSetPresence.setPresenceStatusForAllContacts(FacebookStatusEnum.OFFLINE);
}
