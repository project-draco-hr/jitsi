{
  for (  ProtocolProviderService protocolProviderService : GeneralConfigPluginActivator.getProtocolProviders()) {
    PresenceStatus lastState=lastStates.get(protocolProviderService);
    if (lastState != null) {
      OperationSetPresence presence=protocolProviderService.getOperationSet(OperationSetPresence.class);
      try {
        presence.publishPresenceStatus(lastState,"");
      }
 catch (      IllegalArgumentException e) {
      }
catch (      IllegalStateException e) {
      }
catch (      OperationFailedException e) {
      }
      removeProviderFromLastStates(protocolProviderService);
    }
  }
}
