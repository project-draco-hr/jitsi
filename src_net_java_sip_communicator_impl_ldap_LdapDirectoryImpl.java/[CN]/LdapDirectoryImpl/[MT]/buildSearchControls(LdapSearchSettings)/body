{
  SearchControls searchControls=new SearchControls();
  if (searchSettings.isMaxResultsSet()) {
    searchControls.setCountLimit(searchSettings.getMaxResults());
  }
 else {
  }
  if (searchSettings.isScopeSet()) {
    searchControls.setSearchScope(searchSettings.getScope().getConstant());
  }
 else {
    searchControls.setSearchScope(this.getSettings().getScope().getConstant());
  }
  searchControls.setReturningAttributes(retrievableAttributes.toArray(new String[0]));
  return searchControls;
}
