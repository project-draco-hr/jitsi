{
  RegistrationState currRegState=getRegistrationState();
  try {
    if (yahooSession != null && yahooSession.getSessionStatus() == StatusConstants.MESSAGING)     yahooSession.logout();
  }
 catch (  Exception ex) {
    logger.error("Cannot logout! ",ex);
  }
  try {
    if (fireEvent) {
      fireRegistrationStateChanged(currRegState,RegistrationState.UNREGISTERED,RegistrationStateChangeEvent.REASON_USER_REQUEST,null);
    }
  }
  finally {
    yahooSession=null;
  }
}
