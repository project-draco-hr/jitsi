{
synchronized (initializationLock) {
    this.accountID=accountID;
    addSupportedOperationSet(OperationSetInstantMessageTransform.class,new OperationSetInstantMessageTransformImpl());
    persistentPresence=new OperationSetPersistentPresenceMsnImpl(this);
    addSupportedOperationSet(OperationSetPersistentPresence.class,persistentPresence);
    addSupportedOperationSet(OperationSetPresence.class,persistentPresence);
    OperationSetServerStoredAccountInfoMsnImpl accountInfo=new OperationSetServerStoredAccountInfoMsnImpl(this,screenname);
    addSupportedOperationSet(OperationSetServerStoredAccountInfo.class,accountInfo);
    addSupportedOperationSet(OperationSetAvatar.class,new OperationSetAvatarMsnImpl(this,accountInfo));
    addSupportedOperationSet(OperationSetAdHocMultiUserChat.class,new OperationSetAdHocMultiUserChatMsnImpl(this));
    addSupportedOperationSet(OperationSetBasicInstantMessaging.class,new OperationSetBasicInstantMessagingMsnImpl(this));
    typingNotifications=new OperationSetTypingNotificationsMsnImpl(this);
    addSupportedOperationSet(OperationSetTypingNotifications.class,typingNotifications);
    addSupportedOperationSet(OperationSetFileTransfer.class,new OperationSetFileTransferMsnImpl(this));
  }
}
