{
  Component local=getLocal();
  super.layoutContainer(parent,(local == null) ? Component.CENTER_ALIGNMENT : remoteAlignmentX);
  if (local != null) {
    Dimension parentSize=parent.getSize();
    int height=Math.round(parentSize.height * LOCAL_TO_REMOTE_RATIO);
    int width=Math.round(parentSize.width * LOCAL_TO_REMOTE_RATIO);
    int localX;
    int localY;
    if (remote instanceof JLabel) {
      localX=parentSize.width / 2 - width / 2;
      localY=parentSize.height - height;
      super.layoutComponent(local,new Rectangle(localX,localY,width,height),Component.CENTER_ALIGNMENT,Component.BOTTOM_ALIGNMENT);
    }
 else {
      localX=remote.getX() + 5;
      localY=parentSize.height - height - 5;
      super.layoutComponent(local,new Rectangle(localX,localY,width,height),Component.LEFT_ALIGNMENT,Component.BOTTOM_ALIGNMENT);
    }
    if (closeButton != null) {
      super.layoutComponent(closeButton,new Rectangle((localX + local.getWidth() - closeButton.getWidth()),localY,closeButton.getWidth(),closeButton.getHeight()),Component.CENTER_ALIGNMENT,Component.CENTER_ALIGNMENT);
    }
  }
}
