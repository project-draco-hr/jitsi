{
  AffineTransform tx=new AffineTransform();
  AffineTransformOp op=null;
  double scaleWidth=((double)width) / ((double)src.getWidth());
  double scaleHeight=((double)height) / ((double)src.getHeight());
  BufferedImage dst=null;
  if (scaleWidth != 1 || scaleHeight != 1) {
    tx.scale(scaleWidth,scaleHeight);
  }
  op=new AffineTransformOp(tx,AffineTransformOp.TYPE_BILINEAR);
  dst=new BufferedImage(width,height,type);
  return op.filter(src,dst);
}
