{
  double scaleWidth=width / ((double)src.getWidth());
  double scaleHeight=height / ((double)src.getHeight());
  AffineTransform tx=new AffineTransform();
  if ((Double.compare(scaleWidth,1) != 0) || (Double.compare(scaleHeight,1) != 0))   tx.scale(scaleWidth,scaleHeight);
  AffineTransformOp op=new AffineTransformOp(tx,AffineTransformOp.TYPE_BILINEAR);
  BufferedImage dst=new BufferedImage(width,height,type);
  return op.filter(src,dst);
}
