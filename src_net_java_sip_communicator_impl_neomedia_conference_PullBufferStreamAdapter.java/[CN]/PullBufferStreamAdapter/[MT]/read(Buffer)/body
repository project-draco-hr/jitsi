{
  Object data=buffer.getData();
  byte[] bytes=null;
  if (data != null) {
    if (data instanceof byte[])     bytes=(byte[])data;
 else     if (data instanceof short[]) {
      short[] shorts=(short[])data;
      bytes=new byte[2 * shorts.length];
    }
 else     if (data instanceof int[]) {
      int[] ints=(int[])data;
      bytes=new byte[4 * ints.length];
    }
  }
  if (bytes == null) {
    int frameSizeInBytes=getFrameSizeInBytes(getFormat());
    bytes=new byte[1024 * ((frameSizeInBytes <= 0) ? 4 : frameSizeInBytes)];
  }
  read(buffer,bytes);
}
