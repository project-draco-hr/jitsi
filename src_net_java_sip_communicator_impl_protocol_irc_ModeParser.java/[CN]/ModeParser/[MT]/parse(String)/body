{
  boolean adding=true;
  for (  char c : modestring.toCharArray()) {
switch (c) {
case '+':
      adding=true;
    break;
case '-':
  adding=false;
break;
default :
try {
Mode entry=process(adding,c);
modes.add(entry);
}
 catch (IllegalArgumentException e) {
System.out.println("Unknown mode encountered: '" + c + "' (mode string '"+ modestring+ "')");
}
break;
}
}
}
