{
synchronized (readSync) {
    if (!started) {
      buffer.setLength(0);
      return true;
    }
    if (readActive)     return false;
    readActive=true;
  }
  try {
    Object data=buffer.getData();
    byte[] bufferData=null;
    if (data instanceof byte[]) {
      bufferData=(byte[])data;
      if (bufferData.length < bytesPerBuffer)       bufferData=null;
    }
    if (bufferData == null) {
      bufferData=new byte[bytesPerBuffer];
      buffer.setData(bufferData);
    }
synchronized (connectedToStreamSync) {
      PortAudio.Pa_ReadStream(stream,bufferData,framesPerBuffer);
    }
    long bufferTimeStamp=System.nanoTime();
    buffer.setFlags(Buffer.FLAG_SYSTEM_TIME);
    buffer.setLength(bytesPerBuffer);
    buffer.setOffset(0);
    buffer.setTimeStamp(bufferTimeStamp);
    int slaveCount=slaves.size();
    for (int slaveIndex=0; slaveIndex < slaveCount; slaveIndex++) {
      slaves.get(slaveIndex).setBuffer(bufferData,bytesPerBuffer,bufferTimeStamp);
    }
  }
  finally {
synchronized (readSync) {
      readActive=false;
      readSync.notifyAll();
    }
  }
  return true;
}
