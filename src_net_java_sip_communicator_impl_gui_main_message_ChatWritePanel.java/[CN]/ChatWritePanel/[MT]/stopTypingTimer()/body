{
  Contact chatProtocolContact=chatPanel.getProtocolContact();
  if (chatProtocolContact.getProtocolProvider().isRegistered()) {
    OperationSetTypingNotifications tnOperationSet=(OperationSetTypingNotifications)chatProtocolContact.getProtocolProvider().getOperationSet(OperationSetTypingNotifications.class);
    tnOperationSet.sendTypingNotification(chatPanel.getProtocolContact(),OperationSetTypingNotifications.STATE_STOPPED);
    typingState=OperationSetTypingNotifications.STATE_STOPPED;
    stoppedTypingTimer.stop();
  }
}
