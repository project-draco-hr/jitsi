{
  TreeSet<String> result=new TreeSet<String>(new EncodingComparator());
  Iterator<String> iter=encs.iterator();
  while (iter.hasNext()) {
    String c=(String)iter.next();
    Integer pref1=encodingPreferences.get(c);
    int pref1IntValue=(pref1 == null) ? 0 : pref1.intValue();
    if (pref1IntValue > 0)     result.add(c);
  }
  return (String[])result.toArray();
}
