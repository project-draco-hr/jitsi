{
  logger.debug("Received a RegistrationChangeEvent: " + e.toString());
  collectedStates.add(e.getNewState());
  if (e.getNewState().equals(RegistrationState.REGISTERED)) {
    logger.debug("We're registered. Notifying waiting threads");
synchronized (this) {
      notifyAll();
    }
  }
}
