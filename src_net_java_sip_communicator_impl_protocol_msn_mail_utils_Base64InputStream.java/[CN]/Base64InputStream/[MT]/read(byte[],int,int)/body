{
  try {
    int l=0;
    for (; l < len; l++) {
      int c;
      if ((c=read()) == -1) {
        if (l == 0)         l=-1;
        break;
      }
      b[off + l]=(byte)c;
    }
    return l;
  }
 catch (  IOException e) {
    return -1;
  }
}
