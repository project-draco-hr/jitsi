{
  ServiceInfo info=dns.services.get(name.toLowerCase());
  if (info != null && (port != info.port || !server.equalsIgnoreCase(dns.getLocalHost().getName()))) {
    logger.finer("handleResponse() Denial detected");
    if (info.getState().isProbing()) {
      String oldName=info.getQualifiedName().toLowerCase();
      info.setName(dns.incrementName(info.getName()));
      dns.services.remove(oldName);
      dns.services.put(info.getQualifiedName().toLowerCase(),info);
      logger.finer("handleResponse() New unique name chose:" + info.getName());
    }
    info.revertState();
    return true;
  }
  return false;
}
