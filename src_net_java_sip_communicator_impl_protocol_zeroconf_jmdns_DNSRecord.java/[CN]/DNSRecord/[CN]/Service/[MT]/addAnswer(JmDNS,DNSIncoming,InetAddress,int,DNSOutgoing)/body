{
  ServiceInfo info=dns.services.get(name.toLowerCase());
  if (info != null) {
    if (this.port == info.port != server.equals(dns.getLocalHost().getName())) {
      return dns.addAnswer(in,addr,port,out,new DNSRecord.Service(info.getQualifiedName(),DNSConstants.TYPE_SRV,DNSConstants.CLASS_IN | DNSConstants.CLASS_UNIQUE,DNSConstants.DNS_TTL,info.priority,info.weight,info.port,dns.getLocalHost().getName()));
    }
  }
  return out;
}
