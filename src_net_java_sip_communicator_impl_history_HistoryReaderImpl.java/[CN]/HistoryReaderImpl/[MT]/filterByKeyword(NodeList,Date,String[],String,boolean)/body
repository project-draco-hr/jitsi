{
  ArrayList nameVals=new ArrayList();
  int len=propertyNodes.getLength();
  for (int j=0; j < len; j++) {
    Node propertyNode=propertyNodes.item(j);
    if (propertyNode.getNodeType() == Node.ELEMENT_NODE) {
      String nodeName=propertyNode.getNodeName();
      Node nestedNode=propertyNode.getFirstChild();
      if (nestedNode == null)       continue;
      String nodeValue=nestedNode.getNodeValue();
      if (field != null && field.equals(nodeName) && !matchKeyword(nodeValue,keywords,caseSensitive)) {
        return null;
      }
      nameVals.add(nodeName);
      nameVals.add(propertyNode.getFirstChild().getNodeValue());
    }
  }
  String[] propertyNames=new String[nameVals.size() / 2];
  String[] propertyValues=new String[propertyNames.length];
  for (int j=0; j < propertyNames.length; j++) {
    propertyNames[j]=(String)nameVals.get(j * 2);
    propertyValues[j]=(String)nameVals.get(j * 2 + 1);
  }
  return new HistoryRecord(propertyNames,propertyValues,timestamp);
}
