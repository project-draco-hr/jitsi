{
  this.supportedOperationSets=supportedOperationSets;
  Iterator entrySetIter=supportedOperationSets.entrySet().iterator();
  for (int i=0; i < supportedOperationSets.size(); i++) {
    Map.Entry entry=(Map.Entry)entrySetIter.next();
    Object key=entry.getKey();
    Object value=entry.getValue();
    if (key.equals(OperationSetPersistentPresence.class.getName())) {
      OperationSetPersistentPresence persistentPresence=(OperationSetPersistentPresence)value;
      this.statusPanel.setPresence(persistentPresence);
      persistentPresence.addProviderPresenceStatusListener(new ProviderPresenceStatusAdapter());
      try {
        persistentPresence.publishPresenceStatus(IcqStatusEnum.ONLINE,"");
        this.statusPanel.setSelectedStatus(Constants.ICQ,Constants.ONLINE_STATUS);
      }
 catch (      IllegalArgumentException e) {
        e.printStackTrace();
      }
catch (      IllegalStateException e) {
        e.printStackTrace();
      }
catch (      OperationFailedException e) {
        e.printStackTrace();
      }
    }
  }
}
