{
  if (GuiActivator.getUIService().getExitOnMainWindowClose())   this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
 else   this.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);
  this.setKeybindingInput(KeybindingSet.Category.MAIN);
  this.addKeybindingAction("plugin.keybindings.MAIN_RENAME",new RenameAction());
  TransparentPanel northPanel=new TransparentPanel(new BorderLayout());
  TransparentPanel centerPanel=new TransparentPanel(new BorderLayout(0,0));
  String isToolbarExtendedString=GuiActivator.getResources().getSettingsString("impl.gui.IS_TOOLBAR_EXTENDED");
  boolean isToolBarExtended=Boolean.parseBoolean(isToolbarExtendedString);
  JPanel menusPanel=new JPanel(new BorderLayout());
  if (isToolBarExtended) {
    menusPanel.add(new ExtendedQuickMenu(this),BorderLayout.SOUTH);
  }
 else {
    JLabel moreActionsLabel=new JLabel(moreActionsIcon);
    moreActionsLabel.setToolTipText(GuiActivator.getResources().getI18NString("service.gui.OPEN_TOOLS"));
    moreActionsLabel.addMouseListener(new ActionMenuMouseListener());
    TransparentPanel moreActionsPanel=new TransparentPanel(new FlowLayout(FlowLayout.CENTER,0,0));
    moreActionsPanel.add(moreActionsLabel);
    centerPanel.add(moreActionsPanel,BorderLayout.NORTH);
  }
  this.setJMenuBar(menu);
  menusPanel.setUI(new SIPCommOpaquePanelUI());
  northPanel.add(menusPanel,BorderLayout.CENTER);
  northPanel.add(accountStatusPanel,BorderLayout.SOUTH);
  centerPanel.add(contactListPanel,BorderLayout.CENTER);
  centerPanel.add(mainCallPanel,BorderLayout.SOUTH);
  this.mainPanel.add(northPanel,BorderLayout.NORTH);
  this.mainPanel.add(centerPanel,BorderLayout.CENTER);
  java.awt.Container contentPane=getContentPane();
  contentPane.add(mainPanel,BorderLayout.CENTER);
  contentPane.add(statusBarPanel,BorderLayout.SOUTH);
}
