{
  if (this.toneTransmissionState == ToneTransmissionState.IDLE || currentTone == null) {
    return pkt;
  }
  byte currentDtmfPayload=mediaStream.getDynamicRTPPayloadType(Constants.TELEPHONE_EVENT);
  if (currentDtmfPayload == -1)   throw new IllegalStateException("Can't send DTMF when no payload " + "type has been negotiated for DTMF events.");
  DtmfRawPacket dtmfPkt=new DtmfRawPacket(pkt.getBuffer(),pkt.getOffset(),currentDtmfPayload);
  long audioPacketTimestamp=dtmfPkt.getTimestamp();
  boolean pktEnd=false;
  boolean pktMarker=false;
  int pktDuration=0;
  return pkt;
}
