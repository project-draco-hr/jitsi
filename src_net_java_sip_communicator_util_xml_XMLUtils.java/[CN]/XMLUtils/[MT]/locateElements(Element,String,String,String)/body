{
  List<Element> result=new ArrayList<Element>();
  NodeList nodes=root.getChildNodes();
  Node node;
  int len=nodes.getLength();
  for (int i=0; i < len; i++) {
    node=nodes.item(i);
    if (node.getNodeType() != Node.ELEMENT_NODE)     continue;
    if (node.getNodeName().equals(tagName)) {
      Element element=(Element)node;
      String attr=element.getAttribute(keyAttributeName);
      if (attr != null && attr.equals(keyAttributeValue))       result.add(element);
    }
    List<Element> childs=locateElements((Element)node,tagName,keyAttributeName,keyAttributeValue);
    if (childs != null)     result.addAll(childs);
  }
  return result;
}
