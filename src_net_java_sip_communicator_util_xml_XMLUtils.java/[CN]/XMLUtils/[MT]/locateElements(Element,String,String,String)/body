{
  ArrayList result=new ArrayList();
  NodeList nodes=root.getChildNodes();
  Node node;
  int len=nodes.getLength();
  for (int i=0; i < len; i++) {
    node=nodes.item(i);
    if (node.getNodeType() != Node.ELEMENT_NODE)     continue;
    if (node.getNodeName().equals(tagName)) {
      String attr=((Element)node).getAttribute(keyAttributeName);
      if (attr != null && attr.equals(keyAttributeValue))       result.add(node);
    }
    List childs=locateElements((Element)node,tagName,keyAttributeName,keyAttributeValue);
    if (childs != null)     result.addAll(childs);
  }
  return result;
}
