{
  Thread shutdownTimeoutThread=new Thread(){
    public void run(){
synchronized (this) {
        try {
          logger.trace("Starting shutdown countdown of " + SHUTDOWN_TIMEOUT + "ms.");
          wait(SHUTDOWN_TIMEOUT);
          logger.error("Failed to gently shutdown. Forcing exit.");
          System.exit(500);
        }
 catch (        InterruptedException ex) {
          logger.debug("Interrupted shutdown timer.");
        }
      }
    }
  }
;
  logger.trace("Created the shutdown timer thread.");
  shutdownTimeoutThread.setDaemon(true);
  shutdownTimeoutThread.start();
}
