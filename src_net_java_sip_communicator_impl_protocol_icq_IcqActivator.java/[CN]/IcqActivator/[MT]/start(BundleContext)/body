{
  this.bundleContext=context;
  Hashtable icqHashtable=new Hashtable();
  icqHashtable.put(ProtocolProviderFactory.PROTOCOL,ProtocolNames.ICQ);
  Hashtable aimHashtable=new Hashtable();
  aimHashtable.put(ProtocolProviderFactory.PROTOCOL,ProtocolNames.AIM);
  icqProviderFactory=new ProtocolProviderFactoryIcqImpl(false);
  aimProviderFactory=new ProtocolProviderFactoryIcqImpl(true);
  icqProviderFactory.loadStoredAccounts();
  aimProviderFactory.loadStoredAccounts();
  icqPpFactoryServReg=context.registerService(ProtocolProviderFactory.class.getName(),icqProviderFactory,icqHashtable);
  aimPpFactoryServReg=context.registerService(ProtocolProviderFactory.class.getName(),aimProviderFactory,aimHashtable);
}
