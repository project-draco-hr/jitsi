{
  this.chatSession=chatSession;
  byte[] chatAvatar=chatSession.getChatAvatar();
  ImageIcon contactPhotoIcon;
  if (chatAvatar != null) {
    contactPhotoIcon=ImageUtils.getScaledRoundedImage(chatAvatar,ChatContact.AVATAR_ICON_WIDTH,ChatContact.AVATAR_ICON_HEIGHT);
    this.tooltipIcon=new ImageIcon(chatAvatar);
  }
 else {
    contactPhotoIcon=ImageUtils.getScaledRoundedImage(ImageLoader.getImage(ImageLoader.DEFAULT_USER_PHOTO),ChatContact.AVATAR_ICON_WIDTH,ChatContact.AVATAR_ICON_HEIGHT);
    this.tooltipIcon=null;
  }
  this.photoLabel.setIcon(contactPhotoIcon);
  this.setToolTipText("");
  if (!chatSession.isDescriptorPersistent())   this.add(addContactButton,0);
 else   this.remove(addContactButton);
  this.revalidate();
  this.repaint();
}
