{
  logger.debug("Set current chat panel to: " + chatPanel.getChatSession().getChatName());
  if (getChatTabCount() > 0)   this.chatTabbedPane.setSelectedComponent(chatPanel);
  this.setTitle(chatPanel.getChatSession().getChatName());
  this.setChatContactPhoto(chatPanel.getChatSession());
  ChatTransport inviteChatTransport=chatPanel.findInviteChatTransport();
  mainToolBar.enableInviteButton(inviteChatTransport != null);
  ChatTransport sendFileTransport=chatPanel.findFileTransferChatTransport();
  mainToolBar.enableSendFileButton(sendFileTransport != null);
  mainToolBar.changeHistoryButtonsState(chatPanel);
  chatPanel.requestFocusInWriteArea();
  for (  ChatChangeListener l : this.chatChangeListeners) {
    l.chatChanged(chatPanel);
  }
}
