{
  ChatSession chatSession=chatPanel.getChatSession();
  logger.debug("Set current chat panel to: " + chatSession.getChatName());
  if (getChatTabCount() > 0)   this.chatTabbedPane.setSelectedComponent(chatPanel);
  this.setTitle(chatSession.getChatName());
  this.setChatContactPhoto(chatSession);
  mainToolBar.enableInviteButton(chatPanel.findInviteChatTransport() != null);
  mainToolBar.enableSendFileButton(chatPanel.findFileTransferChatTransport() != null);
  mainToolBar.changeHistoryButtonsState(chatPanel);
  chatPanel.requestFocusInWriteArea();
  for (  ChatChangeListener l : this.chatChangeListeners) {
    l.chatChanged(chatPanel);
  }
}
