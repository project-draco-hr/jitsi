{
  if (getExtendedState() != JFrame.ICONIFIED) {
    if (ConfigurationManager.isAutoPopupNewMessage() || setSelected)     toFront();
  }
 else {
    if (setSelected) {
      setExtendedState(JFrame.NORMAL);
      toFront();
    }
    String chatWindowTitle=getTitle();
    if (!chatWindowTitle.startsWith("*"))     setTitle("*" + chatWindowTitle);
  }
  if (setSelected) {
    setCurrentChat(chatPanel);
  }
 else   if (!getCurrentChat().equals(chatPanel) && getChatTabCount() > 0) {
    highlightTab(chatPanel);
  }
}
