{
  String chatName=chatPanel.getChatSession().getChatName();
  ChatPanel currentChatPanel=getCurrentChatPanel();
  if (currentChatPanel == null) {
    this.mainPanel.add(chatPanel,BorderLayout.CENTER);
  }
 else {
    if (getChatTabCount() == 0) {
      ChatPanel firstChatPanel=currentChatPanel;
      ChatSession chatSession=firstChatPanel.getChatSession();
      chatTabbedPane.addTab(chatSession.getChatName(),chatSession.getChatStatusIcon(),firstChatPanel);
      chatTabbedPane.addTab(chatName,chatSession.getChatStatusIcon(),chatPanel);
      chatTabbedPane.setSelectedComponent(firstChatPanel);
      firstChatPanel.setCaretToEnd();
      this.mainPanel.add(chatTabbedPane,BorderLayout.CENTER);
      this.mainPanel.validate();
    }
 else {
      chatTabbedPane.addTab(chatName,chatPanel.getChatSession().getChatStatusIcon(),chatPanel);
      chatTabbedPane.getParent().validate();
    }
  }
}
