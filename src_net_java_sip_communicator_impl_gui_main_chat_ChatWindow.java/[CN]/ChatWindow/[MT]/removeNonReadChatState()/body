{
  final ChatPanel currentChatPanel=this.getCurrentChatPanel();
  if (currentChatPanel == null)   return;
  ChatSession chatSession=currentChatPanel.getChatSession();
  if (chatSession instanceof MetaContactChatSession) {
    MetaContact selectedMetaContact=(MetaContact)chatSession.getDescriptor();
    ContactList clist=GuiActivator.getUIService().getMainFrame().getContactListPanel().getContactList();
    if (clist.isMetaContactActive(selectedMetaContact)) {
      clist.removeActiveContact(selectedMetaContact);
    }
    this.getCurrentChatPanel().fireChatFocusEvent(ChatFocusEvent.FOCUS_GAINED);
  }
}
