{
  ArrayList<ChatPanel> chatPanels=new ArrayList<ChatPanel>();
  if (getChatTabCount() > 0) {
    int componentCount=chatTabbedPane.getComponentCount();
    for (int i=0; i < componentCount; i++) {
      Component c=chatTabbedPane.getComponent(i);
      if (c instanceof ChatPanel) {
        chatPanels.add((ChatPanel)c);
      }
    }
  }
 else {
    int componentCount=mainPanel.getComponentCount();
    for (int i=0; i < componentCount; i++) {
      Component c=mainPanel.getComponent(i);
      if (c instanceof ChatPanel) {
        chatPanels.add((ChatPanel)c);
      }
    }
  }
  return chatPanels;
}
