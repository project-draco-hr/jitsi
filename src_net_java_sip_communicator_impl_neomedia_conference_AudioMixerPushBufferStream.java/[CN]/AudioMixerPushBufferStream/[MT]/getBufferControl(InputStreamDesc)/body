{
  InputDataSourceDesc inputDataSourceDesc=inputStreamDesc.inputDataSourceDesc;
  DataSource effectiveInputDataSource=inputDataSourceDesc.getEffectiveInputDataSource();
  String bufferControlType=BufferControl.class.getName();
  if (effectiveInputDataSource != null) {
    BufferControl bufferControl=(BufferControl)effectiveInputDataSource.getControl(bufferControlType);
    if (bufferControl != null)     return bufferControl;
  }
  DataSource inputDataSource=inputDataSourceDesc.inputDataSource;
  if ((inputDataSource != null) && (inputDataSource != effectiveInputDataSource)) {
    BufferControl bufferControl=(BufferControl)inputDataSource.getControl(bufferControlType);
    if (bufferControl != null)     return bufferControl;
  }
  return (BufferControl)inputStreamDesc.getInputStream().getControl(bufferControlType);
}
