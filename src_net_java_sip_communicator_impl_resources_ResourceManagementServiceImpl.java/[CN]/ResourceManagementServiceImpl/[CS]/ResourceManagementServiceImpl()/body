{
  ResourceManagementActivator.bundleContext.addServiceListener(this);
  colorPack=getDefaultResourcePack(ColorPack.class.getName(),ColorPack.RESOURCE_NAME_DEFAULT_VALUE);
  if (colorPack != null)   colorResources=getResources(colorPack);
  imagePack=getDefaultResourcePack(ImagePack.class.getName(),ImagePack.RESOURCE_NAME_DEFAULT_VALUE);
  if (imagePack != null)   imageResources=getResources(imagePack);
  String defaultLocale=(String)ResourceManagementActivator.getConfigurationService().getProperty(DEFAULT_LOCALE_CONFIG);
  if (defaultLocale != null)   Locale.setDefault(ResourceManagementServiceUtils.getLocale(defaultLocale));
  languagePack=(LanguagePack)getDefaultResourcePack(LanguagePack.class.getName(),LanguagePack.RESOURCE_NAME_DEFAULT_VALUE);
  if (languagePack != null) {
    languageLocale=Locale.getDefault();
    languageResources=languagePack.getResources(languageLocale);
  }
  settingsPack=getDefaultResourcePack(SettingsPack.class.getName(),SettingsPack.RESOURCE_NAME_DEFAULT_VALUE);
  if (settingsPack != null)   settingsResources=getResources(settingsPack);
  soundPack=getDefaultResourcePack(SoundPack.class.getName(),SoundPack.RESOURCE_NAME_DEFAULT_VALUE);
  if (soundPack != null)   soundResources=getResources(soundPack);
  skinPack=(SkinPack)getDefaultResourcePack(SkinPack.class.getName(),SkinPack.RESOURCE_NAME_DEFAULT_VALUE);
  if (skinPack != null) {
    skinResources=getResources(skinPack);
    if (imageResources != null)     imageResources.putAll(skinPack.getImageResources());
    colorResources.putAll(skinPack.getColorResources());
    settingsResources.putAll(skinPack.getSettingsResources());
  }
  UIService serv=getUIService();
  if (serv != null) {
    serv.repaintUI();
  }
}
