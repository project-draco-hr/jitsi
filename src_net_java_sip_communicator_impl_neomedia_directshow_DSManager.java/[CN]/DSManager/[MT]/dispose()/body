{
synchronized (sync) {
    ref--;
    if (ref == 0 && instance != null && instance.ptr != 0) {
      destroy(instance.ptr);
    }
    instance=null;
    ref=0;
  }
}
