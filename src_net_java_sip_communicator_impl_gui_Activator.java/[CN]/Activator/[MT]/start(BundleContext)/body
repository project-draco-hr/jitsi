{
  try {
    logger.logEntry();
    this.uiService=new UIServiceImpl();
    ServiceReference clistReference=bundleContext.getServiceReference(MetaContactListService.class.getName());
    MetaContactListService contactListService=(MetaContactListService)bundleContext.getService(clistReference);
    ServiceReference[] serRefs=null;
    String osgiFilter="(" + AccountManager.PROTOCOL_PROPERTY_NAME + "="+ ProtocolNames.ICQ+ ")";
    serRefs=bundleContext.getServiceReferences(AccountManager.class.getName(),osgiFilter);
    icqAccountManager=(AccountManager)bundleContext.getService(serRefs[0]);
    Hashtable icqAccountProperties=new Hashtable();
    icqAccountProperties.put(AccountProperties.PASSWORD,"parolata");
    icqAccountID=icqAccountManager.installAccount(bundleContext,"85450845",icqAccountProperties);
    osgiFilter="(&(" + AccountManager.PROTOCOL_PROPERTY_NAME + "="+ ProtocolNames.ICQ+ ")"+ "("+ AccountManager.ACCOUNT_ID_PROPERTY_NAME+ "="+ icqAccountID.getAccountID()+ "))";
    serRefs=bundleContext.getServiceReferences(ProtocolProviderService.class.getName(),osgiFilter);
    Object icqProtocolProvider=bundleContext.getService(serRefs[0]);
    logger.info("UI Service...[  STARTED ]");
    bundleContext.registerService(UIService.class.getName(),this.uiService,null);
    logger.info("UI Service ...[REGISTERED]");
    communicatorMain.setContactList(contactListService);
    communicatorMain.show();
  }
  finally {
    logger.logExit();
  }
}
