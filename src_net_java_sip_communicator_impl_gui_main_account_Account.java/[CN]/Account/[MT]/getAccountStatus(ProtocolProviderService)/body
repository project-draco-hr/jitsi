{
  String status;
  OperationSetPresence presence=(OperationSetPresence)protocolProvider.getOperationSet(OperationSetPresence.class);
  if (presence != null) {
    status=presence.getPresenceStatus().getStatusName();
  }
 else {
    if (protocolProvider.isRegistered()) {
      status=GuiActivator.getResources().getI18NString("service.gui.ONLINE");
    }
 else {
      status=GuiActivator.getResources().getI18NString("service.gui.OFFLINE");
    }
  }
  return status;
}
