{
  Iterator<Contact> childContacts=parent.contacts();
  while (childContacts.hasNext()) {
    ContactFacebookImpl contact=(ContactFacebookImpl)childContacts.next();
    if (findProviderForFacebookUserID(contact.getAddress()) != null) {
      continue;
    }
    contact.setPresenceStatus(newStatus);
  }
  Iterator<ContactGroup> subgroups=parent.subgroups();
  while (subgroups.hasNext()) {
    ContactGroup subgroup=subgroups.next();
    changePresenceStatusForAllContactsWithoutFiringEvent(subgroup,newStatus);
  }
}
