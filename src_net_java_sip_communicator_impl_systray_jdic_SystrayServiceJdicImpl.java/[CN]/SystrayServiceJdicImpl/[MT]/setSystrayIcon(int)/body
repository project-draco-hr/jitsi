{
  if (!checkInitialized())   return;
  String osName=System.getProperty("os.name");
  if (imageType == SystrayService.SC_IMG_TYPE) {
    if (osName.startsWith("Mac OS X") && this.menu.isVisible()) {
      this.trayIcon.setIcon(logoIconWhite);
      this.currentIcon=logoIconWhite;
    }
 else {
      this.trayIcon.setIcon(logoIcon);
      this.currentIcon=logoIcon;
    }
  }
 else   if (imageType == SystrayService.SC_IMG_OFFLINE_TYPE) {
    if (!osName.startsWith("Mac OS X")) {
      this.trayIcon.setIcon(logoIconOffline);
      this.currentIcon=logoIconOffline;
    }
  }
 else   if (imageType == SystrayService.SC_IMG_AWAY_TYPE) {
    if (!osName.startsWith("Mac OS X")) {
      this.trayIcon.setIcon(logoIconAway);
      this.currentIcon=logoIconAway;
    }
  }
 else   if (imageType == SystrayService.SC_IMG_FFC_TYPE) {
    if (!osName.startsWith("Mac OS X")) {
      this.trayIcon.setIcon(logoIconFFC);
      this.currentIcon=logoIconFFC;
    }
  }
 else   if (imageType == SystrayService.ENVELOPE_IMG_TYPE) {
    if (osName.startsWith("Mac OS X") && this.menu.isVisible()) {
      this.trayIcon.setIcon(envelopeIconWhite);
      this.currentIcon=envelopeIconWhite;
    }
 else {
      this.trayIcon.setIcon(envelopeIcon);
      this.currentIcon=envelopeIcon;
    }
  }
}
