{
  Object service=SystrayActivator.bundleContext.getService(event.getServiceReference());
  if (!(service instanceof ProtocolProviderService))   return;
  ProtocolProviderService provider=(ProtocolProviderService)service;
  if (event.getType() == ServiceEvent.REGISTERED) {
    protocolProviderTable.put(provider.getAccountID(),provider);
    handleProviderAdded(provider);
  }
  if (event.getType() == ServiceEvent.UNREGISTERING) {
    protocolProviderTable.remove(provider.getAccountID());
    handleProviderRemoved(provider);
  }
}
