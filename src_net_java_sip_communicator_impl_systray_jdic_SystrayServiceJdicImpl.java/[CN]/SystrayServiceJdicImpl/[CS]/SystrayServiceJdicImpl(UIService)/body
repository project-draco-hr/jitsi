{
  this.uiService=service;
  try {
    systray=SystemTray.getDefaultSystemTray();
  }
 catch (  Throwable e) {
    logger.error("Failed to create a systray!",e);
  }
  if (systray != null) {
    this.initSystray();
    this.initProvidersTable();
    uiService.setExitOnMainWindowClose(false);
    SystrayActivator.bundleContext.addServiceListener(this);
  }
}
