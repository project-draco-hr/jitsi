{
  Format newFormat=null;
  VideoFormat tmp=(VideoFormat)format;
  Dimension deviceSize=((VideoMediaFormat)getDevice().getFormat()).getSize();
  if ((deviceSize != null && outputSize != null) && (outputSize.width > 0 && outputSize.height > 0) && (deviceSize.width > outputSize.width || deviceSize.height > outputSize.height)) {
    newFormat=new VideoFormat(tmp.getEncoding(),outputSize,tmp.getMaxDataLength(),tmp.getDataType(),tmp.getFrameRate());
  }
 else {
    outputSize=null;
  }
  super.setProcessorFormat(processor,newFormat != null ? newFormat : format);
}
