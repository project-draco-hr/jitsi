{
  DataSource captureDevice=super.createCaptureDevice();
  if (captureDevice != null) {
    MediaLocator locator=captureDevice.getLocator();
    String protocol=(locator == null) ? null : locator.getProtocol();
    if (ImageStreamingUtils.LOCATOR_PROTOCOL.equals(protocol)) {
      FrameRateControl frameRateControl=(FrameRateControl)captureDevice.getControl(FrameRateControl.class.getName());
      float defaultFrameRate=10;
      if ((frameRateControl != null) && (defaultFrameRate <= frameRateControl.getMaxSupportedFrameRate()))       frameRateControl.setFrameRate(defaultFrameRate);
    }
 else {
      VideoMediaStreamImpl.selectVideoSize(captureDevice,640,480);
    }
    if (!(captureDevice instanceof PullBufferDataSource)) {
      DataSource cloneableDataSource=Manager.createCloneableDataSource(captureDevice);
      if (cloneableDataSource != null)       captureDevice=cloneableDataSource;
    }
  }
  return captureDevice;
}
