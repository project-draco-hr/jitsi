{
  if (controllerEvent instanceof RealizeCompleteEvent) {
    Player player=(Player)controllerEvent.getSourceController();
    Component visualComponent=player.getVisualComponent();
    if (visualComponent != null) {
      if (!fireVideoEvent(VideoEvent.VIDEO_ADDED,visualComponent,VideoEvent.LOCAL)) {
        if (player == localPlayer) {
          localPlayer=null;
        }
        player.stop();
        player.deallocate();
        player.close();
      }
    }
  }
}
