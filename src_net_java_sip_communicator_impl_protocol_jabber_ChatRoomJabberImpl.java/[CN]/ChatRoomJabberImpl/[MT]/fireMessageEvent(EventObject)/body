{
  Iterable<ChatRoomMessageListener> listeners;
synchronized (messageListeners) {
    listeners=new ArrayList<ChatRoomMessageListener>(messageListeners);
  }
  for (  ChatRoomMessageListener listener : listeners) {
    if (evt instanceof ChatRoomMessageDeliveredEvent) {
      listener.messageDelivered((ChatRoomMessageDeliveredEvent)evt);
    }
 else     if (evt instanceof ChatRoomMessageReceivedEvent) {
      listener.messageReceived((ChatRoomMessageReceivedEvent)evt);
    }
 else     if (evt instanceof ChatRoomMessageDeliveryFailedEvent) {
      listener.messageDeliveryFailed((ChatRoomMessageDeliveryFailedEvent)evt);
    }
  }
}
