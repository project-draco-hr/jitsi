{
  this.nickname=nickname;
  try {
    multiUserChat.join(nickname);
    try {
      this.multiUserChatConfigForm=multiUserChat.getConfigurationForm();
    }
 catch (    XMPPException e) {
      logger.error("",e);
    }
    ChatRoomMemberJabberImpl member=new ChatRoomMemberJabberImpl(this,nickname,provider.getAccountID().getAccountAddress(),ChatRoomMemberRole.GUEST);
    members.put(nickname,member);
    opSetMuc.fireLocalUserPresenceEvent(this,LocalUserChatRoomPresenceChangeEvent.LOCAL_USER_JOINED,null);
  }
 catch (  XMPPException ex) {
    logger.error("Failed to join room " + getName() + " with nickname: "+ nickname,ex);
    throw new OperationFailedException("Failed to join room " + getName() + " with nickname: "+ nickname,OperationFailedException.GENERAL_ERROR,ex);
  }
}
