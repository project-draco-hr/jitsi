{
  CallPeerMediaHandler<?> mediaHandler=callPeer.getMediaHandler();
  List<MediaPacketExtension> ret=new ArrayList<MediaPacketExtension>();
  long i=1;
  for (  MediaType mediaType : MediaType.values()) {
    MediaStream stream=mediaHandler.getStream(mediaType);
    if (stream != null) {
      MediaPacketExtension ext=new MediaPacketExtension(Long.toString(i));
      long srcId=remote ? getRemoteSourceID(callPeer,mediaType) : stream.getLocalSourceID();
      if (srcId != -1)       ext.setSrcID(Long.toString(srcId));
      ext.setType(mediaType.toString());
      MediaDirection direction=remote ? getRemoteDirection(callPeer,mediaType) : stream.getDirection();
      if (direction == null)       direction=MediaDirection.INACTIVE;
      ext.setStatus(direction.toString());
      ret.add(ext);
      i++;
    }
  }
  return ret;
}
