{
  UserPacketExtension ext=new UserPacketExtension(callPeer.getAddress());
  EndpointPacketExtension endpoint=null;
  List<MediaPacketExtension> medias=null;
  ext.setDisplayText(callPeer.getDisplayName());
  EndpointStatusType status=getEndpointStatus(callPeer);
  endpoint=new EndpointPacketExtension(callPeer.getURI());
  endpoint.setStatus(status);
  medias=getMedia(callPeer,true);
  if (medias != null) {
    for (    MediaPacketExtension media : medias) {
      endpoint.addChildExtension(media);
    }
  }
  ext.addChildExtension(endpoint);
  return ext;
}
