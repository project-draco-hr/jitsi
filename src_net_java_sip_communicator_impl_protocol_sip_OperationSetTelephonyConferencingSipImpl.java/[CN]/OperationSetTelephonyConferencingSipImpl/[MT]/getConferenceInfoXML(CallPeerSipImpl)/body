{
  ConferenceInfoDocument currentConfInfo=getCurrentConferenceInfo(callPeer);
  ConferenceInfoDocument lastSentConfInfo=callPeer.getLastConferenceInfoSent();
  ConferenceInfoDocument diff=getConferenceInfoDiff(lastSentConfInfo,currentConfInfo);
  if (diff == null)   return null;
 else {
    int newVersion=lastSentConfInfo == null ? 1 : lastSentConfInfo.getVersion() + 1;
    diff.setVersion(newVersion);
    currentConfInfo.setVersion(newVersion);
    callPeer.setLastConferenceInfoSent(currentConfInfo);
    callPeer.setLastConferenceInfoSentTimestamp(System.currentTimeMillis());
    return diff.toString();
  }
}
