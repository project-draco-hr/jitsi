{
  byte[] bytes;
  try {
    bytes=conferenceInfoXML.getBytes("UTF-8");
  }
 catch (  UnsupportedEncodingException uee) {
    logger.warn("Failed to gets bytes from String for the UTF-8 charset",uee);
    bytes=conferenceInfoXML.getBytes();
  }
  Document document=null;
  Throwable exception=null;
  try {
    document=DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new ByteArrayInputStream(bytes));
  }
 catch (  IOException ioe) {
    exception=ioe;
  }
catch (  ParserConfigurationException pce) {
    exception=pce;
  }
catch (  SAXException saxe) {
    exception=saxe;
  }
  if (exception != null)   logger.error("Failed to parse conference-info XML",exception);
 else {
    callPeer.setConferenceFocus(true);
    int documentVersion=Integer.parseInt(document.getDocumentElement().getAttribute("version"));
    if (documentVersion >= version) {
      setConferenceInfoDocument(callPeer,document);
      return documentVersion;
    }
  }
  return -1;
}
