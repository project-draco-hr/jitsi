{
  ServiceReference serRef=getProviderForAccount(accountID);
  if (serRef == null)   return false;
  ProtocolProviderService protocolProvider=(ProtocolProviderService)SipActivator.getBundleContext().getService(serRef);
  try {
    protocolProvider.unregister();
  }
 catch (  OperationFailedException e) {
    logger.error("Failed to unregister protocol provider for account : " + accountID + " caused by : "+ e);
  }
  ServiceRegistration registration=(ServiceRegistration)registeredAccounts.remove(accountID);
  if (registration == null)   return false;
  registration.unregister();
  return removeStoredAccount(SipActivator.getBundleContext(),accountID);
}
