{
  JButton sourceButton=(JButton)e.getSource();
  if (sourceButton.equals(installButton)) {
    if (bundlePathField.getText().length() > 0) {
      try {
        PluginManagerActivator.bundleContext.installBundle(bundlePathField.getText(),null);
      }
 catch (      BundleException ex) {
        ex.printStackTrace();
        PluginManagerActivator.getUIService().getPopupDialog().showMessagePopupDialog(ex.getMessage(),"Error",PopupDialog.ERROR_MESSAGE);
      }
 finally {
        dispose();
      }
    }
  }
 else   if (sourceButton.equals(fileChooserButton)) {
    JFileChooser fileChooser=new JFileChooser();
    int result=fileChooser.showOpenDialog(NewBundleDialog.this);
    if (result == JFileChooser.APPROVE_OPTION) {
      try {
        File newBundleFile=fileChooser.getSelectedFile();
        bundlePathField.setText(newBundleFile.toURI().toURL().toString());
      }
 catch (      MalformedURLException ex) {
        ex.printStackTrace();
      }
    }
  }
 else   dispose();
}
