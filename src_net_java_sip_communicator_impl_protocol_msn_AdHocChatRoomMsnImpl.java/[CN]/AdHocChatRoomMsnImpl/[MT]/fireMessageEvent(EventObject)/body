{
  Iterator<AdHocChatRoomMessageListener> listeners=null;
synchronized (messageListeners) {
    listeners=new ArrayList<AdHocChatRoomMessageListener>(messageListeners).iterator();
  }
  if (!listeners.hasNext()) {
    messageBuffer.add(evt);
  }
  while (listeners.hasNext()) {
    AdHocChatRoomMessageListener listener=(AdHocChatRoomMessageListener)listeners.next();
    if (evt instanceof AdHocChatRoomMessageDeliveredEvent) {
      listener.messageDelivered((AdHocChatRoomMessageDeliveredEvent)evt);
    }
 else     if (evt instanceof AdHocChatRoomMessageReceivedEvent) {
      listener.messageReceived((AdHocChatRoomMessageReceivedEvent)evt);
    }
 else     if (evt instanceof AdHocChatRoomMessageDeliveryFailedEvent) {
      listener.messageDeliveryFailed((AdHocChatRoomMessageDeliveryFailedEvent)evt);
    }
  }
}
