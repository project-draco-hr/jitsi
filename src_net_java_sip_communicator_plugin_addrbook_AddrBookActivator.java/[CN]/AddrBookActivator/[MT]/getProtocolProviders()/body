{
  ServiceReference[] ppsRefs;
  List<ProtocolProviderService> result=new ArrayList<ProtocolProviderService>();
  try {
    ppsRefs=bundleContext.getServiceReferences(ProtocolProviderService.class.getName(),null);
  }
 catch (  InvalidSyntaxException ise) {
    ppsRefs=null;
  }
  if ((ppsRefs == null) || (ppsRefs.length == 0)) {
    return result;
  }
  for (  ServiceReference ppsRef : ppsRefs) {
    ProtocolProviderService pps=(ProtocolProviderService)bundleContext.getService(ppsRef);
    result.add(pps);
  }
  return result;
}
