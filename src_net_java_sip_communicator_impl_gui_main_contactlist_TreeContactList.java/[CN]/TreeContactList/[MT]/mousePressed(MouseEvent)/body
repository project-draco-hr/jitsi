{
  if (!isGroupClickConsumed) {
    for (    MouseListener listener : originalMouseListeners)     listener.mousePressed(e);
  }
  TreePath path=this.getPathForLocation(e.getX(),e.getY());
  if (path == null)   return;
  if (!path.equals(getSelectionPath()) && (e.getModifiers() & InputEvent.BUTTON1_MASK) != 0 || (e.getModifiers() & InputEvent.BUTTON2_MASK) != 0 || (e.getModifiers() & InputEvent.BUTTON3_MASK) != 0 || (e.isControlDown() && !e.isMetaDown())) {
    this.setSelectionPath(path);
  }
  Object lastComponent=path.getLastPathComponent();
  if (!(lastComponent instanceof TreeNode))   return;
  if (lastComponent instanceof ContactNode) {
    ContactNode contactNode=(ContactNode)lastComponent;
    fireContactListEvent(contactNode.getMetaContact(),ContactListEvent.CONTACT_CLICKED,e.getClickCount());
    if ((e.getModifiers() & InputEvent.BUTTON3_MASK) != 0 || (e.isControlDown() && !e.isMetaDown())) {
      rightButtonMenu=new ContactRightButtonMenu(contactNode.getMetaContact(),this);
      openRightButtonMenu(e.getPoint());
    }
  }
 else   if (lastComponent instanceof GroupNode) {
    GroupNode groupNode=(GroupNode)lastComponent;
    fireContactListEvent(groupNode.getMetaContactGroup(),ContactListEvent.GROUP_CLICKED,e.getClickCount());
    if ((e.getModifiers() & InputEvent.BUTTON3_MASK) != 0 || (e.isControlDown() && !e.isMetaDown())) {
      rightButtonMenu=new GroupRightButtonMenu(GuiActivator.getUIService().getMainFrame(),groupNode.getMetaContactGroup());
      openRightButtonMenu(e.getPoint());
    }
  }
  dispatchEventToButtons(e);
}
