{
  GroupNode groupNode;
  if (group == null)   groupNode=treeModel.getRoot();
 else {
    groupNode=group.getGroupNode();
    if (groupNode == null)     groupNode=addGroup(treeModel,group,isRefreshView);
  }
  contact.setParentGroup(groupNode.getGroupDescriptor());
  if (isSorted)   groupNode.sortedAddContact(contact,isRefreshView);
 else   groupNode.addContact(contact);
  if ((!currentFilter.equals(presenceFilter) || !groupNode.isCollapsed()) && isRefreshView)   this.expandGroup(treeModel,groupNode);
}
