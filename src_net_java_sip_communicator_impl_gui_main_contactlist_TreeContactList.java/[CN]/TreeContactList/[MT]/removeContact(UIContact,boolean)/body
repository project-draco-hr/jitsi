{
  if (!SwingUtilities.isEventDispatchThread()) {
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        removeContact(contact,removeEmptyGroup);
      }
    }
);
    return;
  }
  if (!(contact instanceof UIContactImpl))   return;
  UIGroupImpl parentGroup=(UIGroupImpl)contact.getParentGroup();
  if (parentGroup == null)   return;
  GroupNode parentGroupNode=parentGroup.getGroupNode();
  if (parentGroupNode == null)   return;
  parentGroupNode.removeContact((UIContactImpl)contact);
  if (removeEmptyGroup && parentGroupNode.getChildCount() == 0) {
    GroupNode parent=(GroupNode)parentGroupNode.getParent();
    if (parent != null) {
      parent.removeContactGroup(parentGroup);
      MetaContactGroup rootGroup=GuiActivator.getContactListService().getRoot();
      UIGroup uiGroup=MetaContactListSource.getUIGroup(rootGroup);
      if (uiGroup != null && treeModel.getRoot().getChildBefore(((UIGroupImpl)uiGroup).getGroupNode()) == null)       removeMetaUIRootGroup();
    }
  }
}
