{
  final SourceContact sourceContact=event.getContact();
  ContactSourceService contactSource=sourceContact.getContactSource();
  UIContactSource sourceUI=getContactSource(contactSource);
  if (sourceUI == null)   return;
  UIContact uiContact=sourceUI.getUIContact(sourceContact);
  if (uiContact == null) {
    uiContact=sourceUI.createUIContact(sourceContact);
    if ((contactSource instanceof ExtendedContactSourceService) || currentFilter.isMatching(uiContact)) {
      addContact(event.getQuerySource(),uiContact,sourceUI.getUIGroup(),(sourceContact.getIndex() > -1));
    }
 else {
      sourceUI.removeUIContact(sourceContact);
    }
    return;
  }
  if (!(uiContact instanceof UIContactImpl))   return;
  ContactNode contactNode;
synchronized (uiContact) {
    contactNode=((UIContactImpl)uiContact).getContactNode();
    if (contactNode == null)     return;
    nodeChanged(contactNode);
  }
  TreeNode parentNode=contactNode.getParent();
  if (parentNode == null)   return;
  int currentIndex=parentNode.getIndex(contactNode);
  if (currentIndex != sourceContact.getIndex()) {
    UIGroupImpl uiGroup=(UIGroupImpl)sourceUI.getUIGroup();
    GroupNode groupNode;
synchronized (uiGroup) {
      groupNode=uiGroup.getGroupNode();
      if (groupNode == null)       return;
    }
    groupNode.sort(treeModel);
  }
}
