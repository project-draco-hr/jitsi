{
  assertConnected();
  if (!(notifiedContact instanceof ContactJabberImpl))   throw new IllegalArgumentException("The specified contact is not a Jabber contact." + notifiedContact);
  String packetID=(String)packetIDsTable.get(notifiedContact.getAddress());
  if (packetID != null) {
    if (typingState == STATE_TYPING)     messageEventManager.sendComposingNotification(notifiedContact.getAddress(),packetID);
 else     if (typingState == STATE_STOPPED) {
      messageEventManager.sendCancelledNotification(notifiedContact.getAddress(),packetID);
      packetIDsTable.remove(notifiedContact.getAddress());
    }
  }
}
