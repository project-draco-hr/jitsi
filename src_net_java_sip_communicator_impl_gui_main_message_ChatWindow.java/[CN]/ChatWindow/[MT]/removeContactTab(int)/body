{
  String title=chatTabbedPane.getTitleAt(index);
  if (title != null) {
    if (chatTabbedPane.getTabCount() > 1)     this.contactTabsTable.remove(title);
    Enumeration contactTabs=this.contactTabsTable.elements();
    while (contactTabs.hasMoreElements()) {
      ChatPanel chatPanel=(ChatPanel)contactTabs.nextElement();
      int tabIndex=chatPanel.getTabIndex();
      if (tabIndex > index) {
        chatPanel.setTabIndex(tabIndex - 1);
      }
    }
    int selectedIndex=chatTabbedPane.getSelectedIndex();
    if (selectedIndex > index) {
      chatTabbedPane.setSelectedIndex(selectedIndex - 1);
    }
    if (chatTabbedPane.getTabCount() > 1)     chatTabbedPane.remove(index);
    if (chatTabbedPane.getTabCount() == 1) {
      String onlyTabtitle=chatTabbedPane.getTitleAt(0);
      this.getContentPane().remove(chatTabbedPane);
      this.chatTabbedPane.removeAll();
      ChatPanel chatPanel=(ChatPanel)this.contactTabsTable.get(onlyTabtitle);
      this.getContentPane().add(chatPanel,BorderLayout.CENTER);
      this.setCurrentChatPanel(chatPanel);
      this.setTitle(onlyTabtitle);
    }
  }
}
