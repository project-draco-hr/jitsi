{
  ChatRightButtonMenu chatRightMenu=currentChatPanel.getChatConversationPanel().getRightButtonMenu();
  WritePanelRightButtonMenu writePanelRightMenu=currentChatPanel.getChatWritePanel().getRightButtonMenu();
  JMenu selectedMenu=menusPanel.getMainMenuBar().getSelectedMenu();
  JMenu contactMenu=currentChatPanel.getChatSendPanel().getContactSelectorBox();
  MenuSelectionManager menuSelectionManager=MenuSelectionManager.defaultManager();
  if (chatRightMenu.isVisible()) {
    chatRightMenu.setVisible(false);
  }
 else   if (writePanelRightMenu.isVisible()) {
    writePanelRightMenu.setVisible(false);
  }
 else   if (selectedMenu != null) {
    menuSelectionManager.clearSelectedPath();
  }
 else   if (contactMenu.isPopupMenuVisible()) {
    menuSelectionManager.clearSelectedPath();
  }
 else   if (menusPanel.getMainToolBar().hasSelectedMenus()) {
    menusPanel.getMainToolBar().closeAllMenus();
  }
 else {
    close(false);
  }
}
