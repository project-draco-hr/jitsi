{
  String contactName=chatPanel.getMetaContact().getDisplayName();
  PresenceStatus status=chatPanel.getDefaultContactStatus();
  if (getCurrentChatPanel() == null) {
    this.getContentPane().add(chatPanel,BorderLayout.CENTER);
  }
 else {
    if (getChatTabCount() == 0) {
      ChatPanel firstChatPanel=getCurrentChatPanel();
      PresenceStatus currentContactStatus=firstChatPanel.getDefaultContactStatus();
      chatTabbedPane.addTab(firstChatPanel.getMetaContact().getDisplayName(),new ImageIcon(Constants.getStatusIcon(currentContactStatus)),firstChatPanel);
      chatTabbedPane.addTab(contactName,new ImageIcon(Constants.getStatusIcon(status)),chatPanel);
      firstChatPanel.setCaretToEnd();
      this.getContentPane().add(chatTabbedPane,BorderLayout.CENTER);
      this.getContentPane().validate();
    }
 else {
      chatTabbedPane.addTab(contactName,new ImageIcon(Constants.getStatusIcon(status)),chatPanel);
      chatTabbedPane.getParent().validate();
    }
  }
}
