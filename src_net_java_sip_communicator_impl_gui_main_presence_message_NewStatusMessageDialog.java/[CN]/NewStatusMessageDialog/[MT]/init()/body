{
  JLabel messageLabel=new JLabel(GuiActivator.getResources().getI18NString("service.gui.NEW_STATUS_MESSAGE"));
  JTextField messageTextField=new JTextField();
  JPanel dataPanel=new TransparentPanel(new BorderLayout(5,5));
  JTextArea infoArea=new JTextArea(GuiActivator.getResources().getI18NString("service.gui.STATUS_MESSAGE_INFO"));
  JLabel infoTitleLabel=new JLabel(GuiActivator.getResources().getI18NString("service.gui.NEW_STATUS_MESSAGE"));
  JPanel labelsPanel=new TransparentPanel(new GridLayout(0,1));
  JButton okButton=new JButton(GuiActivator.getResources().getI18NString("service.gui.OK"));
  JPanel buttonsPanel=new TransparentPanel(new FlowLayout(FlowLayout.RIGHT));
  this.setTitle(GuiActivator.getResources().getI18NString("service.gui.NEW_STATUS_MESSAGE"));
  this.getRootPane().setDefaultButton(okButton);
  this.setPreferredSize(new Dimension(500,200));
  infoArea.setEditable(false);
  infoArea.setLineWrap(true);
  infoArea.setWrapStyleWord(true);
  infoArea.setOpaque(false);
  dataPanel.add(messageLabel,BorderLayout.WEST);
  messageTextField.setText(presenceOpSet.getCurrentStatusMessage());
  dataPanel.add(messageTextField,BorderLayout.CENTER);
  infoTitleLabel.setHorizontalAlignment(JLabel.CENTER);
  infoTitleLabel.setFont(infoTitleLabel.getFont().deriveFont(Font.BOLD,18.0f));
  labelsPanel.add(infoTitleLabel);
  labelsPanel.add(infoArea);
  labelsPanel.add(dataPanel);
  JPanel messagePanel=new TransparentPanel(new GridBagLayout());
  GridBagConstraints messagePanelConstraints=new GridBagConstraints();
  messagePanelConstraints.anchor=GridBagConstraints.NORTHWEST;
  messagePanelConstraints.fill=GridBagConstraints.NONE;
  messagePanelConstraints.gridx=0;
  messagePanelConstraints.gridy=0;
  messagePanelConstraints.insets=new Insets(5,0,5,10);
  messagePanelConstraints.weightx=0;
  messagePanelConstraints.weighty=0;
  messagePanel.add(new ImageCanvas(ImageLoader.getImage(ImageLoader.RENAME_DIALOG_ICON)),messagePanelConstraints);
  messagePanelConstraints.anchor=GridBagConstraints.NORTH;
  messagePanelConstraints.fill=GridBagConstraints.HORIZONTAL;
  messagePanelConstraints.gridx=1;
  messagePanelConstraints.insets=new Insets(0,0,0,0);
  messagePanelConstraints.weightx=1;
  messagePanel.add(labelsPanel,messagePanelConstraints);
  okButton.setName("ok");
  cancelButton.setName("cancel");
  okButton.setMnemonic(GuiActivator.getResources().getI18nMnemonic("service.gui.OK"));
  cancelButton.setMnemonic(GuiActivator.getResources().getI18nMnemonic("service.gui.CANCEL"));
  okButton.addActionListener(this);
  cancelButton.addActionListener(this);
  buttonsPanel.add(okButton);
  buttonsPanel.add(cancelButton);
  JPanel mainPanel=new TransparentPanel(new GridBagLayout());
  mainPanel.setBorder(BorderFactory.createEmptyBorder(5,10,0,10));
  GridBagConstraints mainPanelConstraints=new GridBagConstraints();
  mainPanelConstraints.anchor=GridBagConstraints.NORTH;
  mainPanelConstraints.fill=GridBagConstraints.BOTH;
  mainPanelConstraints.gridx=0;
  mainPanelConstraints.gridy=0;
  mainPanelConstraints.weightx=1;
  mainPanelConstraints.weighty=1;
  mainPanel.add(messagePanel,mainPanelConstraints);
  mainPanelConstraints.anchor=GridBagConstraints.SOUTHEAST;
  mainPanelConstraints.fill=GridBagConstraints.NONE;
  mainPanelConstraints.gridy=1;
  mainPanelConstraints.weightx=0;
  mainPanelConstraints.weighty=0;
  mainPanel.add(buttonsPanel,mainPanelConstraints);
  this.getContentPane().add(mainPanel);
}
