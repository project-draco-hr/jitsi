{
  Call call=callParticipant.getCall();
  if (call != null) {
    OperationSetSecureTelephony telephony=(OperationSetSecureTelephony)call.getProtocolProvider().getOperationSet(OperationSetSecureTelephony.class);
    if (telephony != null) {
      if (!telephony.isSecure(callParticipant)) {
        telephony.setSecure(callParticipant,true,OperationSetSecureTelephony.SecureStatusChangeSource.SECURE_STATUS_CHANGE_BY_LOCAL);
      }
 else {
        telephony.setSecure(callParticipant,false,OperationSetSecureTelephony.SecureStatusChangeSource.SECURE_STATUS_CHANGE_BY_LOCAL);
      }
    }
  }
}
