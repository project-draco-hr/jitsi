{
  String channelID=channel.getID();
  if (channelID == null)   throw new IllegalArgumentException("channel");
  if (cobri == null)   throw new IllegalStateException("cobri");
  CobriConferenceIQ.Content content=cobri.getContent(mediaType.toString());
  if (content == null)   throw new IllegalArgumentException("mediaType");
  if ((content.getChannelCount() < 1) || !channelID.equals((channel=content.getChannel(0)).getID()))   throw new IllegalArgumentException("channel");
  CobriStreamConnector cobriStreamConnector;
synchronized (cobriStreamConnectors) {
    int index=mediaType.ordinal();
    WeakReference<CobriStreamConnector> weakReference=cobriStreamConnectors.get(index);
    cobriStreamConnector=(weakReference == null) ? null : weakReference.get();
    if (cobriStreamConnector == null) {
      StreamConnector streamConnector=factory.createStreamConnector();
      if (streamConnector != null) {
        cobriStreamConnector=new CobriStreamConnector(streamConnector);
        cobriStreamConnectors.set(index,new WeakReference<CobriStreamConnector>(cobriStreamConnector));
      }
    }
  }
  return cobriStreamConnector;
}
