{
  if (this.buddyListRefresher != null)   this.buddyListRefresher.setKeepRunning(false);
  if (this.pollerRefresher != null)   this.pollerRefresher.setKeepRunning(false);
  this.buddyList.clear();
  for (  FacebookSessionListener l : this.listeners)   l.onBuddyListUpdated();
  if (this.loggedIn) {
    this.loggedIn=false;
    for (    FacebookSessionListener l : this.listeners)     l.onFacebookConnectionLost();
    try {
      List<NameValuePair> nvps=new ArrayList<NameValuePair>();
      nvps.add(new BasicNameValuePair("confirm","1"));
      HttpPost post=new HttpPost(LOGOUT_URL);
      post.setEntity(new UrlEncodedFormEntity(nvps,HTTP.UTF_8));
      HttpResponse response=httpClient.execute(post);
      response.getEntity().consumeContent();
      if (response.getStatusLine().getStatusCode() != 200) {
        logger.warn("unable to send logout command");
      }
    }
 catch (    IOException e) {
      logger.warn("IOException during logout",e);
    }
  }
}
