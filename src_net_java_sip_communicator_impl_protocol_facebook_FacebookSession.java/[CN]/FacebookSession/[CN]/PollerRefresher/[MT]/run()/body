{
  Thread t=Thread.currentThread();
  while (keepRunning & this.session.isLoggedIn() & t.isAlive()& !t.isInterrupted()) {
    try {
      this.session.getPoller().poll();
      this.retries=0;
    }
 catch (    BrokenFacebookProtocolException e) {
      try {
        this.session.logout();
      }
 catch (      Exception e1) {
      }
    }
catch (    IOException e) {
      try {
        if (this.retries > 3) {
          this.session.logout();
        }
 else {
          this.retries++;
          Thread.sleep(3000);
        }
      }
 catch (      Exception e1) {
        throw new RuntimeException(e1);
      }
    }
catch (    FacebookErrorException e) {
    }
  }
}
