{
  if (defaultSystemTray != null)   return defaultSystemTray;
  Class<?> awtSystemTrayClass=null;
  try {
    awtSystemTrayClass=Class.forName("java.awt.SystemTray");
  }
 catch (  ClassNotFoundException ex) {
  }
  SystemTrayPeer peer=null;
  if (awtSystemTrayClass != null)   try {
    peer=new AWTSystemTrayPeer(awtSystemTrayClass);
  }
 catch (  Exception ex) {
    if (!GraphicsEnvironment.isHeadless())     logger.error("Failed to initialize java.awt.SystemTray",ex);
  }
  if (peer == null)   try {
    peer=new JdicSystemTrayPeer();
  }
 catch (  Exception ex) {
    logger.error("Failed to initialize the org.jdesktop.jdic.tray implementation.",ex);
  }
  return (defaultSystemTray=new SystemTray(peer));
}
