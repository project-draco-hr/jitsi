{
  AbstractFileTransfer incomingTransfer=null;
  IncomingFileTransfer jabberTransfer=fileTransferRequest.accept();
  try {
    incomingTransfer=new IncomingFileTransferJabberImpl(jabberTransfer);
    fileTransferOpSet.fireFileTransferCreated(incomingTransfer);
    jabberTransfer.recieveFile(file);
    new OperationSetFileTransferJabberImpl.FileTransferProgressThread(jabberTransfer,incomingTransfer,getFileSize()).start();
  }
 catch (  XMPPException e) {
    logger.debug("Receiving file failed.",e);
  }
  return incomingTransfer;
}
