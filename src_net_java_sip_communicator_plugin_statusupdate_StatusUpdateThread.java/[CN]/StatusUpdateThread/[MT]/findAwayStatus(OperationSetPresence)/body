{
  Iterator statusSet=presence.getSupportedStatusSet();
  PresenceStatus status=null;
  while (statusSet.hasNext()) {
    PresenceStatus possibleState=(PresenceStatus)statusSet.next();
    if (possibleState.getStatus() < PresenceStatus.AVAILABLE_THRESHOLD && possibleState.getStatus() >= PresenceStatus.ONLINE_THRESHOLD) {
      if (status == null || (Math.abs(possibleState.getStatus() - AWAY_DEFAULT_STATUS) < Math.abs(status.getStatus() - AWAY_DEFAULT_STATUS))) {
        status=possibleState;
      }
    }
  }
  return status;
}
