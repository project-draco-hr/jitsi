{
  Object oldValue=evt.getOldValue();
  Object newValue=evt.getNewValue();
  String propertyName=evt.getPropertyName();
  if (oldValue != null && newValue != null && oldValue.equals(newValue)) {
    return;
  }
  VetoableChangeListener[] targets=null;
  ChangeEventDispatcher child=null;
synchronized (this) {
    if (vetoableChangeListeners != null) {
      targets=vetoableChangeListeners.toArray(new VetoableChangeListener[vetoableChangeListeners.size()]);
    }
    if (vetoableChangeChildren != null && propertyName != null) {
      child=vetoableChangeChildren.get(propertyName);
    }
  }
  if (vetoableChangeListeners != null) {
    for (int i=0; i < targets.length; i++) {
      VetoableChangeListener target=targets[i];
      target.vetoableChange(evt);
    }
  }
  if (child != null) {
    child.fireVetoableChange(evt);
  }
}
