{
  GoogleTalkAccountRegistration registration=wizard.getRegistration();
  String userID=userIDField.getText();
  if (userID == null || userID.trim().length() == 0)   throw new IllegalStateException("No user ID provided.");
  registration.setUserID(userID);
  registration.setPassword(new String(passField.getPassword()));
  registration.setRememberPassword(rememberPassBox.isSelected());
  registration.setServerAddress(serverField.getText());
  registration.setSendKeepAlive(sendKeepAliveBox.isSelected());
  registration.setResource(resourceField.getText());
  if (portField.getText() != null)   registration.setPort(Integer.parseInt(portField.getText()));
  if (priorityField.getText() != null)   registration.setPriority(Integer.parseInt(priorityField.getText()));
  isCommitted=true;
}
