{
synchronized (mapActions) {
    List<AWTKeyStroke> keystrokes=mapActions.get(listener);
    if (keyStroke == null) {
      return;
    }
    if (keystrokes != null) {
      if (keyboardHook.registerShortcut(keyStroke.getKeyCode(),getModifiers(keyStroke))) {
        if (add)         keystrokes.add(keyStroke);
      }
    }
 else {
      keystrokes=new ArrayList<AWTKeyStroke>();
      if (keyboardHook.registerShortcut(keyStroke.getKeyCode(),getModifiers(keyStroke))) {
        if (add)         keystrokes.add(keyStroke);
      }
    }
    if (add)     mapActions.put(listener,keystrokes);
  }
}
