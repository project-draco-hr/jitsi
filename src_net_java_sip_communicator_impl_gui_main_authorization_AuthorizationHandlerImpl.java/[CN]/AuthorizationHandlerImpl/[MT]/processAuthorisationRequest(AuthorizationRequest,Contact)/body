{
  AuthorizationResponse response=null;
  AuthorizationRequestedDialog dialog=new AuthorizationRequestedDialog(mainFrame,sourceContact,req);
  int result=dialog.showDialog();
  if (result == AuthorizationRequestedDialog.ACCEPT_CODE) {
    response=new AuthorizationResponse(AuthorizationResponse.ACCEPT,null);
    if (dialog.isAddContact()) {
      ContactListUtils.addContact(sourceContact.getProtocolProvider(),dialog.getSelectedMetaContactGroup(),sourceContact.getAddress());
    }
  }
 else   if (result == AuthorizationRequestedDialog.REJECT_CODE) {
    response=new AuthorizationResponse(AuthorizationResponse.REJECT,null);
  }
 else   if (result == AuthorizationRequestedDialog.IGNORE_CODE) {
    response=new AuthorizationResponse(AuthorizationResponse.IGNORE,null);
  }
  return response;
}
