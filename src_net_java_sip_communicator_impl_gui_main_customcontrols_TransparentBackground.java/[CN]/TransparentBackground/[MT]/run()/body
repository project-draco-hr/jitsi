{
  try {
    while (true) {
      Thread.sleep(100);
      long now=System.currentTimeMillis();
      if (this.refreshRequested && ((now - this.lastUpdate) > 1000)) {
        if (this.frame.isVisible()) {
          Point location=this.frame.getLocation();
          this.frame.setLocation(-this.frame.getWidth(),-this.frame.getHeight());
          updateBackground();
          this.frame.setLocation(location);
          refresh();
        }
        this.lastUpdate=now;
        this.refreshRequested=false;
      }
    }
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
}
