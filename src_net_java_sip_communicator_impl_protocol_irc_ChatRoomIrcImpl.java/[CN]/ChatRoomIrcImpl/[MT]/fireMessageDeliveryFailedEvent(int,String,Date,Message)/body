{
  final ChatRoomMessageDeliveryFailedEvent event=new ChatRoomMessageDeliveryFailedEvent(this,null,errorCode,reason,date,message);
  final Iterable<ChatRoomMessageListener> listeners;
synchronized (messageListeners) {
    listeners=new ArrayList<ChatRoomMessageListener>(messageListeners);
  }
  for (  final ChatRoomMessageListener listener : listeners) {
    listener.messageDeliveryFailed(event);
  }
}
