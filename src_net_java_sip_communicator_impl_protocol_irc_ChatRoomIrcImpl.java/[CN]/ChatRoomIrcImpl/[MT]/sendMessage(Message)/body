{
  assertConnected();
  String[] splitMessages=message.getContent().split("\n");
  String messagePortion=null;
  for (int i=0; i < splitMessages.length; i++) {
    messagePortion=splitMessages[i];
    if (messagePortion.equals("\n") || messagePortion.matches("[\\ ]*")) {
      continue;
    }
    final IrcConnection connection=this.parentProvider.getIrcStack().getConnection();
    if (((MessageIrcImpl)message).isCommand()) {
      connection.command(this,messagePortion);
    }
 else {
      connection.message(this,messagePortion);
    }
    this.fireMessageDeliveredEvent(new MessageIrcImpl(messagePortion,message.getContentType(),message.getEncoding(),message.getSubject()));
  }
}
