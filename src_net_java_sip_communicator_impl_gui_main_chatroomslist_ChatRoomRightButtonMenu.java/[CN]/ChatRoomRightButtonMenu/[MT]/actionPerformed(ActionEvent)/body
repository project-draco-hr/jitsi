{
  JMenuItem menuItem=(JMenuItem)e.getSource();
  String itemName=menuItem.getName();
  final ChatRoom chatRoom=chatRoomWrapper.getChatRoom();
  if (itemName.equals("removeChatRoom")) {
    ChatWindowManager chatWindowManager=mainFrame.getChatWindowManager();
    ConferenceChatPanel chatPanel=chatWindowManager.getMultiChat(chatRoomWrapper);
    chatWindowManager.closeChat(chatPanel);
    mainFrame.getChatRoomsListPanel().getChatRoomsList().removeChatRoom(chatRoomWrapper);
    if (chatRoom == null)     return;
    new Thread(){
      public void run(){
        chatRoom.leave();
      }
    }
.start();
  }
 else   if (itemName.equals("leaveChatRoom")) {
    if (chatRoom == null) {
      new ErrorDialog(mainFrame,Messages.getI18NString("haveToBeConnectedToLeave").getText(),Messages.getI18NString("warning").getText()).showDialog();
      return;
    }
    new Thread(){
      public void run(){
        mainFrame.getMultiUserChatManager().leaveChatRoom(chatRoom);
      }
    }
.start();
  }
 else   if (itemName.equals("joinChatRoom")) {
    if (chatRoom == null) {
      new ErrorDialog(mainFrame,Messages.getI18NString("haveToBeConnectedToJoin").getText(),Messages.getI18NString("warning").getText()).showDialog();
      return;
    }
    new Thread(){
      public void run(){
        mainFrame.getMultiUserChatManager().joinChatRoom(chatRoom);
      }
    }
.start();
  }
 else   if (itemName.equals("joinAsChatRoom")) {
    if (chatRoom == null) {
      new ErrorDialog(mainFrame,Messages.getI18NString("haveToBeConnectedToJoin").getText(),Messages.getI18NString("warning").getText()).showDialog();
      return;
    }
    ChatRoomAuthenticationWindow authWindow=new ChatRoomAuthenticationWindow(mainFrame,chatRoom);
    authWindow.setVisible(true);
  }
}
