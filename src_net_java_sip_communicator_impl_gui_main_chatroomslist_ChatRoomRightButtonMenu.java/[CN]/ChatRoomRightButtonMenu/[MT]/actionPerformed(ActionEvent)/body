{
  JMenuItem menuItem=(JMenuItem)e.getSource();
  String itemName=menuItem.getName();
  ConferenceChatManager conferenceManager=GuiActivator.getUIService().getConferenceChatManager();
  if (itemName.equals("removeChatRoom")) {
    conferenceManager.removeChatRoom(chatRoomWrapper);
  }
 else   if (itemName.equals("leaveChatRoom")) {
    conferenceManager.leaveChatRoom(chatRoomWrapper);
  }
 else   if (itemName.equals("joinChatRoom")) {
    String nickName=null;
    nickName=ConfigurationUtils.getChatRoomProperty(chatRoomWrapper.getParentProvider().getProtocolProvider(),chatRoomWrapper.getChatRoomID(),"userNickName");
    if (nickName == null)     nickName=chatRoomWrapper.getNickname();
    if (nickName != null)     conferenceManager.joinChatRoom(chatRoomWrapper,nickName,null);
  }
 else   if (itemName.equals("openChatRoom")) {
    if (chatRoomWrapper.getChatRoom() == null) {
      chatRoomWrapper=GuiActivator.getUIService().getConferenceChatManager().createChatRoom(chatRoomWrapper.getChatRoomName(),chatRoomWrapper.getParentProvider().getProtocolProvider(),new ArrayList<String>(),"",false,true);
    }
    if (!chatRoomWrapper.getChatRoom().isJoined()) {
      String nickName=null;
      nickName=ConfigurationUtils.getChatRoomProperty(chatRoomWrapper.getParentProvider().getProtocolProvider(),chatRoomWrapper.getChatRoomID(),"userNickName");
      if (nickName == null)       nickName=chatRoomWrapper.getNickname();
      if (nickName != null)       conferenceManager.joinChatRoom(chatRoomWrapper,nickName,null);
 else       return;
    }
    ChatWindowManager chatWindowManager=GuiActivator.getUIService().getChatWindowManager();
    ChatPanel chatPanel=chatWindowManager.getMultiChat(chatRoomWrapper,true);
    chatWindowManager.openChat(chatPanel,true);
  }
 else   if (itemName.equals("joinAsChatRoom")) {
    String nickName=chatRoomWrapper.getNickname();
    if (nickName == null)     return;
    GuiActivator.getUIService().getConferenceChatManager().joinChatRoom(chatRoomWrapper,nickName,null);
  }
 else   if (itemName.equals("nickNameChatRoom")) {
    chatRoomWrapper.getNickname();
  }
}
