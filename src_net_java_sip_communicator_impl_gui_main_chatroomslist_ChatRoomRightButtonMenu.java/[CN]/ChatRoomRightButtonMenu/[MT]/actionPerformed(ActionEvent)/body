{
  JMenuItem menuItem=(JMenuItem)e.getSource();
  String itemName=menuItem.getName();
  ConferenceChatManager conferenceManager=GuiActivator.getUIService().getConferenceChatManager();
  if (itemName.equals("removeChatRoom")) {
    conferenceManager.removeChatRoom(chatRoomWrapper);
  }
 else   if (itemName.equals("leaveChatRoom")) {
    conferenceManager.leaveChatRoom(chatRoomWrapper);
  }
 else   if (itemName.equals("joinChatRoom")) {
    String nickName=getNickname();
    if (nickName != null)     conferenceManager.joinChatRoom(chatRoomWrapper,nickName,null);
 else     conferenceManager.joinChatRoom(chatRoomWrapper);
  }
 else   if (itemName.equals("openChatRoom")) {
    if (chatRoomWrapper.getChatRoom() != null) {
      if (!chatRoomWrapper.getChatRoom().isJoined()) {
        String nickName=getNickname();
        if (nickName != null)         conferenceManager.joinChatRoom(chatRoomWrapper,nickName,null);
 else         conferenceManager.joinChatRoom(chatRoomWrapper);
      }
    }
 else {
      chatRoomWrapper=GuiActivator.getUIService().getConferenceChatManager().createChatRoom(chatRoomWrapper.getChatRoomName(),chatRoomWrapper.getParentProvider().getProtocolProvider(),new ArrayList<String>(),"",false,true);
      String nickName=getNickname();
      if (nickName != null)       conferenceManager.joinChatRoom(chatRoomWrapper,nickName,null);
 else       conferenceManager.joinChatRoom(chatRoomWrapper);
    }
    ChatWindowManager chatWindowManager=GuiActivator.getUIService().getChatWindowManager();
    ChatPanel chatPanel=chatWindowManager.getMultiChat(chatRoomWrapper,true);
    chatWindowManager.openChat(chatPanel,true);
  }
 else   if (itemName.equals("joinAsChatRoom")) {
    ChatRoomAuthenticationWindow authWindow=new ChatRoomAuthenticationWindow(chatRoomWrapper);
    authWindow.setVisible(true);
  }
}
