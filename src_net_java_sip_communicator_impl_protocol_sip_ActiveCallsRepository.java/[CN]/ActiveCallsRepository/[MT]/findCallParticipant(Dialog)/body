{
  if (dialog == null) {
    logger.debug("Cannot find a participant with a null dialog. " + "Returning null");
    return null;
  }
  if (logger.isTraceEnabled()) {
    logger.trace("Looking for participant with dialog: " + dialog + " among "+ this.activeCalls.size()+ " calls");
  }
  for (Iterator<CallSipImpl> activeCalls=getActiveCalls(); activeCalls.hasNext(); ) {
    CallSipImpl call=activeCalls.next();
    CallPeerSipImpl callParticipant=call.findCallParticipant(dialog);
    if (callParticipant != null) {
      logger.trace("Returning participant " + callParticipant);
      return callParticipant;
    }
  }
  return null;
}
