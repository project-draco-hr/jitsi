{
  String ttle=title;
  if (title.length() > 50)   ttle=title.substring(0,47) + "...";
  JLabel msgTitle=new JLabel("<html>" + ttle);
  msgTitle.setForeground(Color.DARK_GRAY);
  String msg=message;
  if (message.length() > 90)   msg=message.substring(0,87) + "...";
  JLabel msgContent=new JLabel("<html><b>" + msg);
  JPanel notificationBody=new JPanel(new BorderLayout());
  notificationBody.setOpaque(false);
  notificationBody.add(msgTitle,BorderLayout.NORTH);
  notificationBody.add(msgContent,BorderLayout.CENTER);
  JLabel msgIcon=new JLabel(defaultIcon);
  if (tag instanceof Contact) {
    byte[] b=((Contact)tag).getImage();
    if (b != null)     msgIcon=new JLabel(new ImageIcon(b));
  }
 else   if (tag instanceof ImageIcon) {
    msgIcon=new JLabel((ImageIcon)tag);
  }
  msgIcon.setPreferredSize(new Dimension(45,45));
  JPanel notificationContent=new JPanel(new BorderLayout(5,0));
  notificationContent.setBorder(BorderFactory.createEmptyBorder(0,3,3,3));
  notificationContent.setOpaque(false);
  notificationContent.add(msgIcon,BorderLayout.WEST);
  notificationContent.add(notificationBody,BorderLayout.CENTER);
  return new PopupNotificationPanel(notificationContent,tag);
}
