{
  String msg;
  if (message.length() > 70)   msg="<html><b>" + message.substring(0,77) + "...";
 else   msg="<html><b>" + message;
  JLabel msgContent=new JLabel(msg);
  if (title.length() > 40)   title=title.substring(0,28) + "...";
  JLabel msgFrom=new JLabel(title);
  msgFrom.setForeground(Color.DARK_GRAY);
  JLabel msgIcon=(icon == null) ? new JLabel(defaultIcon) : new JLabel(icon);
  msgIcon.setOpaque(false);
  msgIcon.setPreferredSize(new Dimension(45,45));
  JPanel notificationContent=new JPanel(new BorderLayout(5,1));
  notificationContent.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));
  notificationContent.setOpaque(false);
  notificationContent.add(msgFrom,BorderLayout.NORTH);
  notificationContent.add(msgContent,BorderLayout.CENTER);
  notificationContent.add(msgIcon,BorderLayout.WEST);
  return new PopupNotificationPanel(notificationContent);
}
