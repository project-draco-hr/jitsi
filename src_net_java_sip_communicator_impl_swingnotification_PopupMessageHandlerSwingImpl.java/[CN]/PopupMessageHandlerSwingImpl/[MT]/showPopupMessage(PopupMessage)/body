{
  final GraphicsConfiguration graphicsConf=GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();
  final JWindow notificationWindow=new JWindow(graphicsConf);
  notificationWindow.setPreferredSize(new Dimension(225,125));
  final Timer popupTimer=new Timer(10000,new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (notificationWindow.isVisible())       new Thread(new PopupDiscarder(notificationWindow)).start();
    }
  }
);
  popupTimer.setRepeats(false);
  notificationWindow.addMouseListener(new MouseAdapter(){
    @Override public void mouseEntered(    MouseEvent e){
      popupTimer.stop();
    }
    @Override public void mouseExited(    MouseEvent e){
      popupTimer.start();
    }
    @Override public void mouseClicked(    MouseEvent e){
      firePopupMessageClicked(new SystrayPopupMessageEvent(e));
      notificationWindow.dispose();
    }
  }
);
  if (popupMessage.getComponent() != null)   notificationWindow.add(popupMessage.getComponent());
 else   notificationWindow.add(createPopup(popupMessage.getMessageTitle(),popupMessage.getMessage(),popupMessage.getIcon()));
  notificationWindow.setAlwaysOnTop(true);
  notificationWindow.pack();
  new Thread(new PopupLauncher(notificationWindow,graphicsConf)).start();
  popupTimer.start();
}
