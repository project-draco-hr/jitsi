{
  DataSource captureDevice=getCaptureDevice();
  AudioMixingPushBufferDataSource audioMixingDataSource;
  DataSource receiveStreamDataSourceForPlayback;
  if (captureDevice instanceof AudioMixingPushBufferDataSource) {
    audioMixingDataSource=(AudioMixingPushBufferDataSource)captureDevice;
    receiveStreamDataSourceForPlayback=getAudioMixer().getLocalOutputDataSource();
  }
 else {
    audioMixingDataSource=null;
    receiveStreamDataSourceForPlayback=receiveStreamDataSource;
  }
  super.addReceiveStream(receiveStream,receiveStreamDataSourceForPlayback);
  if (audioMixingDataSource != null)   audioMixingDataSource.addInputDataSource(receiveStreamDataSource);
}
