{
  Iterator<ProtocolProviderServiceSipImpl> iterPP=candidates.iterator();
  while (iterPP.hasNext()) {
    ProtocolProviderServiceSipImpl candidate=iterPP.next();
    if (candidate.getAccountID().getAccountPropertyBoolean(ProtocolProviderFactory.FORCE_PROXY_BYPASS,false)) {
      continue;
    }
    if (candidate.getRegistrarConnection() == null) {
      continue;
    }
    if (!candidate.getRegistrarConnection().isRegistrarless() && !candidate.getRegistrarConnection().isRequestFromSameConnection(request)) {
      iterPP.remove();
    }
  }
}
