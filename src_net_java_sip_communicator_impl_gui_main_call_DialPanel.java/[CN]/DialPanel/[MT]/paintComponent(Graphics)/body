{
  super.paintComponent(g);
  Graphics2D g2=(Graphics2D)g;
  boolean isTextureBackground=Boolean.parseBoolean(GuiActivator.getResources().getSettingsString("impl.gui.IS_TEXTURE_BACKGROUND"));
  BufferedImage bgImage=ImageLoader.getImage(ImageLoader.MAIN_WINDOW_BACKGROUND);
  if (bgImage != null) {
    if (isTextureBackground) {
      Rectangle rect=new Rectangle(0,0,bgImage.getWidth(null),bgImage.getHeight(null));
      TexturePaint texture=new TexturePaint(bgImage,rect);
      g2.setPaint(texture);
      g2.fillRect(0,0,this.getWidth(),this.getHeight());
    }
 else {
      g.setColor(new Color(GuiActivator.getResources().getColor("contactListBackground")));
      g.fillRect(0,0,getWidth(),getHeight());
      g2.drawImage(bgImage,this.getWidth() - bgImage.getWidth(),this.getHeight() - bgImage.getHeight(),this);
    }
  }
}
