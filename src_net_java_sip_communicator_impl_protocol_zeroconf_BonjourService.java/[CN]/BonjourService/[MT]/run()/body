{
  if (logger.isDebugEnabled())   logger.debug("ZEROCONF: Bonjour Service Thread up and running!");
  while (dead == false) {
    if (sock == null || sock.isClosed()) {
      sock=createSocket(port);
      if (sock == null)       shutdown();
      port=sock.getLocalPort();
      props.put("port.p2pj",Integer.toString(port));
    }
    try {
      Socket connection=sock.accept();
      ContactZeroconfImpl contact=getContact(null,connection.getInetAddress());
      if (dead == true)       break;
      if ((contact == null) || (contact.getClientThread() != null)) {
        if (contact == null)         logger.error("ZEROCONF: Connexion from " + "unknown contact [" + connection.getInetAddress() + "]. REJECTING!");
 else         if (contact.getClientThread() == null)         logger.error("ZEROCONF: Redundant chat " + "channel [" + contact + "]. REJECTING!");
        connection.close();
      }
 else       new ClientThread(connection,this);
    }
 catch (    Exception e) {
      logger.error(e);
    }
  }
  if (logger.isDebugEnabled())   logger.debug("ZEROCONF: Going Offline - " + "BonjourService Thread exiting!");
}
