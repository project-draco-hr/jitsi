{
  SIPCommButton actionButton;
  if (contactSourceClass.equals(SourceContact.class))   actionButton=customContactActionButtons.get(ca);
 else   if (contactSourceClass.equals(ContactSourceService.class))   actionButton=customServiceActionButtons.get(ca);
 else   return;
  if (actionButton == null) {
    actionButton=new SIPCommButton();
    actionButton.setToolTipText(ca.getToolTipText());
    actionButton.setIconImage(new ImageIcon(ca.getIcon()).getImage());
    actionButton.setRolloverIcon(new ImageIcon(ca.getRolloverIcon()).getImage());
    actionButton.setPressedIcon(new ImageIcon(ca.getPressedIcon()).getImage());
    actionButton.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent event){
        try {
          JButton button=(JButton)event.getSource();
          Point location=new Point(button.getX(),button.getY() + button.getHeight());
          SwingUtilities.convertPointToScreen(location,contactListTree);
          TreePath selectionPath=contactListTree.getSelectionPath();
          if (selectionPath != null)           location.y=location.y + contactListTree.getPathBounds(selectionPath).y;
          if (contactSourceClass.equals(SourceContact.class))           ca.actionPerformed(customActionContact,location.x,location.y);
 else           if (contactSourceClass.equals(ContactSourceService.class))           ca.actionPerformed(contactSource,location.x,location.y);
        }
 catch (        OperationFailedException e) {
          new ErrorDialog(null,GuiActivator.getResources().getI18NString("service.gui.ERROR"),e.getMessage());
        }
      }
    }
);
    if (contactSourceClass.equals(SourceContact.class))     customContactActionButtons.put(ca,actionButton);
 else     if (contactSourceClass.equals(ContactSourceService.class))     customServiceActionButtons.put(ca,actionButton);
  }
}
