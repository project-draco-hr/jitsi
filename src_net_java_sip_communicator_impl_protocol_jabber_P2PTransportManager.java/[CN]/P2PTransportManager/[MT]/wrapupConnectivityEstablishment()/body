{
  boolean interrupted=false;
  while (iceAgent.getState() == IceProcessingState.WAITING) {
synchronized (stateSyncRoot) {
      try {
        stateSyncRoot.wait();
      }
 catch (      InterruptedException e) {
        interrupted=true;
      }
    }
  }
  if (interrupted)   Thread.currentThread().interrupt();
  super.wrapupConnectivityEstablishment();
}
