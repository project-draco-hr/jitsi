{
  if (videoBridgeMenuItem != null) {
    remove(videoBridgeMenuItem);
    videoBridgeMenuItem=null;
  }
 else {
    addMenuListener(new MenuListener(){
      public void menuSelected(      MenuEvent arg0){
        initVideoBridgeMenu();
      }
      public void menuDeselected(      MenuEvent arg0){
      }
      public void menuCanceled(      MenuEvent arg0){
      }
    }
);
  }
  List<ProtocolProviderService> videoBridgeProviders=getVideoBridgeProviders();
  GuiActivator.bundleContext.addServiceListener(this);
  int videoBridgeProviderCount=(videoBridgeProviders == null) ? 0 : videoBridgeProviders.size();
  ResourceManagementService r=GuiActivator.getResources();
  if (videoBridgeProviderCount <= 0) {
    videoBridgeMenuItem=new VideoBridgeProviderMenuItem(r.getI18NString("service.gui.CREATE_VIDEO_BRIDGE"),null);
    videoBridgeMenuItem.setEnabled(false);
  }
 else   if (videoBridgeProviderCount == 1) {
    videoBridgeMenuItem=new VideoBridgeProviderMenuItem(r.getI18NString("service.gui.CREATE_VIDEO_BRIDGE"),videoBridgeProviders.get(0));
    videoBridgeMenuItem.setName("videoBridge");
    videoBridgeMenuItem.addActionListener(this);
  }
 else   if (videoBridgeProviderCount > 1) {
    videoBridgeMenuItem=new SIPCommMenu(r.getI18NString("service.gui.CREATE_VIDEO_BRIDGE_MENU"));
    for (    ProtocolProviderService videoBridgeProvider : videoBridgeProviders) {
      VideoBridgeProviderMenuItem videoBridgeItem=new VideoBridgeProviderMenuItem(videoBridgeProvider);
      ((JMenu)videoBridgeMenuItem).add(videoBridgeItem);
      videoBridgeItem.setIcon(ImageLoader.getAccountStatusImage(videoBridgeProvider));
    }
  }
  videoBridgeMenuItem.setIcon(r.getImage("service.gui.icons.VIDEO_BRIDGE"));
  videoBridgeMenuItem.setMnemonic(r.getI18nMnemonic("service.gui.CREATE_VIDEO_BRIDGE"));
  insert(videoBridgeMenuItem,1);
}
