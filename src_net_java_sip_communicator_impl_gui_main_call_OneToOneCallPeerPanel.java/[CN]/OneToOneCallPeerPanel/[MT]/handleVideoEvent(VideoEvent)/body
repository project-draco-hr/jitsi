{
  if (event != null && logger.isTraceEnabled())   logger.trace("UI video event received originated in: " + event.getOrigin() + " and is of type: "+ event.getType());
synchronized (videoContainers) {
    if ((event != null) && !event.isConsumed()) {
      Component video=event.getVisualComponent();
switch (event.getType()) {
case VideoEvent.VIDEO_ADDED:
        if (event.getOrigin() == VideoEvent.LOCAL) {
          this.localVideo=video;
          this.closeButton=new CloseButton();
          localVideo.addMouseMotionListener(localVideoListener);
          localVideo.addMouseListener(localVideoListener);
        }
 else         if (event.getOrigin() == VideoEvent.REMOTE) {
          this.remoteVideo=video;
          if (allowRemoteControl) {
            addMouseAndKeyListeners();
          }
        }
      event.consume();
    break;
case VideoEvent.VIDEO_REMOVED:
  if (event.getOrigin() == VideoEvent.LOCAL && localVideo == video) {
    this.localVideo=null;
    this.closeButton=null;
  }
 else   if (event.getOrigin() == VideoEvent.REMOTE && remoteVideo == video) {
    this.remoteVideo=null;
  }
break;
}
}
}
if (!SwingUtilities.isEventDispatchThread()) {
SwingUtilities.invokeLater(new Runnable(){
public void run(){
handleVideoEvent(event);
}
}
);
return;
}
synchronized (videoContainers) {
int videoContainerCount;
if ((videoTelephony != null) && ((videoContainerCount=videoContainers.size()) > 0)) {
Container videoContainer=videoContainers.get(videoContainerCount - 1);
handleVideoEvent(event,videoContainer);
}
}
}
