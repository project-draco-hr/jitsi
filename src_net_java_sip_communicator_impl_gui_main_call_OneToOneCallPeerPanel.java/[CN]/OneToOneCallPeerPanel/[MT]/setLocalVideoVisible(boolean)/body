{
synchronized (videoContainers) {
    this.localVideoVisible=isVisible;
    if (isVisible != callRenderer.getCallContainer().isShowHideVideoButtonSelected()) {
      callRenderer.getCallContainer().setShowHideVideoButtonSelected(isVisible);
    }
    int videoContainerCount;
    if ((videoTelephony != null) && ((videoContainerCount=videoContainers.size()) > 0)) {
      Container videoContainer=videoContainers.get(videoContainerCount - 1);
      if (localVideo != null) {
        if (isVisible) {
          if (OSUtils.IS_MAC && (localVideo instanceof JComponent)) {
            handleVideoEvent(null,videoContainer);
          }
 else {
            Container localVideoParent=localVideo.getParent();
            if (localVideoParent != null)             localVideoParent.remove(localVideo);
            Container closeButtonParent=closeButton.getParent();
            if (closeButtonParent != null)             closeButtonParent.remove(closeButton);
            videoContainer.add(localVideo,VideoLayout.LOCAL);
            videoContainer.add(closeButton,VideoLayout.CLOSE_LOCAL_BUTTON);
          }
        }
 else {
          videoContainer.remove(localVideo);
          videoContainer.remove(closeButton);
        }
      }
    }
  }
}
