{
synchronized (videoContainers) {
    this.localVideoVisible=isVisible;
    if (isVisible != callRenderer.getCallContainer().isShowHideVideoButtonSelected()) {
      callRenderer.getCallContainer().setShowHideVideoButtonSelected(isVisible);
    }
    if (localVideo == null && isVisible) {
      try {
        videoTelephony.createLocalVisualComponent(callPeer,null);
      }
 catch (      OperationFailedException e) {
      }
    }
    int videoContainerCount;
    if ((videoTelephony != null) && ((videoContainerCount=videoContainers.size()) > 0)) {
      Container videoContainer=videoContainers.get(videoContainerCount - 1);
      if (localVideo != null) {
        videoContainer.remove(localVideo);
        videoContainer.remove(closeButton);
        videoTelephony.disposeLocalVisualComponent(callPeer,localVideo);
        localVideo=null;
      }
    }
  }
}
