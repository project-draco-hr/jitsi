{
synchronized (videoContainers) {
    this.localVideoVisible=isVisible;
    if (isVisible != callRenderer.getCallContainer().isShowHideVideoButtonSelected()) {
      callRenderer.getCallContainer().setShowHideVideoButtonSelected(isVisible);
    }
    int videoContainerCount;
    if ((videoTelephony != null) && ((videoContainerCount=videoContainers.size()) > 0)) {
      Container videoContainer=videoContainers.get(videoContainerCount - 1);
      if (localVideo != null) {
        if (isVisible) {
          Container parent=localVideo.getParent();
          if (parent != null) {
            parent.remove(parent);
            parent.remove(closeButton);
          }
          videoContainer.add(closeButton,VideoLayout.CLOSE_LOCAL_BUTTON,0);
          videoContainer.add(localVideo,VideoLayout.LOCAL,1);
        }
 else {
          if (localVideo != null) {
            videoContainer.remove(localVideo);
            videoContainer.remove(closeButton);
          }
        }
      }
    }
  }
}
