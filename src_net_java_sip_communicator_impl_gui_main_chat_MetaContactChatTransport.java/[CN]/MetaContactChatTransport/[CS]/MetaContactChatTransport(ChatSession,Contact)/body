{
  this.parentChatSession=chatSession;
  this.contact=contact;
  presenceOpSet=contact.getProtocolProvider().getOperationSet(OperationSetPresence.class);
  if (presenceOpSet != null)   presenceOpSet.addContactPresenceStatusListener(this);
  new Thread(new Runnable(){
    public void run(){
      checkImCaps();
    }
  }
).start();
}
