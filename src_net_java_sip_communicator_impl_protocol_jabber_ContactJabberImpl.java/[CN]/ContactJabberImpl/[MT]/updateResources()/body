{
  if (jid == null)   return;
  resources=new LinkedList<ContactResource>();
  Iterator<Presence> it=((ProtocolProviderServiceJabberImpl)getProtocolProvider()).getConnection().getRoster().getPresences(jid);
  while (it.hasNext()) {
    Presence presence=it.next();
    String resource=StringUtils.parseResource(presence.getFrom());
    if (resource != null && resource.length() > 0) {
      resources.add(new ContactResourceJabberImpl(presence.getFrom(),this,resource,OperationSetPersistentPresenceJabberImpl.jabberStatusToPresenceStatus(presence,(ProtocolProviderServiceJabberImpl)getProtocolProvider()),presence.getPriority()));
    }
  }
}
