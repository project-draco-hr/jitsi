{
  String path=url.getPath();
  File tf=null;
  FileOutputStream tfos=null;
  if ((path != null) && (path.length() != 0)) {
    int nameBeginIndex=path.lastIndexOf('/');
    String name;
    if (nameBeginIndex > 0) {
      name=path.substring(nameBeginIndex + 1);
      nameBeginIndex=name.lastIndexOf('\\');
      if (nameBeginIndex > 0)       name=name.substring(nameBeginIndex + 1);
    }
 else     name=path;
    int nameLength=name.length();
    if (nameLength != 0) {
      int baseNameEnd=name.lastIndexOf('.');
      if (baseNameEnd == -1)       name+=".exe";
 else       if (baseNameEnd == 0) {
        if (!".exe".equalsIgnoreCase(name))         name+=".exe";
      }
 else       name=name.substring(0,baseNameEnd) + ".exe";
      try {
        String tempDir=System.getProperty("java.io.tmpdir");
        if ((tempDir != null) && (tempDir.length() != 0)) {
          tf=new File(tempDir,name);
          tfos=new FileOutputStream(tf);
        }
      }
 catch (      FileNotFoundException fnfe) {
      }
catch (      SecurityException se) {
      }
    }
  }
  if (tfos == null) {
    tf=File.createTempFile("sc-setup",".exe");
    tfos=new FileOutputStream(tf);
  }
  tempFile[0]=tf;
  return tfos;
}
