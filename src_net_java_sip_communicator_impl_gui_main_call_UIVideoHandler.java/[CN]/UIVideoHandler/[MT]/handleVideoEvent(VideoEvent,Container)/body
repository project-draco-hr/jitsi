{
  if (videoEvent != null) {
    if ((videoEvent.getOrigin() == VideoEvent.REMOTE) && (videoEvent instanceof SizeChangeVideoEvent)) {
      SizeChangeVideoEvent sizeChangeVideoEvent=(SizeChangeVideoEvent)videoEvent;
      Component visualComponent=sizeChangeVideoEvent.getVisualComponent();
      int width=sizeChangeVideoEvent.getWidth();
      int height=sizeChangeVideoEvent.getHeight();
      if (visualComponent.getParent() == null) {
        visualComponent.setPreferredSize(new Dimension(width,height));
      }
 else       if (isAncestor(videoContainer,visualComponent)) {
        if (!callRenderer.getCallContainer().getCallWindow().equals(GuiActivator.getUIService().getSingleWindowContainer())) {
          callRenderer.ensureSize(visualComponent,width,height);
        }
        videoContainer.doLayout();
      }
      return;
    }
switch (videoEvent.getType()) {
case VideoEvent.VIDEO_ADDED:
case VideoEvent.VIDEO_REMOVED:
      break;
default :
    return;
}
}
videoContainer.removeAll();
Call call=callPeer.getCall();
Iterator<? extends CallPeer> callPeerIter=call.getCallPeers();
List<Component> remoteVideos=new LinkedList<Component>();
while (callPeerIter.hasNext()) {
remoteVideos.addAll(videoTelephony.getVisualComponents(callPeerIter.next()));
}
if (remoteVideos.isEmpty()) {
callRenderer.getCallContainer().removeRemoteVideoSpecificComponents();
}
 else {
for (Component remoteVideo : remoteVideos) {
  Container remoteVideoParent=remoteVideo.getParent();
  if (remoteVideoParent != null)   remoteVideoParent.remove(remoteVideo);
  videoContainer.add(remoteVideo,VideoLayout.CENTER_REMOTE,0);
}
callRenderer.getCallContainer().addRemoteVideoSpecificComponents(callPeer);
}
if (localVideo != null) {
Container localVideoParent=localVideo.getParent();
if (localVideoParent != null) localVideoParent.remove(localVideo);
Container closeButtonParent=closeButton.getParent();
if (closeButtonParent != null) closeButtonParent.remove(closeButton);
if (localVideoVisible) {
  videoContainer.add(localVideo,VideoLayout.LOCAL,0);
  if (!CallManager.isDesktopSharingEnabled(call))   videoContainer.add(closeButton,VideoLayout.CLOSE_LOCAL_BUTTON,0);
}
}
videoContainer.validate();
videoContainer.repaint();
}
