{
synchronized (videoContainers) {
    this.localVideoVisible=isVisible;
    CallPanel callContainer=callRenderer.getCallContainer();
    if (isVisible != callContainer.isShowHideVideoButtonSelected())     callContainer.setShowHideVideoButtonSelected(isVisible);
    int videoContainerCount;
    if ((videoTelephony != null) && ((videoContainerCount=videoContainers.size()) > 0)) {
      Container videoContainer=videoContainers.get(videoContainerCount - 1);
      if (localVideo != null) {
        if (isVisible) {
          Container localVideoParent=localVideo.getParent();
          if (localVideoParent != null)           localVideoParent.remove(localVideo);
          Container closeButtonParent=closeButton.getParent();
          if (closeButtonParent != null)           closeButtonParent.remove(closeButton);
          videoContainer.add(localVideo,VideoLayout.LOCAL,0);
          videoContainer.add(closeButton,VideoLayout.CLOSE_LOCAL_BUTTON,0);
        }
 else {
          videoContainer.remove(localVideo);
          videoContainer.remove(closeButton);
        }
        videoContainer.validate();
        videoContainer.repaint();
      }
    }
  }
}
