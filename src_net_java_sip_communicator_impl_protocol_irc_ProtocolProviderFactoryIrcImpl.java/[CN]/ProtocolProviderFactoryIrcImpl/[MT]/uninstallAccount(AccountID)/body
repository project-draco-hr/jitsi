{
  ServiceReference serRef=getProviderForAccount(accountID);
  ProtocolProviderService protocolProvider=(ProtocolProviderService)IrcActivator.bundleContext.getService(serRef);
  try {
    protocolProvider.unregister();
  }
 catch (  OperationFailedException exc) {
    logger.error("Failed to unregister protocol provider for account : " + accountID + " caused by : "+ exc);
  }
  ServiceRegistration registration=(ServiceRegistration)registeredAccounts.remove(accountID);
  if (registration == null)   return false;
  registration.unregister();
  return removeStoredAccount(IrcActivator.bundleContext,accountID);
}
