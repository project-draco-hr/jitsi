{
  String uin=uinField.getText();
  if (!wizard.isModification() && isExistingAccount(uin)) {
    nextPageIdentifier=FIRST_PAGE_IDENTIFIER;
    uinPassPanel.add(existingAccountLabel,BorderLayout.NORTH);
    this.revalidate();
  }
 else {
    nextPageIdentifier=SUMMARY_PAGE_IDENTIFIER;
    uinPassPanel.remove(existingAccountLabel);
    IcqAccountRegistration registration=wizard.getRegistration();
    registration.setUin(uin);
    registration.setPassword(new String(passField.getPassword()));
    registration.setRememberPassword(rememberPassBox.isSelected());
    if (enableAdvOpButton.isSelected()) {
      registration.setAdvancedSettingsEnabled(true);
      registration.setProxy(proxyField.getText());
      registration.setProxyPort(proxyPortField.getText());
      if (proxyTypeCombo.getSelectedItem() != null)       registration.setProxyType(proxyTypeCombo.getSelectedItem().toString());
      registration.setProxyUsername(proxyUsernameField.getText());
      if (proxyPassField.getPassword() != null)       registration.setProxyPassword(new String(proxyPassField.getPassword()));
    }
  }
}
