{
synchronized (this) {
    if (!started || (stream == 0))     return BUFFER_PROCESSED_OK;
 else     streamIsBusy=true;
  }
  try {
    process((byte[])buffer.getData(),buffer.getOffset(),buffer.getLength());
  }
 catch (  PortAudioException paex) {
    logger.error("Failed to process Buffer.",paex);
  }
 finally {
synchronized (this) {
      streamIsBusy=false;
      notifyAll();
    }
  }
  return BUFFER_PROCESSED_OK;
}
