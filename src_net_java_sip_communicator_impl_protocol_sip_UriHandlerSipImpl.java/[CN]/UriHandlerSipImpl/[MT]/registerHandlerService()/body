{
synchronized (registrationLock) {
    if (ourServiceRegistration != null) {
      return;
    }
    Hashtable<String,String> registrationProperties=new Hashtable<String,String>();
    registrationProperties.put(UriHandler.PROTOCOL_PROPERTY,getProtocol());
    ourServiceRegistration=SipActivator.bundleContext.registerService(UriHandler.class.getName(),this,registrationProperties);
  }
}
