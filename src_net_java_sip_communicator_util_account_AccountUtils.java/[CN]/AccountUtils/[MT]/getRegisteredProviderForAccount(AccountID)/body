{
  for (  ProtocolProviderFactory factory : UtilActivator.getProtocolProviderFactories().values()) {
    if (factory.getRegisteredAccounts().contains(accountID)) {
      ServiceReference serRef=factory.getProviderForAccount(accountID);
      if (serRef != null) {
        return (ProtocolProviderService)UtilActivator.bundleContext.getService(serRef);
      }
    }
  }
  return null;
}
