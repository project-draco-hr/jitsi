{
  this.parentWindow=parentWindow;
  this.setForeground(new Color(GuiActivator.getResources().getColor("service.gui.MAIN_MENU_FOREGROUND")));
  fileMenu=new FileMenu(this.parentWindow);
  editMenu=new EditMenu(this.parentWindow);
  optionsMenu=new OptionsMenu(this.parentWindow);
  helpMenu=new HelpMenu(this.parentWindow);
  fileMenu.setOpaque(false);
  editMenu.setOpaque(false);
  helpMenu.setOpaque(false);
  this.init();
  this.initPluginComponents();
  this.parentWindow.addChatChangeListener(new ChatChangeListener(){
    public void chatChanged(    ChatPanel panel){
      MetaContact contact=GuiActivator.getUIService().getChatContact(panel);
      for (      Component c : getComponents()) {
        if (!(c instanceof PluginComponent))         continue;
        ((PluginComponent)c).setCurrentContact(contact);
      }
    }
  }
);
}
