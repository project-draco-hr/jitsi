{
  super("service.gui.CHAT_MENU_FOREGROUND");
  fileMenu=new FileMenu(parentWindow);
  editMenu=new EditMenu(parentWindow);
  optionsMenu=new OptionsMenu(parentWindow);
  helpMenu=new HelpMenu(parentWindow);
  this.init();
  pluginContainer=new PluginContainer(this,Container.CONTAINER_CHAT_MENU_BAR){
    @Override protected void addComponentToContainer(    Component component,    JComponent container){
      if (component instanceof SIPCommMenu)       ((SIPCommMenu)component).setOpaque(false);
      container.add(component,getComponentIndex(helpMenu));
    }
  }
;
  parentWindow.addChatChangeListener(new ChatChangeListener(){
    public void chatChanged(    ChatPanel panel){
      MetaContact contact=GuiActivator.getUIService().getChatContact(panel);
      for (      PluginComponent c : pluginContainer.getPluginComponents())       c.setCurrentContact(contact);
    }
  }
);
}
