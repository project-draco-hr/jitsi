{
  if (IrcStack.this.getNick().equals(msg.getToUser())) {
    String user=msg.getSource().getNick();
    String text=msg.getText();
    int index=IrcStack.this.joined.indexOf(user);
    if (index == -1) {
      initiatePrivateChatWithInitialMessage(user,text);
    }
 else {
      sendMessageToPrivateChat(IrcStack.this.joined.get(index),user,text);
    }
  }
}
