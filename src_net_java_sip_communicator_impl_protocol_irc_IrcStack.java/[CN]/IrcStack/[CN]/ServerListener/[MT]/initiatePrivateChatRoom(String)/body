{
  OperationSetMultiUserChatIrcImpl muc=IrcStack.this.provider.getMUC();
  ChatRoomIrcImpl chatroom=muc.findOrCreateRoom(userName);
  IrcStack.this.joined.put(chatroom.getIdentifier(),chatroom);
  final ChatRoomMemberIrcImpl user=new ChatRoomMemberIrcImpl(IrcStack.this.provider,chatroom,IrcStack.this.getNick(),ChatRoomMemberRole.MEMBER);
  chatroom.addChatRoomMember(user.getContactAddress(),user);
  final ChatRoomMemberIrcImpl member=new ChatRoomMemberIrcImpl(IrcStack.this.provider,chatroom,userName,ChatRoomMemberRole.MEMBER);
  chatroom.addChatRoomMember(member.getContactAddress(),member);
  IrcStack.this.provider.getMUC().fireLocalUserPresenceEvent(chatroom,LocalUserChatRoomPresenceChangeEvent.LOCAL_USER_JOINED,"Private conversation initiated.");
  return chatroom;
}
