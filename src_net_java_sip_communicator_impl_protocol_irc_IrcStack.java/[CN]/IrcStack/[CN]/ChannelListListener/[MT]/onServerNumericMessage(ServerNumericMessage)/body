{
  if (this.signal.isDone()) {
    return;
  }
switch (msg.getNumericCode()) {
case 321:
synchronized (this.signal) {
      this.signal.getValue().clear();
    }
  break;
case 322:
String channel=parse(msg.getText());
if (channel != null) {
synchronized (this.signal) {
  this.signal.getValue().add(channel);
}
}
break;
case 323:
synchronized (this.signal) {
this.api.deleteListener(this);
this.signal.setDone();
this.signal.notifyAll();
}
break;
default :
break;
}
}
