{
  if (this.channels == null)   return;
switch (msg.getNumericCode()) {
case 321:
synchronized (this.channels) {
      this.channels.clear();
    }
  break;
case 322:
String channel=parse(msg.getText());
if (channel != null) {
synchronized (this.channels) {
  this.channels.add(channel);
}
}
break;
case 323:
synchronized (this.channels) {
this.channels.notifyAll();
this.channels=null;
this.api.deleteListener(this);
}
break;
default :
break;
}
}
