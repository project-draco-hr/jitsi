{
  LOGGER.trace("Start retrieve server chat room list.");
synchronized (this.channellist) {
    if (this.channellist.instance == null) {
      List<String> list=new LinkedList<String>();
synchronized (list) {
        try {
          this.irc.addListener(new ChannelListListener(this.irc,list));
          this.irc.rawMessage("LIST");
          LOGGER.trace("Start waiting for list ...");
          list.wait();
          LOGGER.trace("Done waiting for list.");
        }
 catch (        InterruptedException e) {
          LOGGER.warn("INTERRUPTED while waiting for list.",e);
        }
      }
      this.channellist.instance=list;
    }
    LOGGER.trace("Finished retrieve server chat room list.");
    return Collections.unmodifiableList(this.channellist.instance);
  }
}
