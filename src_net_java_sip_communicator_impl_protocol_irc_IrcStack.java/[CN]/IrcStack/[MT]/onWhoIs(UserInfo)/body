{
  logger.trace("WHOIS on: " + userInfo.getNickName() + "!"+ userInfo.getLogin()+ "@"+ userInfo.getHostname());
  String whoisMessage="Nickname: " + userInfo.getNickName() + "<br>"+ "Host name: "+ userInfo.getHostname()+ "<br>"+ "Login: "+ userInfo.getLogin()+ "<br>"+ "Server info: "+ userInfo.getServerInfo()+ "<br>"+ "Joined chat rooms:";
  Iterator joinedChatRooms=userInfo.getJoinedChatRooms().iterator();
  while (joinedChatRooms.hasNext()) {
    whoisMessage+=" " + joinedChatRooms.next();
  }
  MessageIrcImpl message=new MessageIrcImpl(whoisMessage,MessageIrcImpl.DEFAULT_MIME_TYPE,MessageIrcImpl.DEFAULT_MIME_ENCODING,null);
  ChatRoomIrcImpl chatRoom=(ChatRoomIrcImpl)ircMUCOpSet.findSystemRoom();
  if (chatRoom == null || !chatRoom.isJoined())   return;
  ChatRoomMember sourceMember=new ChatRoomMemberIrcImpl(parentProvider,chatRoom,"","","",ChatRoomMemberRole.GUEST);
  chatRoom.fireMessageReceivedEvent(message,sourceMember,new Date(System.currentTimeMillis()),ChatRoomMessageReceivedEvent.SYSTEM_MESSAGE_RECEIVED);
}
