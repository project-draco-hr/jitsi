{
  if (command.startsWith("/me")) {
    this.sendAction(chatRoom.getName(),command.substring(3));
  }
 else   if (command.startsWith("/notice")) {
    this.sendNotice(chatRoom.getName(),command.substring(7));
  }
 else   if (command.startsWith("/msg")) {
    StringTokenizer tokenizer=new StringTokenizer(command);
    String target=null;
    String messageContent=null;
    tokenizer.nextToken();
    if (tokenizer.hasMoreTokens())     target=tokenizer.nextToken();
    if (tokenizer.hasMoreTokens())     messageContent=tokenizer.nextToken();
    this.sendMessage(target,messageContent);
  }
 else   if (command.startsWith("/query")) {
    StringTokenizer tokenizer=new StringTokenizer(command);
    String target=null;
    tokenizer.nextToken();
    if (tokenizer.hasMoreTokens())     target=tokenizer.nextToken();
    ChatRoomIrcImpl privateChatRoom=ircMUCOpSet.findPrivateChatRoom(target);
    if (privateChatRoom == null)     return;
    ChatRoomMember sourceMember=privateChatRoom.getChatRoomMember(parentProvider.getAccountID().getService());
    if (sourceMember == null)     sourceMember=new ChatRoomMemberIrcImpl(parentProvider,privateChatRoom,parentProvider.getAccountID().getService(),"","",ChatRoomMemberRole.GUEST);
    MessageIrcImpl queryMessage=new MessageIrcImpl("Private conversation initiated.",MessageIrcImpl.DEFAULT_MIME_TYPE,MessageIrcImpl.DEFAULT_MIME_ENCODING,null);
    privateChatRoom.fireMessageReceivedEvent(queryMessage,sourceMember,new Date(System.currentTimeMillis()),ChatRoomMessageReceivedEvent.SYSTEM_MESSAGE_RECEIVED);
  }
 else {
    this.sendRawLine(command.substring(1));
  }
}
