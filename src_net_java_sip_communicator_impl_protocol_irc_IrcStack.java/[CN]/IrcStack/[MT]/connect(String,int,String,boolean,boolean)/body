{
  if (this.irc != null && this.connectionState != null && this.connectionState.isConnected())   return;
  this.joined.clear();
  final IRCServer server;
  if (secureConnection) {
    server=new SecureIRCServer(host,port,password,getCustomSSLContext(host));
  }
 else {
    server=new IRCServer(host,port,password,false);
  }
  this.irc=new IRCApiImpl(true);
synchronized (this.irc) {
    this.params.setServer(server);
    this.irc.addListener(new ServerListener());
    if (LOGGER.isTraceEnabled()) {
      this.irc.addListener(new IMessageListener(){
        @Override public void onMessage(        IMessage aMessage){
          LOGGER.trace("(" + aMessage + ") "+ aMessage.asRaw());
        }
      }
);
    }
    connectSynchronized();
  }
}
