{
  Message localResponse=null;
  try {
    localResponse=defaultResolver.send(query);
  }
 catch (  Throwable exc) {
    logger.info("Exception occurred during parallel DNS resolving" + exc,exc);
    this.exception=exc;
  }
synchronized (this) {
    if (done)     return;
    if (localResponse == null || isResponseSatisfactory(localResponse)) {
      response=localResponse;
      done=true;
    }
    notify();
  }
}
