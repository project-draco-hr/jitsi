{
  if (!done)   waitForResponse(0);
  if (response != null)   return response;
 else   if (exception instanceof IOException)   throw (IOException)exception;
 else   if (exception instanceof RuntimeException)   throw (RuntimeException)exception;
 else   if (exception instanceof Error)   throw (Error)exception;
 else   throw new IllegalStateException("ExtendedResolver failure");
}
