{
  I18NString i18nString=new I18NString();
  String resourceString;
  try {
    resourceString=GuiActivator.getResources().getI18NString(key);
    resourceString=resourceString.replaceAll("'","''");
    char mnemonicIndex=GuiActivator.getResources().getI18nMnemonic(key);
    resourceString=MessageFormat.format(resourceString,(Object[])params);
    if (mnemonicIndex > -1)     i18nString.setMnemonic(mnemonicIndex);
    i18nString.setText(resourceString);
  }
 catch (  MissingResourceException e) {
    i18nString.setText('!' + key + '!');
  }
  return i18nString;
}
