{
  I18NString i18nString=new I18NString();
  try {
    ResourceManagementService resources=GuiActivator.getResources();
    String resourceString=resources.getI18NString(key);
    resourceString=resourceString.replaceAll("'","''");
    resourceString=MessageFormat.format(resourceString,(Object[])params);
    char mnemonic=resources.getI18nMnemonic(key);
    if (mnemonic > 0)     i18nString.setMnemonic(mnemonic);
    i18nString.setText(resourceString);
  }
 catch (  MissingResourceException e) {
    i18nString.setText('!' + key + '!');
  }
  return i18nString;
}
