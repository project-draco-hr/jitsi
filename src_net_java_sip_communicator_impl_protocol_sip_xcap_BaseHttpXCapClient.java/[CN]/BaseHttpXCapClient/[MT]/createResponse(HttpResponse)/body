{
  XCapHttpResponse XCapHttpResponse=new XCapHttpResponse();
  int statusCode=response.getStatusLine().getStatusCode();
  if (statusCode == HttpStatus.SC_OK || statusCode == HttpStatus.SC_CREATED || statusCode == HttpStatus.SC_CONFLICT) {
    String contentType=getSingleHeaderValue(response,HEADER_CONTENT_TYPE);
    byte[] content=StreamUtils.read(response.getEntity().getContent());
    String eTag=getSingleHeaderValue(response,HEADER_ETAG);
    XCapHttpResponse.setContentType(contentType);
    XCapHttpResponse.setContent(content);
    XCapHttpResponse.setETag(eTag);
  }
  XCapHttpResponse.setHttpCode(statusCode);
  return XCapHttpResponse;
}
