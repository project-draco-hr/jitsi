{
  xilCap=new XILCapture(null);
  formats=new Vector<Format>();
  if (!xilCap.connect(index)) {
    dummyDevice(index);
    return;
  }
  for (int i=0; i < ports.length; i++) {
    if (xilCap.setPort(ports[i])) {
      getJpegFormats();
      getRGBFormats();
    }
  }
  xilCap.disconnect();
  if (formats.size() > 0)   addDevice(index);
 else   dummyDevice(index);
}
