{
  try {
    if (deviceConfigurationPropertyChangeListener != null) {
      mediaServiceImpl.getDeviceConfiguration().removePropertyChangeListener(deviceConfigurationPropertyChangeListener);
      deviceConfigurationPropertyChangeListener=null;
    }
  }
  finally {
    mediaServiceImpl.stop();
    mediaServiceRegistration.unregister();
    configurationService=null;
    fileAccessService=null;
    networkAddressManagerService=null;
    resources=null;
    uiService=null;
  }
}
