{
  JButton button=(JButton)e.getSource();
  String buttonName=button.getName();
  if (buttonName.equals("ok")) {
    OperationSetMultiUserChat multiChatOpSet=(OperationSetMultiUserChat)protocolProvider.getOperationSet(OperationSetMultiUserChat.class);
    String chatRoomName=channelTextField.getText();
    ChatRoom chatRoom=null;
    try {
      chatRoom=multiChatOpSet.findRoom(chatRoomName);
    }
 catch (    Exception ex) {
      logger.error("Failed to find room " + chatRoomName,ex);
    }
    if (chatRoom != null) {
      try {
        chatRoom.join();
        mainFrame.getChatRoomsListPanel().getChatRoomsList().addChatRoom(chatRoom);
      }
 catch (      OperationFailedException ex) {
        new ErrorDialog(mainFrame,Messages.getI18NString("failedToJoinChannel",new String[]{chatRoomName}).getText(),ex,Messages.getI18NString("error").getText()).showDialog();
      }
    }
 else {
      new ErrorDialog(mainFrame,Messages.getI18NString("chatRoomNotExist",new String[]{chatRoomName,protocolProvider.getAccountID().getService()}).getText(),Messages.getI18NString("error").getText()).showDialog();
    }
  }
 else   if (buttonName.equals("cancel")) {
    this.dispose();
  }
 else   if (buttonName.equals("channelList")) {
  }
}
