{
  Iterator childrenContactsIter=parent.getChildContacts();
  while (childrenContactsIter.hasNext()) {
    MetaContactImpl child=(MetaContactImpl)childrenContactsIter.next();
    Iterator contactsToRemove=child.getContactsForProvider(sourceProvider);
    child.removeContactsForProvider(sourceProvider);
    if (child.getContactCount() == 0) {
      parent.removeMetaContact(child);
      fireMetaContactEvent(child,parent,MetaContactEvent.META_CONTACT_REMOVED);
    }
 else {
      while (contactsToRemove.hasNext()) {
        fireProtoContactEvent((Contact)contactsToRemove.next(),ProtoContactEvent.PROTO_CONTACT_REMOVED,child,null);
      }
    }
  }
}
