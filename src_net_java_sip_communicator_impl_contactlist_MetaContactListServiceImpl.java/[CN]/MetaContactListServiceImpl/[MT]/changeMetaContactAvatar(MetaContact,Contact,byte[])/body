{
  if (!(metaContact instanceof MetaContactImpl)) {
    throw new IllegalArgumentException(metaContact + " is not a MetaContactImpl instance.");
  }
  byte[] oldAvatar=metaContact.getAvatar();
  ((MetaContactImpl)metaContact).storeAvatar(protoContact,newAvatar);
  fireMetaContactPropertyChangeEvent(new MetaContactAvatarUpdate(metaContact,oldAvatar,newAvatar));
}
