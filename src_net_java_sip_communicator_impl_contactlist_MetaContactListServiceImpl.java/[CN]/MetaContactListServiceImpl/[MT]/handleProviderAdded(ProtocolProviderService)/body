{
  logger.debug("Adding protocol provider " + provider.getProtocolName());
  OperationSetPersistentPresence opSetPersPresence=(OperationSetPersistentPresence)provider.getSupportedOperationSets().get(OperationSetPersistentPresence.class.getName());
  if (opSetPersPresence != null) {
    synchronizeOpSetWithLocalContactList(opSetPersPresence);
  }
 else {
    logger.debug("Service did not have a pers. pres. op. set.");
  }
  this.currentlyInstalledProviders.add(provider);
  opSetPersPresence.addContactPresenceStatusListener(this);
}
