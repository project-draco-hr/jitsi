{
  MetaContactGroupImpl newMetaGroup=(MetaContactGroupImpl)parent.getMetaContactSubgroup(group.getGroupName());
  if (newMetaGroup == null) {
    newMetaGroup=new MetaContactGroupImpl(group.getGroupName());
  }
  newMetaGroup.addProtoGroup(group);
  parent.addSubgroup(newMetaGroup);
  Iterator subgroups=group.subgroups();
  while (subgroups.hasNext()) {
    ContactGroup subgroup=(ContactGroup)subgroups.next();
    handleGroupCreatedEvent(newMetaGroup,subgroup);
  }
  Iterator contactsIter=group.contacts();
  while (contactsIter.hasNext()) {
    Contact contact=(Contact)contactsIter.next();
    MetaContactImpl newMetaContact=new MetaContactImpl();
    newMetaContact.addProtoContact(contact);
    newMetaContact.setDisplayName(contact.getDisplayName());
    newMetaGroup.addMetaContact(newMetaContact);
  }
  return newMetaGroup;
}
