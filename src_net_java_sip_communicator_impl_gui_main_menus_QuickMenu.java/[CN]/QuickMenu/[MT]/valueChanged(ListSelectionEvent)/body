{
  if ((e.getFirstIndex() != -1 || e.getLastIndex() != -1)) {
    Iterator pluginComponents=GuiActivator.getUIService().getComponentsForContainer(UIService.CONTAINER_MAIN_TOOL_BAR);
    while (pluginComponents.hasNext()) {
      Component c=(Component)pluginComponents.next();
      if (!(c instanceof ContactAwareComponent))       continue;
      Object selectedValue=mainFrame.getContactListPanel().getContactList().getSelectedValue();
      if (selectedValue instanceof MetaContact) {
        ((ContactAwareComponent)c).setCurrentContact((MetaContact)selectedValue);
      }
 else       if (selectedValue instanceof MetaContactGroup) {
        ((ContactAwareComponent)c).setCurrentContactGroup((MetaContactGroup)selectedValue);
      }
    }
  }
}
