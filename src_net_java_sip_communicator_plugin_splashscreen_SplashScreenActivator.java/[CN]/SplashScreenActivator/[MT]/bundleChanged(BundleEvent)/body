{
  if (welcomeWindow != null && welcomeWindow.isShowing() && evt.getType() == BundleEvent.STARTED)   welcomeWindow.setBundle(evt.getBundle().getHeaders().get("Bundle-Name").toString());
  ServiceReference[] services=evt.getBundle().getRegisteredServices();
  if (services == null) {
    return;
  }
  for (  ServiceReference serviceRef : services) {
    ServiceReference uiServiceRef=bundleContext.getServiceReference(UIService.class.getName());
    if (serviceRef == uiServiceRef) {
      int state=serviceRef.getBundle().getState();
      if (state == Bundle.ACTIVE) {
        registerMenuEntry(uiServiceRef);
        welcomeWindow.close();
      }
    }
  }
}
