{
  DSFormat fmts[]=device.getSupportedFormats();
  List<Format> formats=new ArrayList<Format>();
  for (  DSFormat fmt : fmts) {
    Dimension size=new Dimension(fmt.getWidth(),fmt.getHeight());
    int colorSpace=0;
switch (fmt.getColorSpace()) {
case DSFormat.RGB32:
      colorSpace=FFmpeg.PIX_FMT_RGB32;
    break;
case DSFormat.ARGB32:
  colorSpace=FFmpeg.PIX_FMT_ARGB;
break;
case DSFormat.RGB24:
colorSpace=FFmpeg.PIX_FMT_RGB24;
break;
default :
continue;
}
formats.add(new AVFrameFormat(size,Format.NOT_SPECIFIED,colorSpace));
}
return formats.toArray(new Format[formats.size()]);
}
