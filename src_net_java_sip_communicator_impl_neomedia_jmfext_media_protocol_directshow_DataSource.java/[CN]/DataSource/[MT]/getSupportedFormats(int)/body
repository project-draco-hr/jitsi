{
  if (device == null) {
    return new Format[0];
  }
  DSFormat fmts[]=device.getSupportedFormats();
  List<Format> formats=new ArrayList<Format>();
  for (  DSFormat fmt : fmts) {
    Dimension size=new Dimension(fmt.getWidth(),fmt.getHeight());
    long f=fmt.getPixelFormat();
    int pixelFormat=(int)getFFmpegPixFmt(f);
    formats.add(new AVFrameFormat(size,Format.NOT_SPECIFIED,pixelFormat,(int)f));
  }
  return formats.toArray(new Format[formats.size()]);
}
