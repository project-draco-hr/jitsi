{
  if (obj == null || !(obj instanceof ContactGroupFacebookImpl))   return false;
  ContactGroupFacebookImpl facebookGroup=(ContactGroupFacebookImpl)obj;
  if (!facebookGroup.getGroupName().equals(getGroupName()) || !facebookGroup.getUID().equals(getUID()) || facebookGroup.countContacts() != countContacts() || facebookGroup.countSubgroups() != countSubgroups())   return false;
  Iterator<Contact> theirContacts=facebookGroup.contacts();
  while (theirContacts.hasNext()) {
    ContactFacebookImpl theirContact=(ContactFacebookImpl)theirContacts.next();
    ContactFacebookImpl ourContact=(ContactFacebookImpl)getContact(theirContact.getAddress());
    if (ourContact == null)     return false;
  }
  Iterator<ContactGroup> theirSubgroups=facebookGroup.subgroups();
  while (theirSubgroups.hasNext()) {
    ContactGroupFacebookImpl theirSubgroup=(ContactGroupFacebookImpl)theirSubgroups.next();
    ContactGroupFacebookImpl ourSubgroup=(ContactGroupFacebookImpl)getGroup(theirSubgroup.getGroupName());
    if (ourSubgroup == null || !ourSubgroup.equals(theirSubgroup))     return false;
  }
  return true;
}
