{
  MsnIncomingMessage incoming=(MsnIncomingMessage)((WrapperMessage)message).getMessage();
  logger.trace(msnMessenger.getOwner().getEmail().getEmailAddress() + " incoming : " + incoming);
  if (incoming instanceof IncomingACK) {
    fireMessageDelivered(((IncomingACK)incoming).getTransactionId());
  }
 else   if (incoming instanceof IncomingNAK) {
    fireMessageDeliveredFailed(((IncomingNAK)incoming).getTransactionId());
  }
 else   if (incoming instanceof IncomingREG) {
    IncomingREG incomingREG=(IncomingREG)incoming;
    MsnGroupImpl group=(MsnGroupImpl)msnMessenger.getContactList().getGroup(incomingREG.getGroupId());
    fireGroupRenamed(group);
  }
 else   if (incoming instanceof IncomingOUT) {
    IncomingOUT incomingOUT=(IncomingOUT)incoming;
    if (incomingOUT.isLoggingFromOtherLocation())     fireLoggingFromOtherLocation();
  }
 else   if (incoming instanceof IncomingQNG) {
    IncomingQNG incomingQNG=(IncomingQNG)incoming;
    connected=true;
  }
}
