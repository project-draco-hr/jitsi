{
  DatagramPacket p=new DatagramPacket(buffer,0,PACKET_RECEIVE_BUFFER_LENGTH);
  while (!closed) {
    try {
      receivePacket(p);
    }
 catch (    IOException e) {
      ioError=true;
      break;
    }
    DatagramPacketFilter[] datagramPacketFilters=getDatagramPacketFilters();
    boolean accept;
    if (datagramPacketFilters == null)     accept=true;
 else {
      accept=true;
      for (int i=0; i < datagramPacketFilters.length; i++) {
        try {
          if (!datagramPacketFilters[i].accept(p)) {
            accept=false;
            break;
          }
        }
 catch (        Throwable t) {
          if (t instanceof ThreadDeath)           throw (ThreadDeath)t;
        }
      }
    }
    if (accept) {
      pkt=createRawPacket(p);
      if ((pkt != null) && (transferHandler != null) && !closed)       transferHandler.transferData(this);
    }
  }
}
