{
  while (!closed) {
    DatagramPacket p=new DatagramPacket(buffer,0,PACKET_RECEIVE_BUFFER);
    try {
      receivePacket(p);
      numberOfPackets++;
    }
 catch (    IOException e) {
      ioError=true;
      break;
    }
    if (RTPConnectorOutputStream.logPacket(numberOfPackets) && NeomediaActivator.getPacketLogging().isLoggingEnabled(PacketLoggingService.ProtocolName.RTP)) {
      doLogPacket(p);
    }
    pkt=createRawPacket(p);
    if ((pkt != null) && (transferHandler != null) && !closed)     transferHandler.transferData(this);
  }
}
