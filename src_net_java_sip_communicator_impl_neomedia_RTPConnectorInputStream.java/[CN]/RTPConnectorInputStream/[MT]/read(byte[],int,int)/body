{
  if (ioError)   return -1;
  int pktLength=pkt.getLength();
  if (length < pktLength)   throw new IOException("Input buffer not big enough for " + pktLength);
  System.arraycopy(pkt.getBuffer(),pkt.getOffset(),buffer,offset,pktLength);
  return pktLength;
}
