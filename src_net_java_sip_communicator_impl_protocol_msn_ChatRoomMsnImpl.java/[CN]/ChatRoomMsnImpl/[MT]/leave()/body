{
  if (switchboard != null) {
    switchboard.close();
    switchboard=null;
  }
  Iterator<ChatRoomMemberMsnImpl> membersIter=members.values().iterator();
  while (membersIter.hasNext()) {
    ChatRoomMember member=(ChatRoomMember)membersIter.next();
    fireMemberPresenceEvent(member,ChatRoomMemberPresenceChangeEvent.MEMBER_LEFT,"Local user has left the chat room.");
  }
  members.clear();
}
