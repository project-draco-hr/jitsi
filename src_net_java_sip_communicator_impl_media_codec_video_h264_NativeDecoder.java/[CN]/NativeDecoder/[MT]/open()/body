{
  avcodec=AVCODEC.avcodec_find_decoder(AVCodecLibrary.CODEC_ID_H264);
  avcontext=AVCODEC.avcodec_alloc_context();
  if (AVCODEC.avcodec_open(avcontext,avcodec) < 0)   throw new RuntimeException("Could not open codec ");
  avpicture=AVCODEC.avcodec_alloc_frame();
  avcontext.lowres=1;
  avcontext.workaround_bugs=1;
  AVUTIL.av_log_set_callback(new AVUtilLibrary.LogCallback(){
    public void callback(    Pointer p,    int l,    String fmtS,    Pointer va_list){
      logger.info("decoder: " + fmtS);
    }
  }
);
  frameRGB=AVCODEC.avcodec_alloc_frame();
  opened=true;
}
