{
  Thread shutdownTimeoutThread=new Thread(){
    public void run(){
synchronized (this) {
        try {
          wait(SHUTDOWN_TIMEOUT);
          logger.error("Failed to gently shutdown. Forcing exit.");
          System.exit(500);
        }
 catch (        InterruptedException ex) {
        }
      }
    }
  }
;
  shutdownTimeoutThread.setDaemon(true);
  shutdownTimeoutThread.start();
}
