{
  super.windowClosing(event);
  if (!GuiActivator.getUIService().getExitOnMainWindowClose()) {
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        if (ConfigurationManager.isQuitWarningShown()) {
          MessageDialog dialog=new MessageDialog(null,GuiActivator.getResources().getI18NString("service.gui.CLOSE"),GuiActivator.getResources().getI18NString("service.gui.HIDE_MAIN_WINDOW"),false);
          if (dialog.showDialog() == MessageDialog.OK_DONT_ASK_CODE)           ConfigurationManager.setQuitWarningShown(false);
        }
      }
    }
);
    ConfigurationManager.setApplicationVisible(false);
  }
}
