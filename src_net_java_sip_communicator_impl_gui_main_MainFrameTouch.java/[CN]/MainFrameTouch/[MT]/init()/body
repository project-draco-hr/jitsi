{
  if (GuiActivator.getUIService().getExitOnMainWindowClose())   this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
 else   this.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);
  this.setKeybindingInput(KeybindingSet.Category.MAIN);
  this.addKeybindingAction("main-rename",new RenameAction());
  getRootPane().getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).remove(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0));
  TransparentPanel northPanel=new TransparentPanel(new BorderLayout(0,0));
  this.setJMenuBar(menu);
  northPanel.add(accountStatusPanel,BorderLayout.CENTER);
  TransparentPanel searchPanel=new TransparentPanel(new BorderLayout(2,0));
  searchPanel.setBorder(BorderFactory.createEmptyBorder(0,5,5,5));
  searchPanel.add(searchField);
  searchPanel.add(new CallHistoryButton(),BorderLayout.EAST);
  northPanel.add(searchPanel,BorderLayout.SOUTH);
  centerPanel.add(contactListPanel,BorderLayout.CENTER);
  mainTabPanel.addTab(GuiActivator.getResources().getI18NString("service.gui.CALL"),dialPanel);
  mainTabPanel.addTab(GuiActivator.getResources().getI18NString("service.gui.CONTACTS"),centerPanel);
  this.mainPanel.add(northPanel,BorderLayout.NORTH);
  this.mainPanel.add(mainTabPanel,BorderLayout.CENTER);
  java.awt.Container contentPane=getContentPane();
  contentPane.add(mainPanel,BorderLayout.CENTER);
  contentPane.add(statusBarPanel,BorderLayout.SOUTH);
  this.requestFocus();
}
