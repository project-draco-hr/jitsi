{
  TransportManagerJabberImpl transportManager=getTransportManager();
  if (remote == null) {
    if (!ProtocolProviderServiceJabberImpl.URN_GOOGLE_TRANSPORT_P2P.equals(transportManager.getXmlNamespace()) && (transportInfoSender != null))     throw new IllegalArgumentException("transportInfoSender");
    transportManager.startCandidateHarvest(local,transportInfoSender);
  }
 else {
    transportManager.startCandidateHarvest(remote,local,transportInfoSender);
  }
  return transportManager.wrapupCandidateHarvest();
}
