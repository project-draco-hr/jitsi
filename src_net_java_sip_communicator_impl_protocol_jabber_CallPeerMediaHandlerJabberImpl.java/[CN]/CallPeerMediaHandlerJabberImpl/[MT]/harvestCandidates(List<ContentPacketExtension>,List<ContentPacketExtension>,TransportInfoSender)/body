{
  long startCandidateHarvestTime=System.currentTimeMillis();
  TransportManagerJabberImpl transportManager=getTransportManager();
  if (remote == null) {
    if (!ProtocolProviderServiceJabberImpl.URN_GOOGLE_TRANSPORT_P2P.equals(transportManager.getXmlNamespace()) && (transportInfoSender != null))     throw new IllegalArgumentException("transportInfoSender");
    transportManager.startCandidateHarvest(local,transportInfoSender);
  }
 else {
    transportManager.startCandidateHarvest(remote,local,transportInfoSender);
  }
  long stopCandidateHarvestTime=System.currentTimeMillis();
  long candidateHarvestTime=stopCandidateHarvestTime - startCandidateHarvestTime;
  if (logger.isInfoEnabled())   logger.info("End candidate harvest within " + candidateHarvestTime + " ms");
  return transportManager.wrapupCandidateHarvest();
}
