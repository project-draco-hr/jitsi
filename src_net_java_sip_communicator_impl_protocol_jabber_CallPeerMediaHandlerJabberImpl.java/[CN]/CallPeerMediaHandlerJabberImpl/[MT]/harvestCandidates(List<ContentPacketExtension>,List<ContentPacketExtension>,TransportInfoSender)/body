{
  TransportManagerJabberImpl transportManager=getTransportManager();
  if (remote == null) {
    if (!transportManager.getXmlNamespace().equals(ProtocolProviderServiceJabberImpl.URN_GOOGLE_TRANSPORT_P2P) && transportInfoSender != null)     throw new IllegalArgumentException("transportInfoSender");
    transportManager.startCandidateHarvest(local,transportInfoSender);
  }
 else {
    transportManager.startCandidateHarvest(remote,local,transportInfoSender);
  }
  return transportManager.wrapupCandidateHarvest();
}
