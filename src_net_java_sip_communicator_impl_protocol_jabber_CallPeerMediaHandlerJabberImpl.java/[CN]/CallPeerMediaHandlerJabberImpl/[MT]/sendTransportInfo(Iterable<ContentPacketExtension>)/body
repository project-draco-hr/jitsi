{
  JingleIQ transportInfo=new JingleIQ();
  boolean sendTransportInfo=false;
  for (  ContentPacketExtension content : candidates) {
    IceUdpTransportPacketExtension transport=content.getFirstChildOfType(IceUdpTransportPacketExtension.class);
    if ((transport != null) && IceUdpTransportPacketExtension.NAMESPACE.equals(transport.getNamespace())) {
      List<CandidatePacketExtension> candidateList=transport.getCandidateList();
      if ((candidateList != null) && !candidateList.isEmpty()) {
        transportInfo.addContent(content);
        sendTransportInfo=true;
      }
    }
  }
  if (sendTransportInfo) {
    CallPeerJabberImpl peer=getPeer();
    ProtocolProviderServiceJabberImpl protocolProvider=peer.getProtocolProvider();
    transportInfo.setAction(JingleAction.TRANSPORT_INFO);
    transportInfo.setFrom(protocolProvider.getOurJID());
    transportInfo.setSID(peer.getJingleSID());
    transportInfo.setTo(peer.getAddress());
    transportInfo.setType(IQ.Type.SET);
    protocolProvider.getConnection().sendPacket(transportInfo);
  }
}
