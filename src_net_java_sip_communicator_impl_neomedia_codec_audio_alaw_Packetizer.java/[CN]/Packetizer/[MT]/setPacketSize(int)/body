{
  packetSize=newPacketSize;
  sample_count=packetSize;
  if (history == null) {
    history=new byte[packetSize];
    return;
  }
  if (packetSize > history.length) {
    byte[] newHistory=new byte[packetSize];
    System.arraycopy(history,0,newHistory,0,historyLength);
    history=newHistory;
  }
}
