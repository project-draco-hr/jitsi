{
  this.sendFileItem.setEnabled(false);
  this.moveToMenu.setIcon(new ImageIcon(ImageLoader.getImage(ImageLoader.GROUPS_16x16_ICON)));
  this.addSubcontactMenu.setIcon(new ImageIcon(ImageLoader.getImage(ImageLoader.ADD_CONTACT_16x16_ICON)));
  ArrayList providers=this.mainFrame.getProtocolProviders();
  for (int i=0; i < providers.size(); i++) {
    ProtocolProviderService pps=(ProtocolProviderService)providers.get(i);
    String protocolName=pps.getProtocolName();
    JMenuItem menuItem=new JMenuItem(pps.getAccountID().getAccountUserID(),new ImageIcon(Constants.getProtocolIcon(protocolName)));
    menuItem.setName(protocolName);
    menuItem.addActionListener(this);
    this.addSubcontactMenu.add(menuItem);
  }
  this.add(sendMessageItem);
  this.add(sendFileItem);
  this.addSeparator();
  this.add(moveToMenu);
  this.addSeparator();
  this.add(addSubcontactMenu);
  this.addSeparator();
  this.add(removeContactItem);
  this.add(renameContactItem);
  this.addSeparator();
  this.add(viewHistoryItem);
  this.add(userInfoItem);
  this.sendMessageItem.setName("sendMessage");
  this.sendFileItem.setName("sendFile");
  this.moveToMenu.setName("moveToGroup");
  this.addSubcontactMenu.setName("addSubcontact");
  this.removeContactItem.setName("removeContact");
  this.renameContactItem.setName("renameContact");
  this.viewHistoryItem.setName("viewHistory");
  this.userInfoItem.setName("userInfo");
  this.sendMessageItem.addActionListener(this);
  this.sendFileItem.addActionListener(this);
  this.removeContactItem.addActionListener(this);
  this.renameContactItem.addActionListener(this);
  this.viewHistoryItem.addActionListener(this);
  this.userInfoItem.addActionListener(this);
  this.sendFileItem.setEnabled(false);
  this.moveToMenu.setEnabled(false);
  this.removeContactItem.setEnabled(false);
  this.renameContactItem.setEnabled(false);
  this.viewHistoryItem.setEnabled(false);
  this.userInfoItem.setEnabled(false);
}
