{
  CallPanel callPanel=activeCalls.get(call);
  if (callPanel == null) {
    CallConference conference=call.getConference();
    if (conference != null) {
      for (      Call conferenceCall : conference.getCalls()) {
        CallPanel conferenceCallPanel=activeCalls.get(conferenceCall);
        if (conferenceCallPanel != null) {
          if (callPanel == null)           callPanel=conferenceCallPanel;
 else           if (logger.isDebugEnabled() && (conferenceCallPanel != callPanel)) {
            logger.debug("Calls in the same CallConference" + " have different CallPanels.");
          }
        }
      }
    }
    if (callPanel == null) {
      CallContainer callContainer=GuiActivator.getUIService().getSingleWindowContainer();
      if (callContainer == null)       callContainer=new CallDialog();
      callPanel=new CallPanel(call,callContainer);
      callContainer.addCallPanel(callPanel);
    }
    activeCalls.put(call,callPanel);
  }
  return callPanel;
}
