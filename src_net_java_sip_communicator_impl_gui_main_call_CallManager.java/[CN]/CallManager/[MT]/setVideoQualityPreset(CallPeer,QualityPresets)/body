{
  ProtocolProviderService provider=callPeer.getProtocolProvider();
  final OperationSetVideoTelephony videoOpSet=provider.getOperationSet(OperationSetVideoTelephony.class);
  if (videoOpSet == null)   return;
  final QualityControls qualityControl=videoOpSet.getQualityControls(callPeer);
  if (qualityControl != null) {
    new Thread(new Runnable(){
      public void run(){
        try {
          qualityControl.setPreferredRemoteSendMaxPreset(qualityPreset);
        }
 catch (        OperationFailedException e) {
          logger.info("Unable to change video quality.",e);
          new ErrorDialog(null,GuiActivator.getResources().getI18NString("service.gui.WARNING"),GuiActivator.getResources().getI18NString("service.gui.UNABLE_TO_CHANGE_VIDEO_QUALITY"),e).showDialog();
        }
      }
    }
).start();
  }
}
