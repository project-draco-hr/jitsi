{
  OperationSetBasicTelephony telephony=(OperationSetBasicTelephony)callPeer.getProtocolProvider().getOperationSet(OperationSetBasicTelephony.class);
  try {
    if (isOnHold)     telephony.putOnHold(callPeer);
 else     telephony.putOffHold(callPeer);
  }
 catch (  OperationFailedException ex) {
    String callPeerAddress=callPeer.getAddress();
    if (isOnHold)     logger.error("Failed to put" + callPeerAddress + " on hold.",ex);
 else     logger.error("Failed to put" + callPeerAddress + " off hold.",ex);
  }
}
