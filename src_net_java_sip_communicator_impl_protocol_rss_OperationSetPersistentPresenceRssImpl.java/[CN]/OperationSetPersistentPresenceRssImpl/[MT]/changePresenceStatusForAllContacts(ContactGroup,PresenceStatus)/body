{
  Iterator<Contact> childContacts=parent.contacts();
  while (childContacts.hasNext()) {
    ContactRssImpl contact=(ContactRssImpl)childContacts.next();
    PresenceStatus oldStatus=contact.getPresenceStatus();
    contact.setPresenceStatus(newStatus);
    fireContactPresenceStatusChangeEvent(contact,parent,oldStatus);
  }
  Iterator<ContactGroup> subgroups=parent.subgroups();
  while (subgroups.hasNext()) {
    ContactGroup subgroup=subgroups.next();
    changePresenceStatusForAllContacts(subgroup,newStatus);
  }
}
