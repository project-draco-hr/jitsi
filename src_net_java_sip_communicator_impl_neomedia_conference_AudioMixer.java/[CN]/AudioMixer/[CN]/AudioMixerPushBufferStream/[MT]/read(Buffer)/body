{
  InputStreamDesc[] inputStreams;
synchronized (inputStreamsSyncRoot) {
    if (this.inputStreams != null)     inputStreams=this.inputStreams.clone();
 else     inputStreams=null;
  }
  int inputStreamCount=(inputStreams == null) ? 0 : inputStreams.length;
  if (inputStreamCount <= 0)   return;
  AudioFormat outputFormat=getFormat();
  int[][] inputSamples=new int[inputStreamCount][];
  int maxInputSampleCount;
  try {
    maxInputSampleCount=readInputPushBufferStreams(inputStreams,outputFormat,inputSamples);
  }
 catch (  UnsupportedFormatException ufex) {
    IOException ioex=new IOException();
    ioex.initCause(ufex);
    throw ioex;
  }
  maxInputSampleCount=Math.max(maxInputSampleCount,readInputPullBufferStreams(inputStreams,outputFormat,maxInputSampleCount,inputSamples));
  buffer.setData(new InputSampleDesc(inputSamples,inputStreams));
  buffer.setLength(maxInputSampleCount);
}
