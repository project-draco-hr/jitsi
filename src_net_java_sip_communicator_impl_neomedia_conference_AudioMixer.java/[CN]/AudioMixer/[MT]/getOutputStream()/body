{
synchronized (inputDataSources) {
    AudioFormat outputFormat=(outputStream == null) ? getOutputFormatFromInputDataSources() : outputStream.getFormat();
    setOutputFormatToInputDataSources(outputFormat);
    Collection<InputStreamDesc> inputStreams;
    try {
      inputStreams=getInputStreamsFromInputDataSources(outputFormat,(outputStream == null) ? null : outputStream.getInputStreams());
    }
 catch (    IOException ioex) {
      throw new UndeclaredThrowableException(ioex);
    }
    if (outputStream == null)     outputStream=new AudioMixerPushBufferStream(this,outputFormat);
    outputStream.setInputStreams(inputStreams);
    return outputStream;
  }
}
