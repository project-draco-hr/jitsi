{
synchronized (inputDataSources) {
    AudioFormat outputFormat=getOutputFormatFromInputDataSources();
    setOutputFormatToInputDataSources(outputFormat);
    Collection<InputStreamDesc> inputStreams;
    try {
      inputStreams=getInputStreamsFromInputDataSources(outputFormat);
    }
 catch (    IOException ex) {
      throw new UndeclaredThrowableException(ex);
    }
    if (inputStreams.size() <= 0)     outputStream=null;
 else {
      if (outputStream == null)       outputStream=new AudioMixerPushBufferStream(outputFormat);
      outputStream.setInputStreams(inputStreams);
    }
    return outputStream;
  }
}
