{
  List<CaptureDeviceInfo> videoCaptureDevices=CaptureDeviceManager.getDeviceList(new VideoFormat(format));
  CaptureDeviceInfo videoCaptureDevice=null;
  if (videoCaptureDevices.size() > 0) {
    String videoDevName=MediaActivator.getConfigurationService().getString(PROP_VIDEO_DEVICE);
    if (videoDevName == null)     videoCaptureDevice=videoCaptureDevices.get(0);
 else {
      for (      CaptureDeviceInfo captureDeviceInfo : videoCaptureDevices) {
        if (videoDevName.equals(captureDeviceInfo.getName())) {
          videoCaptureDevice=captureDeviceInfo;
          break;
        }
      }
    }
    if (videoCaptureDevice != null)     if (logger.isInfoEnabled())     logger.info("Found " + videoCaptureDevice.getName() + " as an RGB Video Device.");
  }
  return videoCaptureDevice;
}
