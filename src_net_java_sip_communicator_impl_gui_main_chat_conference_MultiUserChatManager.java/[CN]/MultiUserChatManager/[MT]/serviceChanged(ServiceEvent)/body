{
  if (event.getServiceReference().getBundle().getState() == Bundle.STOPPING) {
    return;
  }
  Object service=GuiActivator.bundleContext.getService(event.getServiceReference());
  if (!(service instanceof ProtocolProviderService)) {
    return;
  }
  if (event.getType() == ServiceEvent.REGISTERED) {
    this.addChatRoomProvider((ProtocolProviderService)service);
  }
 else   if (event.getType() == ServiceEvent.UNREGISTERING) {
    this.removeChatRoomProvider((ProtocolProviderService)service);
  }
}
