{
  ChatRoom sourceChatRoom=(ChatRoom)evt.getSource();
  logger.trace("MESSAGE DELIVERED to chat room: " + sourceChatRoom.getName());
  Message msg=evt.getMessage();
  ChatPanel chatPanel=null;
  if (chatWindowManager.isChatOpenedForChatRoom(sourceChatRoom)) {
    chatPanel=chatWindowManager.getMultiChat(sourceChatRoom);
  }
  if (chatPanel != null) {
    chatPanel.processMessage(sourceChatRoom.getParentProvider().getAccountID().getUserID(),evt.getTimestamp(),Constants.OUTGOING_MESSAGE,msg.getContent(),msg.getContentType());
    chatPanel.refreshWriteArea();
  }
}
