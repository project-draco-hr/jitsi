{
  ChatRoom chatRoom=invitation.getTargetChatRoom();
  byte[] password=invitation.getChatRoomPassword();
  ChatRoomsList chatRoomsList=mainFrame.getChatRoomsListPanel().getChatRoomsList();
  chatRoomsList.addChatRoom(new ChatRoomWrapper(chatRoom));
  try {
    if (password == null)     chatRoom.join();
 else     chatRoom.join(password);
  }
 catch (  OperationFailedException e) {
    new ErrorDialog(mainFrame,Messages.getI18NString("failedToJoinChatRoom",new String[]{chatRoom.getName()}).getText(),Messages.getI18NString("error").getText()).showDialog();
    logger.error("Failed to join chat room: " + chatRoom.getName(),e);
  }
}
