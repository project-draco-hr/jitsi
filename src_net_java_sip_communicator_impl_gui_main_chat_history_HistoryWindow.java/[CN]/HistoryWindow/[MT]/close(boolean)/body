{
  if (chatConvPanel.getRightButtonMenu().isVisible()) {
    chatConvPanel.getRightButtonMenu().setVisible(false);
  }
 else   if (historyMenu.isPopupMenuVisible()) {
    MenuSelectionManager.defaultManager().clearSelectedPath();
  }
 else {
    GuiActivator.getUIService().getHistoryWindowManager().removeHistoryWindowForContact(historyContact);
    datesPanel.dispose();
    chatConvPanel.dispose();
    this.dispose();
  }
}
