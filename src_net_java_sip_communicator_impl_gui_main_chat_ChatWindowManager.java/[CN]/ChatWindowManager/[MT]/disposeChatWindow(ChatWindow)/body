{
synchronized (chats) {
    if (ConfigurationManager.isMultiChatWindowEnabled())     chats.clear();
 else     chats.remove(chatWindow.getCurrentChatPanel().getChatIdentifier());
  }
  if (chatWindow.getChatCount() > 0)   chatWindow.removeAllChats();
  GuiActivator.getUIService().unregisterExportedWindow(chatWindow);
  chatWindow.dispose();
  ContactList clist=mainFrame.getContactListPanel().getContactList();
  ContactListModel clistModel=(ContactListModel)clist.getModel();
  clistModel.removeAllActiveContacts();
  clist.refreshAll();
}
