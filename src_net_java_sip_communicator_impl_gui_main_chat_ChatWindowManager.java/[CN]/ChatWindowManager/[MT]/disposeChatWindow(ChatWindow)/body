{
  Iterator<ChatPanel> chatPanelsIter=chatPanels.iterator();
  while (chatPanelsIter.hasNext()) {
    ChatPanel chatPanel=chatPanelsIter.next();
    chatPanel.dispose();
  }
synchronized (chatPanels) {
    chatPanels.clear();
  }
  if (chatWindow.getChatCount() > 0)   chatWindow.removeAllChats();
  GuiActivator.getUIService().unregisterExportedWindow(chatWindow);
  chatWindow.dispose();
  ContactList clist=GuiActivator.getUIService().getMainFrame().getContactListPanel().getContactList();
  clist.removeAllActiveContacts();
  clist.refreshAll();
}
