{
synchronized (syncChat) {
    Iterator<ChatPanel> chatPanelsIter=chatPanels.iterator();
    while (chatPanelsIter.hasNext()) {
      ChatPanel chatPanel=chatPanelsIter.next();
      ChatSession chatSession=chatPanel.getChatSession();
      Object descriptor=chatSession.getDescriptor();
      if (descriptor instanceof ChatRoomWrapper) {
        ChatRoomWrapper chatRoomWrapper=(ChatRoomWrapper)descriptor;
        if (chatRoomWrapper.getChatRoom().equals(chatRoom) && getChat(chatSession).isShown()) {
          return true;
        }
      }
    }
    return false;
  }
}
