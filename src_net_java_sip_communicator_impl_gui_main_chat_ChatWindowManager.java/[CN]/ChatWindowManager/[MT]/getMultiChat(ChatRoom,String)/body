{
synchronized (syncChat) {
    Enumeration chatKeys=chats.keys();
    while (chatKeys.hasMoreElements()) {
      Object o=chatKeys.nextElement();
      if (o instanceof ChatRoomWrapper) {
        if (((ChatRoomWrapper)o).getChatRoom().equals(chatRoom)) {
          return (ConferenceChatPanel)getChat((ChatRoomWrapper)o);
        }
      }
    }
    ChatRoomWrapper chatRoomWrapper=mainFrame.getMultiUserChatManager().getChatRoomList().findChatRoomWrapperFromChatRoom(chatRoom);
    if (chatRoomWrapper == null)     chatRoomWrapper=new ChatRoomWrapper(chatRoom);
    return createChat(chatRoomWrapper,escapedMessageID);
  }
}
