{
synchronized (syncChat) {
    ChatRoomList chatRoomList=GuiActivator.getUIService().getConferenceChatManager().getChatRoomList();
    ChatRoomWrapper chatRoomWrapper=chatRoomList.findChatRoomWrapperFromChatRoom(chatRoom);
    if (chatRoomWrapper == null) {
      ChatRoomProviderWrapper parentProvider=chatRoomList.findServerWrapperFromProvider(chatRoom.getParentProvider());
      chatRoomWrapper=new ChatRoomWrapper(parentProvider,chatRoom);
      chatRoomList.addChatRoom(chatRoomWrapper);
    }
    ChatPanel chatPanel=findChatPanelForDescriptor(chatRoomWrapper);
    return (chatPanel != null) ? chatPanel : createChat(chatRoomWrapper,escapedMessageID);
  }
}
