{
  RawPacket pkt=createRawPacket(buffer,offset,length);
  if (pkt == null)   return length;
  for (  InetSocketAddress target : targets)   try {
    socket.send(new DatagramPacket(pkt.getBuffer(),pkt.getOffset(),pkt.getLength(),target.getAddress(),target.getPort()));
  }
 catch (  IOException ex) {
    return -1;
  }
  return length;
}
