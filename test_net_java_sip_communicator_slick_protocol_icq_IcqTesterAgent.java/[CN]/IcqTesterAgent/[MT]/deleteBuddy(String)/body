{
  logger.debug("Will delete buddy : " + screenname);
  MutableBuddyList joustSimBuddyList=(MutableBuddyList)conn.getSsiService().getBuddyList();
  LayoutEventCollector evtCollector=new LayoutEventCollector();
  joustSimBuddyList.addLayoutListener(evtCollector);
  List grList=joustSimBuddyList.getGroups();
  boolean isDeleted=false;
  Iterator iter=grList.iterator();
  while (iter.hasNext()) {
    MutableGroup item=(MutableGroup)iter.next();
    List bs=item.getBuddiesCopy();
    Iterator iter1=bs.iterator();
    while (iter1.hasNext()) {
      Buddy b=(Buddy)iter1.next();
      if (b.getScreenname().getFormatted().equals(screenname)) {
        item.deleteBuddy(b);
        isDeleted=true;
      }
    }
    if (isDeleted)     break;
  }
  evtCollector.waitForRemovedBuddy(10000);
  joustSimBuddyList.removeLayoutListener(evtCollector);
}
