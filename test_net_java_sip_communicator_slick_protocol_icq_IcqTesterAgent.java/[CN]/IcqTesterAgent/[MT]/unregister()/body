{
  if (!registered)   return;
  conn.disconnect(true);
  registered=false;
}
