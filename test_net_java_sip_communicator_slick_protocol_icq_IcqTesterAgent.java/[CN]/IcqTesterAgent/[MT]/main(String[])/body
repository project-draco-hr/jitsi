{
  IcqTesterAgent icqtests=new IcqTesterAgent("319305099");
  if (!icqtests.register("6pC0mmtt")) {
    System.out.println("registration failed");
    ;
    return;
  }
  MainBosService bos=icqtests.conn.getBosService();
  Thread.sleep(1000);
  icqtests.conn.getSsiService().getBuddyList().addRetroactiveLayoutListener(icqtests.rl);
  bos.addMainBosServiceListener(new MainBosServiceListener(){
    public void handleYourExtraInfo(    List extraInfos){
      System.out.println("Bosiat.extrainfo=" + extraInfos);
    }
    /** 
 * Saves the full user info and calls a notifyAll on the infoLock
 * @param service the source bos service
 * @param userInfo the FullUserInfo as received from the aim server.
 */
    public void handleYourInfo(    MainBosService service,    FullUserInfo userInfo){
      System.out.println("Bosiat.yourinfo=" + userInfo);
    }
  }
);
  Thread.sleep(1000);
  System.out.println("\n\nr u ready?");
  Thread.sleep(3000);
  Thread.sleep(3000);
  icqtests.conn.getBuddyInfoTracker().addTracker(new Screenname("38687470"),new BuddyInfoTrackerListener(){
  }
);
  Thread.sleep(1000);
  System.out.println("\n\ntracker added");
  Thread.sleep(3000);
  Thread.sleep(8000);
  System.out.println("done");
  icqtests.conn.getInfoService().requestAwayMessage(new Screenname("38687470"),new InfoResponseListener(){
    public void handleAwayMessage(    InfoService service,    Screenname buddy,    String awayMessage){
      System.out.println("buddy=" + buddy);
      System.out.println("awayMessage=" + awayMessage);
    }
    public void handleUserProfile(    InfoService service,    Screenname buddy,    String userInfo){
      logger.debug("!!! TODO: implement handleUserProfile() !!!");
      System.out.println("userInfo=" + userInfo);
    }
    public void handleCertificateInfo(    InfoService service,    Screenname buddy,    BuddyCertificateInfo certInfo){
      logger.debug("!!! TODO: implement handleCertificateInfo() !!!");
      System.out.println("buddy=" + buddy);
    }
    public void handleDirectoryInfo(    InfoService service,    Screenname buddy,    DirInfo dirInfo){
      logger.debug("!!! TODO: implement handleDirectoryInfo() !!!");
      System.out.println("buddy=" + buddy);
    }
    public void handleInvalidCertificates(    InfoService service,    Screenname buddy,    CertificateInfo origCertInfo,    Throwable ex){
      logger.debug("!!! TODO: implement handleInvalidCertificates() !!!");
      System.out.println("buddy=" + buddy);
    }
  }
);
  Thread.sleep(5000);
  icqtests.conn.getInfoService().requestAwayMessage(new Screenname("38687470"));
}
