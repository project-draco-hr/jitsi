{
  java.util.logging.Logger.getLogger("net.kano").setLevel(java.util.logging.Level.FINEST);
  IcqTesterAgent icqtests=new IcqTesterAgent("319305099");
  if (!icqtests.register("6pC0mmtt")) {
    System.out.println("registration failed");
    ;
    return;
  }
  MainBosService bos=icqtests.conn.getBosService();
  Thread.sleep(1000);
  icqtests.conn.getSsiService().getBuddyList().addRetroactiveLayoutListener(icqtests.rl);
  Thread.sleep(1000);
  System.out.println("\n\nr u ready?");
  Thread.sleep(3000);
  java.util.logging.Logger.getLogger("net.kano").setLevel(java.util.logging.Level.FINEST);
  MutableBuddyList list=icqtests.conn.getSsiService().getBuddyList();
  MutableGroup dupeGroup=null;
  MutableGroup grpGroup=null;
  Buddy buddyToMove=null;
  List groups=list.getGroups();
  Iterator groupsIter=groups.iterator();
  while (groupsIter.hasNext()) {
    MutableGroup group=(MutableGroup)groupsIter.next();
    if (group.getName().equals("dupe"))     dupeGroup=group;
    if (group.getName().equals("grp"))     grpGroup=group;
    List buddies=group.getBuddiesCopy();
    System.out.println("Printing buddies for group " + group.getName());
    Thread.sleep(1000);
    for (int i=0; i < buddies.size(); i++) {
      Buddy buddy=(Buddy)buddies.get(i);
      System.out.println(buddy.getScreenname());
      if (buddy.getScreenname().getFormatted().equals("201345337"))       buddyToMove=buddy;
    }
  }
  System.out.println();
  System.out.println();
  System.out.println();
  System.out.println();
  System.out.println();
  System.out.println();
  System.out.println();
  System.out.println();
  System.out.println();
  System.out.println("will move buddyyyyyyyyyy");
  Thread.sleep(5000);
  List listToMove=new ArrayList();
  listToMove.add(buddyToMove);
  list.moveBuddies(listToMove,grpGroup);
  System.out.println("MOved i sega triabva da doidat eventi ");
  Thread.sleep(50000);
  Buddy movedBuddy=null;
  groupsIter=list.getGroups().iterator();
  while (groupsIter.hasNext()) {
    MutableGroup group=(MutableGroup)groupsIter.next();
    List buddies=group.getBuddiesCopy();
    for (int i=0; i < buddies.size(); i++) {
      Buddy buddy=(Buddy)buddies.get(i);
      if (buddy.getScreenname().getFormatted().equals("201345337"))       movedBuddy=buddy;
    }
  }
  if (buddyToMove == movedBuddy)   System.out.println("hahaha");
}
