{
  if (event instanceof ConfigureCompleteEvent) {
    Processor player=(Processor)event.getSourceController();
    TrackControl[] trackControls=player.getTrackControls();
    if ((trackControls != null) && (trackControls.length != 0))     try {
      for (      TrackControl trackControl : trackControls) {
        Codec codecs[]=null;
        SwScaler scaler=new SwScaler();
        if (locator.getProtocol().equals(ImageStreamingAuto.LOCATOR_PROTOCOL)) {
          codecs=new Codec[1];
          codecs[0]=scaler;
        }
 else {
          VideoFlipEffect flipEffect=new VideoFlipEffect();
          codecs=new Codec[2];
          codecs[0]=flipEffect;
          codecs[1]=scaler;
        }
        trackControl.setCodecChain(codecs);
        break;
      }
    }
 catch (    UnsupportedPlugInException upiex) {
      logger.warn("Failed to add SwScaler/VideoFlipEffect to " + "codec chain",upiex);
    }
    try {
      player.setContentDescriptor(null);
    }
 catch (    NotConfiguredError nce) {
      logger.error("Failed to set ContentDescriptor of Processor",nce);
    }
    player.realize();
  }
 else   if (event instanceof RealizeCompleteEvent) {
    Player player=(Player)event.getSourceController();
    Component video=player.getVisualComponent();
    showPreview(videoContainer,video,player);
  }
}
