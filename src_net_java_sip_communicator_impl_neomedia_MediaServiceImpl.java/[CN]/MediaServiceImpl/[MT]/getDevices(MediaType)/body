{
  CaptureDeviceInfo[] captureDeviceInfos;
switch (mediaType) {
case AUDIO:
    captureDeviceInfos=mediaServiceImpl.getDeviceConfiguration().getAvailableAudioCaptureDevices();
  break;
case VIDEO:
captureDeviceInfos=mediaServiceImpl.getDeviceConfiguration().getAvailableVideoCaptureDevices();
break;
default :
captureDeviceInfos=null;
break;
}
List<MediaDevice> captureDevices;
if ((captureDeviceInfos == null) || (captureDeviceInfos.length == 0)) captureDevices=EMPTY_DEVICES;
 else {
captureDevices=new ArrayList<MediaDevice>(captureDeviceInfos.length);
for (CaptureDeviceInfo captureDeviceInfo : captureDeviceInfos) captureDevices.add(new CaptureMediaDevice(captureDeviceInfo,mediaType));
}
return captureDevices;
}
