{
  CaptureDeviceInfo[] captureDeviceInfos;
switch (mediaType) {
case AUDIO:
    captureDeviceInfos=getDeviceConfiguration().getAvailableAudioCaptureDevices();
  break;
case VIDEO:
captureDeviceInfos=getDeviceConfiguration().getAvailableVideoCaptureDevices();
break;
default :
captureDeviceInfos=null;
break;
}
List<MediaDevice> captureDevices;
if ((captureDeviceInfos == null) || (captureDeviceInfos.length == 0)) captureDevices=EMPTY_DEVICES;
 else {
captureDevices=new ArrayList<MediaDevice>(captureDeviceInfos.length);
for (CaptureDeviceInfo captureDeviceInfo : captureDeviceInfos) {
MediaDevice captureDevice;
switch (mediaType) {
case AUDIO:
captureDevice=new AudioCaptureMediaDevice(captureDeviceInfo);
break;
case VIDEO:
default :
captureDevice=new CaptureMediaDevice(captureDeviceInfo,mediaType);
break;
}
captureDevices.add(captureDevice);
}
}
return captureDevices;
}
