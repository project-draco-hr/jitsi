{
  MediaDeviceImpl dev=(MediaDeviceImpl)mediaDevice;
  if (!dev.getCaptureDeviceInfo().getLocator().getProtocol().equals(ImageStreamingAuto.LOCATOR_PROTOCOL)) {
    return;
  }
  VideoMediaDeviceSession session=(VideoMediaDeviceSession)dev.getSession();
  DataSource ds=session.getCaptureDevice();
  if (ds instanceof MutePullBufferDataSource) {
    MutePullBufferDataSource ds2=(MutePullBufferDataSource)ds;
    ds=ds2.getWrappedDataSource();
  }
  ScreenDevice screen=getScreenForPoint(new Point(x,y));
  ScreenDevice currentScreen=screen;
  if (x < 0) {
    x+=screen.getSize().width;
  }
 else   if (x > screen.getSize().width) {
    List<ScreenDevice> devs=getAvailableScreenDevices();
    if (screen.getIndex() > 0) {
      screen=devs.get(screen.getIndex() - 1);
    }
    x-=screen.getSize().width;
  }
  if (y < 0) {
    y+=screen.getSize().height;
  }
 else   if (y > screen.getSize().height) {
    List<ScreenDevice> devs=getAvailableScreenDevices();
    if (screen.getIndex() > 0) {
      screen=devs.get(screen.getIndex() - 1);
    }
    y-=screen.getSize().height;
  }
  ((net.java.sip.communicator.impl.neomedia.jmfext.media.protocol.imgstreaming.DataSource)ds).setOrigin(0,currentScreen.getIndex(),x,y);
}
