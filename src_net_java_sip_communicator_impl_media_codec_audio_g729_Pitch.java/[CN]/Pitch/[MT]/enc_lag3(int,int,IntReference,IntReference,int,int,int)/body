{
  int index;
  int _T0_min=T0_min.value, _T0_max=T0_max.value;
  if (pit_flag == 0) {
    if (T0 <= 85)     index=T0 * 3 - 58 + T0_frac;
 else     index=T0 + 112;
    _T0_min=T0 - 5;
    if (_T0_min < pit_min)     _T0_min=pit_min;
    _T0_max=_T0_min + 9;
    if (_T0_max > pit_max) {
      _T0_max=pit_max;
      _T0_min=_T0_max - 9;
    }
  }
 else {
    index=T0 - _T0_min;
    index=index * 3 + 2 + T0_frac;
  }
  T0_min.value=_T0_min;
  T0_max.value=_T0_max;
  return index;
}
