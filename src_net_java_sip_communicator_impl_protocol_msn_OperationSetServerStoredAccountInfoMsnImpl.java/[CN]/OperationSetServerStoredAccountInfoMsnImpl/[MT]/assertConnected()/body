{
  if (msnProvider == null) {
    throw new IllegalStateException("The msn provider must be non-null and signed on " + "before being able to communicate.");
  }
  if (!msnProvider.isRegistered()) {
    throw new IllegalStateException("The msn provider must be signed on before " + "being able to communicate.");
  }
}
