{
  if (evt.getNewState() == RegistrationState.REGISTERING) {
    try {
      String imagePath=STORE_DIR + msnProvider.getAccountID().getAccountUniqueID() + ".jpg";
      File file=MsnActivator.getFileAccessService().getPrivatePersistentFile(imagePath,FileCategory.CACHE);
      if (file.exists()) {
        FileInputStream in=new FileInputStream(file);
        byte[] b=new byte[in.available()];
        in.read(b);
        in.close();
        if (msnProvider.getMessenger() != null) {
          MsnOwner owner=msnProvider.getMessenger().getOwner();
          owner.setInitDisplayPicture(MsnObject.getInstance(owner.getEmail().getEmailAddress(),b));
        }
      }
    }
 catch (    Exception ex) {
      logger.error("Cannot obtain own avatar image.",ex);
    }
  }
}
