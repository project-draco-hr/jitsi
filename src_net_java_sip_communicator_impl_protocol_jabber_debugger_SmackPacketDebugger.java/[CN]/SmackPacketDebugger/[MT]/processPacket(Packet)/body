{
  try {
    if (packetLogging.isLoggingEnabled(PacketLoggingService.ProtocolName.JABBER) && packet != null && connection.getSocket() != null) {
      packetLogging.logPacket(PacketLoggingService.ProtocolName.JABBER,remoteAddress,connection.getPort(),localAddress,connection.getSocket().getLocalPort(),PacketLoggingService.TransportName.TCP,false,packet.toXML().getBytes("UTF-8"));
    }
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
