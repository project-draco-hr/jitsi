{
  Vector devices=(Vector)CaptureDeviceManager.getDeviceList(null).clone();
  Enumeration enumeration=devices.elements();
  while (enumeration.hasMoreElements()) {
    CaptureDeviceInfo cdi=(CaptureDeviceInfo)enumeration.nextElement();
    String devName=cdi.getLocator().getProtocol();
    if (devName.equals(PROTOCOL))     CaptureDeviceManager.removeDevice(cdi);
  }
  int nDevices=0;
  for (int i=0; i < 7; i++) {
    File fl=new File(DEVICE_PREFIX + i);
    if (fl.exists()) {
      doDevice(i);
      nDevices++;
    }
  }
  try {
    CaptureDeviceManager.commit();
    logger.info("SunVideoAuto: Committed ok");
  }
 catch (  java.io.IOException ioe) {
    logger.error("SunVideoAuto: error committing cdm");
  }
}
