{
  if (format instanceof AudioFormat) {
    AudioFormat audioFormat=(AudioFormat)format;
    AudioFormat clockRateAudioFormat=new AudioFormat(audioFormat.getEncoding(),clockRate,audioFormat.getSampleSizeInBits(),audioFormat.getChannels());
    return new AudioMediaFormatImpl((AudioFormat)clockRateAudioFormat.intersects(audioFormat),formatParameters,advancedAttrs);
  }
 else   if (format instanceof VideoFormat)   return new VideoMediaFormatImpl((VideoFormat)format,clockRate,-1,formatParameters,advancedAttrs);
 else   return null;
}
