{
  if (this == mediaFormat)   return true;
  if (!getClass().isInstance(mediaFormat))   return false;
  @SuppressWarnings("unchecked") MediaFormatImpl<T> mediaFormatImpl=(MediaFormatImpl<T>)mediaFormat;
  return format.equals(mediaFormatImpl.format) && formatParametersAreEqual(getFormatParameters(),mediaFormatImpl.getFormatParameters());
}
