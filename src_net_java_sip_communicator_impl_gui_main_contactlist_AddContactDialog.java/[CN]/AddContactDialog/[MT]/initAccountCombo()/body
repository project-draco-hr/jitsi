{
  Iterator<ProtocolProviderService> providers=mainFrame.getProtocolProviders();
  while (providers.hasNext()) {
    ProtocolProviderService provider=providers.next();
    boolean isHidden=provider.getAccountID().getAccountProperty(ProtocolProviderFactory.IS_PROTOCOL_HIDDEN) != null;
    if (isHidden)     continue;
    OperationSet opSet=provider.getOperationSet(OperationSetPresence.class);
    if (opSet == null)     continue;
    accountCombo.addItem(provider);
  }
}
