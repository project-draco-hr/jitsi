{
  JButton button=(JButton)e.getSource();
  if (button.equals(addButton)) {
    final ProtocolProviderService protocolProvider=(ProtocolProviderService)accountCombo.getSelectedItem();
    final String contactAddress=contactAddressField.getText();
    final String displayName=displayNameField.getText();
    if (displayName != null && displayName.length() > 0) {
      addRenameListener(protocolProvider,metaContact,contactAddress,displayName);
    }
    if (metaContact != null) {
      new Thread(){
        @Override public void run(){
          GuiActivator.getContactListService().addNewContactToMetaContact(protocolProvider,metaContact,contactAddress);
        }
      }
.start();
    }
 else {
      ContactListUtils.addContact(protocolProvider,(MetaContactGroup)groupCombo.getSelectedItem(),contactAddress);
    }
  }
  dispose();
}
