{
  String idPrivKey;
  try {
    idPrivKey="net.java.sip.comunicator.plugin.otr." + URLEncoder.encode(accountID,"UTF-8") + ".privateKey";
  }
 catch (  UnsupportedEncodingException e1) {
    e1.printStackTrace();
    return null;
  }
  Object b64PrivKey=OtrActivator.configService.getProperty(idPrivKey);
  if (b64PrivKey == null)   return null;
  PKCS8EncodedKeySpec privateKeySpec=new PKCS8EncodedKeySpec(Base64.decode((String)b64PrivKey));
  String idPubKey;
  try {
    idPubKey="net.java.sip.comunicator.plugin.otr." + URLEncoder.encode(accountID,"UTF-8") + ".publicKey";
  }
 catch (  UnsupportedEncodingException e1) {
    e1.printStackTrace();
    return null;
  }
  Object b64PubKey=OtrActivator.configService.getProperty(idPubKey);
  if (b64PubKey == null)   return null;
  X509EncodedKeySpec publicKeySpec=new X509EncodedKeySpec(Base64.decode((String)b64PubKey));
  PublicKey publicKey;
  PrivateKey privateKey;
  KeyFactory keyFactory;
  try {
    keyFactory=KeyFactory.getInstance("DSA");
    publicKey=keyFactory.generatePublic(publicKeySpec);
    privateKey=keyFactory.generatePrivate(privateKeySpec);
  }
 catch (  NoSuchAlgorithmException e) {
    e.printStackTrace();
    return null;
  }
catch (  InvalidKeySpecException e) {
    e.printStackTrace();
    return null;
  }
  return new KeyPair(publicKey,privateKey);
}
