{
  String idPubKey;
  try {
    idPubKey="net.java.sip.comunicator.plugin.otr." + URLEncoder.encode(userID,"UTF-8") + ".publicKey";
  }
 catch (  UnsupportedEncodingException e) {
    e.printStackTrace();
    return null;
  }
  Object b64PubKey=OtrActivator.configService.getProperty(idPubKey);
  if (b64PubKey == null)   return null;
  X509EncodedKeySpec publicKeySpec=new X509EncodedKeySpec(Base64.decode((String)b64PubKey));
  KeyFactory keyFactory;
  try {
    keyFactory=KeyFactory.getInstance("DSA");
    return keyFactory.generatePublic(publicKeySpec);
  }
 catch (  NoSuchAlgorithmException e) {
    e.printStackTrace();
    return null;
  }
catch (  InvalidKeySpecException e) {
    e.printStackTrace();
    return null;
  }
}
