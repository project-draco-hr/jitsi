{
  Session session=getSession(contact);
  try {
    session.initSmp(question,secret);
    SmpProgressDialog progressDialog=progressDialogMap.get(contact);
    if (progressDialog == null) {
      progressDialog=new SmpProgressDialog(contact);
      progressDialogMap.put(contact,progressDialog);
    }
    progressDialog.init();
    progressDialog.setVisible(true);
  }
 catch (  OtrException e) {
    logger.error("Error initializing SMP session with contact " + contact.getDisplayName(),e);
    showError(session.getSessionID(),e.getMessage());
  }
}
