{
  if (operation.equals(MODIFY_OPERATION)) {
    if (!listModel.isGroupClosed(group)) {
      if (listModel.showOffline()) {
        int groupIndex=listModel.indexOf(group);
        int lastIndex=listModel.countContactsAndSubgroups(group);
        listModel.contentChanged(groupIndex,lastIndex);
      }
 else {
        int groupIndex=listModel.indexOf(group);
        int addedCount=listModel.countContactsAndSubgroups(group);
        int listSize=listModel.getSize();
        listModel.contentChanged(groupIndex,listSize - addedCount - 1);
        listModel.contentAdded(listSize - addedCount,listSize - 1);
      }
    }
  }
 else   if (operation.equals(ADD_OPERATION)) {
    int groupIndex=listModel.indexOf(group);
    int addedCount=listModel.countContactsAndSubgroups(group);
    int listSize=listModel.getSize();
    listModel.contentChanged(groupIndex,listSize - addedCount - 1);
    listModel.contentAdded(listSize - addedCount,listSize - 1);
  }
 else   if (operation.equals(REMOVE_OPERATION)) {
    int groupIndex=listModel.indexOf(group);
    int removeCount=listModel.countContactsAndSubgroups(group);
    int listSize=listModel.getSize();
    if (listSize > 0 && removeCount > 0) {
      listModel.contentRemoved(listSize - 1,listSize + removeCount - 1);
      listModel.contentChanged(groupIndex,listSize - 1);
    }
  }
}
