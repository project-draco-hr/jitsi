{
  if (toContact == null) {
    SSHFileTransferDaemon fileTransferDaemon=new SSHFileTransferDaemon((ContactSSH)fromContact,parentProvider);
    if (localPath.endsWith(System.getProperty("file.separator")))     localPath+=remotePath.substring(remotePath.lastIndexOf(System.getProperty("file.separator")) + 1);
    fileTransferDaemon.downloadFile(remotePath,localPath);
    return new FileTransferSSHImpl(fileTransferDaemon);
  }
 else   if (fromContact == null) {
    SSHFileTransferDaemon fileTransferDaemon=new SSHFileTransferDaemon((ContactSSH)toContact,parentProvider);
    fileTransferDaemon.uploadFile(remotePath,localPath);
    return new FileTransferSSHImpl(fileTransferDaemon);
  }
  logger.error("we should not be here !");
  return null;
}
