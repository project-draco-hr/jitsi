{
  if (toContact == null) {
    ContactSSHFileTransferDaemon fileTransferDaemon=new ContactSSHFileTransferDaemon((ContactSSH)fromContact,opSetPersPresence,instantMessaging,parentProvider);
    if (localPath.endsWith(System.getProperty("file.separator")))     localPath+=remotePath.substring(remotePath.lastIndexOf('/') + 1);
    fileTransferDaemon.downloadFile(remotePath,localPath);
    return;
  }
 else   if (fromContact == null) {
    ContactSSHFileTransferDaemon fileTransferDaemon=new ContactSSHFileTransferDaemon((ContactSSH)toContact,opSetPersPresence,instantMessaging,parentProvider);
    fileTransferDaemon.uploadFile(remotePath,localPath);
    return;
  }
  logger.error("we should not be here !");
}
