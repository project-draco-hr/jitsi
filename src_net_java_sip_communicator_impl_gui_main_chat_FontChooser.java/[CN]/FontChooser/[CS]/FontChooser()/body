{
  ResourceManagementService res=GuiActivator.getResources();
  this.setLayout(new BorderLayout(5,5));
  this.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));
  GraphicsEnvironment ge=GraphicsEnvironment.getLocalGraphicsEnvironment();
  this.fontFamilies=ge.getAvailableFontFamilyNames();
  this.fontFamilyPanel=new InputList(res.getI18NString("service.gui.FONT_FAMILY"),this.fontFamilies);
  this.fontFamilyPanel.addListSelectionListener(this);
  this.fontSizePanel=new InputList(res.getI18NString("service.gui.FONT_SIZE"),this.fontSizes);
  this.fontSizePanel.addListSelectionListener(this);
  JPanel listsPanels=new JPanel(new GridLayout(1,2,5,5));
  listsPanels.add(this.fontFamilyPanel,BorderLayout.WEST);
  listsPanels.add(this.fontSizePanel,BorderLayout.EAST);
  JLabel styleLabel=new JLabel(res.getI18NString("service.gui.FONT_STYLE"));
  styleLabel.setPreferredSize(new Dimension(100,0));
  styleLabel.setFont(styleLabel.getFont().deriveFont(Font.BOLD));
  this.boldCheckBox=new JCheckBox(res.getI18NString("service.gui.FONT_BOLD"));
  this.boldCheckBox.addActionListener(this);
  this.boldCheckBox.setOpaque(false);
  this.italicCheckBox=new JCheckBox(res.getI18NString("service.gui.FONT_ITALIC"));
  this.italicCheckBox.addActionListener(this);
  this.underlineCheckBox=new JCheckBox(res.getI18NString("service.gui.FONT_UNDERLINE"));
  this.underlineCheckBox.addActionListener(this);
  JPanel styleGridPanel=new JPanel(new GridLayout(1,3,5,5));
  styleGridPanel.add(this.boldCheckBox);
  styleGridPanel.add(this.italicCheckBox);
  styleGridPanel.add(this.underlineCheckBox);
  JPanel stylePanel=new JPanel(new BorderLayout(10,10));
  stylePanel.add(styleLabel,BorderLayout.WEST);
  stylePanel.add(styleGridPanel,BorderLayout.CENTER);
  JLabel colorTextLabel=new JLabel(res.getI18NString("service.gui.FONT_COLOR"));
  colorTextLabel.setPreferredSize(new Dimension(100,0));
  colorTextLabel.setFont(styleLabel.getFont().deriveFont(Font.BOLD));
  this.colorLabel=new ColorLabel();
  this.colorLabel.setOpaque(true);
  this.colorLabel.setBackground(Color.BLACK);
  this.colorLabel.setPreferredSize(new Dimension(18,18));
  JButton colorButton=new JButton(res.getI18NString("service.gui.SELECT_COLOR"));
  colorButton.addActionListener(this);
  colorButton.setName(ACTCMD_CHOOSE_COLOR);
  JPanel colorPanelCenter=new JPanel(new FlowLayout(FlowLayout.LEFT));
  colorPanelCenter.add(colorLabel);
  colorPanelCenter.add(colorButton);
  JPanel colorPanel=new JPanel(new BorderLayout());
  colorPanel.add(colorTextLabel,BorderLayout.WEST);
  colorPanel.add(colorPanelCenter,BorderLayout.CENTER);
  JPanel formatPanel=new JPanel();
  formatPanel.setLayout(new BoxLayout(formatPanel,BoxLayout.Y_AXIS));
  formatPanel.add(listsPanels);
  formatPanel.add(stylePanel);
  formatPanel.add(colorPanel);
  this.add(formatPanel,BorderLayout.NORTH);
  this.previewLabel=new JLabel(previewText,JLabel.CENTER);
  this.previewLabel.setOpaque(true);
  this.previewLabel.setBackground(Color.WHITE);
  this.previewLabel.setPreferredSize(new Dimension(0,100));
  this.previewLabel.setBorder(BorderFactory.createLineBorder(Color.BLACK,1));
  this.add(this.previewLabel,BorderLayout.CENTER);
  initDefaults();
}
