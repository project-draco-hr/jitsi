{
  this.registerMessage(sender.getName(),calendar,message);
  String chatString="<HTML><DIV style=\"background-color:" + Constants.FONT_CHAT_HEADER_COLOR + ";text-align:center;font-weight:bold;font-size:"+ Constants.FONT_SIZE+ "\">"+ calendar.get(Calendar.DAY_OF_MONTH)+ "/"+ calendar.get(Calendar.MONTH)+ 1+ "/"+ calendar.get(Calendar.YEAR)+ " "+ "</DIV>";
  for (int i=0; i < this.chatBuffer.size(); i++) {
    ChatMessage chatMessage=(ChatMessage)this.chatBuffer.get(i);
    chatString+="<DIV style=\"font-family:" + Constants.FONT_NAME + ";font-size:"+ Constants.FONT_SIZE+ ";color:"+ Constants.FONT_OUT_MSG_COLOR+ ";font-weight:bold;\">"+ chatMessage.getSenderName()+ " at "+ chatMessage.getCalendar().get(Calendar.HOUR_OF_DAY)+ ":"+ proccessMinutes(chatMessage.getCalendar().get(Calendar.MINUTE))+ "</DIV>"+ "<DIV style=\"font-family:"+ Constants.FONT_NAME+ ";font-size:"+ Constants.FONT_SIZE+ "\">"+ processSmilies(processNewLines(processLinks(chatMessage.getMessage())))+ "</DIV>";
  }
  chatString+="</HTML>";
  this.chatEditorPane.setText(chatString);
  this.repaint();
  this.validate();
}
