{
  final VideoContainer videoContainer=new VideoContainer(null);
  videoContainer.setPreferredSize(new Dimension(0,0));
  GridBagConstraints videoContainerGridBagConstraints=new GridBagConstraints();
  videoContainerGridBagConstraints.fill=GridBagConstraints.BOTH;
  videoContainerGridBagConstraints.gridx=0;
  videoContainerGridBagConstraints.gridy=0;
  videoContainerGridBagConstraints.weightx=0;
  videoContainerGridBagConstraints.weighty=1;
  add(videoContainer,videoContainerGridBagConstraints);
  videoContainer.addContainerListener(new ContainerListener(){
    public void componentAdded(    ContainerEvent e){
      GridBagLayout layout=(GridBagLayout)getLayout();
      boolean videoContainerIsVisible=(videoContainer.getComponentCount() > 0);
      for (      Component component : getComponents()) {
        GridBagConstraints constraints=layout.getConstraints(component);
        if (videoContainerIsVisible) {
          constraints.weightx=(component == videoContainer) ? 1 : 0;
          scrollPane.setPreferredSize(SCROLL_PANE_PREFERRED_SIZE_IF_VIDEO);
        }
 else {
          constraints.weightx=(component == videoContainer) ? 0 : 1;
          if (SCROLL_PANE_PREFERRED_SIZE_IF_VIDEO.equals(scrollPane.getPreferredSize()))           scrollPane.setPreferredSize(null);
        }
        layout.setConstraints(component,constraints);
      }
      if (e.getID() == ContainerEvent.COMPONENT_ADDED) {
        Component component=e.getComponent();
        Dimension preferredSize=component.getPreferredSize();
        if ((preferredSize != null) && (preferredSize.width > 0) && (preferredSize.height > 0)) {
          ensureSize(component,preferredSize.width,preferredSize.height);
        }
 else {
          int s=Math.max(SCROLL_PANE_PREFERRED_SIZE_IF_VIDEO.width,SCROLL_PANE_PREFERRED_SIZE_IF_VIDEO.height);
          ensureSize(videoContainer,s,s);
        }
      }
    }
    public void componentRemoved(    ContainerEvent e){
      componentAdded(e);
    }
  }
);
  videoContainers.add(videoContainer);
}
