{
  this.currentStartDate=startDate;
  this.currentEndDate=endDate;
  if (dateHistoryTable.containsKey(startDate)) {
    ChatConversationPanel convPanel=(ChatConversationPanel)dateHistoryTable.get(startDate);
    this.historyPanel.removeAll();
    this.historyPanel.add(convPanel);
    historyPanel.revalidate();
    historyPanel.repaint();
  }
 else {
    SwingUtilities.invokeLater(new Thread(){
      public void run(){
        Collection msgList=msgHistory.findByPeriod(metaContact,currentStartDate,currentEndDate);
        historyPanel.removeAll();
        ChatConversationPanel convPanel=new ChatConversationPanel(HistoryWindow.this);
        historyPanel.add(convPanel);
        createHistory(convPanel,msgList,null);
        dateHistoryTable.put(currentStartDate,convPanel);
        historyPanel.revalidate();
        historyPanel.repaint();
      }
    }
);
  }
  this.lastExecutedSearch=PERIOD_SEARCH;
  this.searchStartDate=startDate;
}
