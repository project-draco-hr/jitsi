{
  if (chatConvPanel.getRightButtonMenu().isVisible()) {
    chatConvPanel.getRightButtonMenu().setVisible(false);
  }
 else   if (historyMenu.isPopupMenuVisible()) {
    MenuSelectionManager menuSelectionManager=MenuSelectionManager.defaultManager();
    menuSelectionManager.clearSelectedPath();
  }
 else {
    this.mainFrame.getContactListPanel().getContactList().removeHistoryWindowForContact(metaContact);
    this.dispose();
  }
}
