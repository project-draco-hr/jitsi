{
  if (groupToRemove.getSourceGroup().getGroupId().equals("0"))   return;
  if (logger.isTraceEnabled())   logger.trace("removing group " + groupToRemove);
  MsnContact[] contacts=groupToRemove.getSourceGroup().getContacts();
  ModListenerRemoveGroup removedContactsListener=new ModListenerRemoveGroup(contacts.length);
  contactListModManager.addModificationListener(removedContactsListener);
  for (int i=0; i < contacts.length; i++) {
    if (logger.isTraceEnabled())     logger.trace("removing contact from group " + contacts[i]);
    msnProvider.getMessenger().removeFriend(contacts[i].getEmail(),groupToRemove.getSourceGroup().getGroupId());
  }
  removedContactsListener.waitForLastEvent(contacts.length * 1000);
  contactListModManager.removeModificationListener(removedContactsListener);
  msnProvider.getMessenger().removeGroup(groupToRemove.getSourceGroup().getGroupId());
}
