{
  List<String> preferredEncryptionProtocols=getPeer().getProtocolProvider().getAccountID().getSortedEnabledEncryptionProtocolList();
  for (  String preferredEncryptionProtocol : preferredEncryptionProtocols) {
    String protoName=preferredEncryptionProtocol.substring(ProtocolProviderFactory.ENCRYPTION_PROTOCOL.length() + 1);
    if (setAndAddPreferredEncryptionProtocol(protoName,mediaType,localDescription,remoteDescription)) {
      return;
    }
  }
}
