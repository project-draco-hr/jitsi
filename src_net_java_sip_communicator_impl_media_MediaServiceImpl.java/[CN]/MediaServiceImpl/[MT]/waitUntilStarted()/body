{
synchronized (startingLock) {
    if (isStarting) {
      try {
        startingLock.wait();
      }
 catch (      InterruptedException ex) {
        logger.warn("Interrupted while waiting for the stack to start",ex);
      }
    }
  }
  assertStarted();
}
