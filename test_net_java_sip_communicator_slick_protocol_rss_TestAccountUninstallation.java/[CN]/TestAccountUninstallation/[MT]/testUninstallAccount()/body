{
  assertTrue("No accounts found.",!fixture.providerFactory.getRegisteredAccounts().isEmpty());
  assertNotNull("Found no provider corresponding to RSS",fixture.providerFactory.getProviderForAccount(fixture.provider.getAccountID()));
  assertTrue("Failed to remove provider",fixture.providerFactory.uninstallAccount(fixture.provider.getAccountID()));
  ServiceReference[] providerRefs=null;
  try {
    providerRefs=RssSlickFixture.bc.getServiceReferences(ProtocolProviderService.class.getName(),"(" + ProtocolProviderFactory.PROTOCOL + "="+ ProtocolNames.RSS+ ")");
  }
 catch (  InvalidSyntaxException ise) {
    fail("Invalid OSGi filter.Exception was: " + ise.getMessage());
  }
  assertTrue("Protocol provider service still registered as OSGi service",providerRefs == null || providerRefs.length == 0);
  assertTrue("Provider factory didn't properly uninstalled the provider" + "service we just uninstalled",fixture.providerFactory.getRegisteredAccounts().isEmpty() && fixture.providerFactory.getProviderForAccount(fixture.provider.getAccountID()) == null);
}
