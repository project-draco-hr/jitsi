{
  if (!checkInputBuffer(inputBuffer))   return BUFFER_PROCESSED_FAILED;
  if (isEOM(inputBuffer)) {
    propagateEOM(outputBuffer);
    return BUFFER_PROCESSED_OK;
  }
  if (inputBuffer.isDiscard()) {
    discardOutputBuffer(outputBuffer);
    return BUFFER_PROCESSED_OK;
  }
  return doProcess(inputBuffer,outputBuffer);
}
