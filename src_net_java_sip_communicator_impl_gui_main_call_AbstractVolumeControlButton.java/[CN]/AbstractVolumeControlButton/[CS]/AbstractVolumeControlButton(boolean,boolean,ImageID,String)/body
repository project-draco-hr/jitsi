{
  super(ImageLoader.getImage(ImageLoader.VOLUME_BUTTON_PRESSED),ImageLoader.getImage(iconImageID));
  this.iconImageID=iconImageID;
  if (fullScreen) {
    bgImage=ImageLoader.FULL_SCREEN_BUTTON_BG;
    pressedImage=ImageLoader.FULL_SCREEN_BUTTON_BG_PRESSED;
  }
 else {
    if (inSettingsPanel) {
      bgImage=ImageLoader.CALL_SETTING_BUTTON_BG;
      pressedImage=ImageLoader.CALL_SETTING_BUTTON_PRESSED_BG;
    }
 else {
      bgImage=ImageLoader.VOLUME_BUTTON;
      pressedImage=ImageLoader.VOLUME_BUTTON_PRESSED;
    }
  }
  loadSkin();
  if (toolTipTextKey != null) {
    setToolTipText(GuiActivator.getResources().getI18NString(toolTipTextKey));
  }
  final JSlider volumeSlider=new JSlider(JSlider.VERTICAL,0,100,50);
  volumeSlider.setPreferredSize(new Dimension(20,100));
  final VolumeControl volumeControl=getVolumeControl();
  if (volumeControl != null) {
    volumeSlider.setMinimum((int)(volumeControl.getMinValue() * MULTIPLIER));
    volumeSlider.setMaximum((int)(volumeControl.getMaxValue() * MULTIPLIER));
    volumeSlider.setValue((int)(volumeControl.getVolume() * MULTIPLIER));
  }
  volumeSlider.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      JSlider source=(JSlider)e.getSource();
      int volume=source.getValue();
      volumeControl.setVolume((float)volume / MULTIPLIER);
    }
  }
);
  final JPopupMenu sliderMenu=new JPopupMenu();
  sliderMenu.setInvoker(this);
  sliderMenu.add(volumeSlider);
  this.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent arg0){
      Point location=new Point(getX(),getY() + getHeight());
      SwingUtilities.convertPointToScreen(location,AbstractVolumeControlButton.this.getParent());
      if (fullScreen)       location.setLocation(location.getX(),location.getY() - sliderMenu.getPreferredSize().getHeight() - getHeight());
      if (volumeControl != null)       volumeSlider.setValue((int)(volumeControl.getVolume() * MULTIPLIER));
      sliderMenu.setLocation(location);
      sliderMenu.setVisible(!sliderMenu.isVisible());
    }
  }
);
}
