{
  List<GTalkCandidatePacketExtension> exts=new ArrayList<GTalkCandidatePacketExtension>();
  for (  Component component : stream.getComponents()) {
    String mediaName=null;
    if (name.equals("rtp")) {
      if (component.getComponentID() == 1) {
        mediaName=name;
      }
 else {
        mediaName="rtcp";
      }
    }
 else     if (name.equals("video_rtp")) {
      if (component.getComponentID() == 1) {
        mediaName=name;
      }
 else {
        mediaName="video_rtcp";
      }
    }
    List<LocalCandidate> candToRemove=new ArrayList<LocalCandidate>();
    List<LocalCandidate> candidates=component.getLocalCandidates();
    for (    LocalCandidate candidate : component.getLocalCandidates()) {
      if (candidate instanceof UPNPCandidate) {
        LocalCandidate base=candidate.getBase();
        candToRemove.add(base);
      }
    }
    for (    Candidate candidate : candToRemove) {
      candidates.remove(candidate);
    }
    for (    Candidate candidate : candidates) {
      GTalkCandidatePacketExtension e=createCandidate(candidate,mediaName);
      if (e != null)       exts.add(e);
    }
  }
  return exts;
}
