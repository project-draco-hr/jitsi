{
  List<MediaFormat> mediaFmts=new ArrayList<MediaFormat>();
  Vector<String> formatStrings=null;
  try {
    formatStrings=(Vector<String>)mediaDesc.getMedia().getMediaFormats(true);
  }
 catch (  SdpParseException exc) {
    logger.debug("A funny thing just happened ...",exc);
    return mediaFmts;
  }
  Iterator<String> fmtStringsIter=formatStrings.iterator();
  while (fmtStringsIter.hasNext()) {
    String ptStr=fmtStringsIter.next();
    byte pt=-1;
    try {
      pt=Byte.parseByte(ptStr);
    }
 catch (    NumberFormatException e) {
      logger.debug(ptStr + " is not a valid payload type",e);
      continue;
    }
    Attribute rtpmap=null;
    try {
      rtpmap=findPayloadTypeSpecificAttribute(mediaDesc.getAttributes(false),SdpConstants.RTPMAP,pt);
    }
 catch (    SdpException e) {
      logger.debug(rtpmap + " does not seem like a valid rtpmap: attribute",e);
    }
    Attribute fmtp=null;
    try {
      fmtp=findPayloadTypeSpecificAttribute(mediaDesc.getAttributes(false),"fmtp",pt);
    }
 catch (    SdpException exc) {
      logger.debug(fmtp + " does not seem like a valid fmtp: attribute",exc);
    }
    MediaFormat mediaFormat=null;
    try {
      mediaFormat=createFormat(pt,rtpmap,fmtp,ptRegistry);
    }
 catch (    SdpException e) {
      logger.debug("A funny thing just happened ...");
      continue;
    }
    if (mediaFormat != null) {
      mediaFmts.add(mediaFormat);
    }
  }
  return mediaFmts;
}
